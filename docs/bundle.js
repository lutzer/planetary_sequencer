!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([,function(t,e,n){var i;
/**
 * @license Complex.js v2.0.11 11/02/2016
 *
 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(n){"use strict";var r=function(t){return.5*(Math.exp(t)+Math.exp(-t))},o=function(t){return.5*(Math.exp(t)-Math.exp(-t))},a=function(){throw SyntaxError("Invalid Param")};function s(t,e){var n=Math.abs(t),i=Math.abs(e);return 0===t?Math.log(i):0===e?Math.log(n):n<3e3&&i<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function u(t,e){if(!(this instanceof u))return new u(t,e);var n=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return u.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return u.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):a();break;case"string":n.im=n.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,o=0;null===i&&a();for(var s=0;s<i.length;s++){var l=i[s];" "===l||"\t"===l||"\n"===l||("+"===l?r++:"-"===l?o++:"i"===l||"I"===l?(r+o===0&&a()," "===i[s+1]||isNaN(i[s+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+i[s+1]),s++),r=o=0):((r+o===0||isNaN(l))&&a(),"i"===i[s+1]||"I"===i[s+1]?(n.im+=parseFloat((o%2?"-":"")+l),s++):n.re+=parseFloat((o%2?"-":"")+l),r=o=0))}r+o>0&&a();break;case"number":n.im=0,n.re=t;break;default:a()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}u.prototype={re:0,im:0,sign:function(){var t=this.abs();return new u(this.re/t,this.im/t)},add:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:0===n.im&&0===this.im?new u(this.re*n.re,0):new u(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new u(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return u.NAN;if(this.isInfinite()||n.isZero())return u.INFINITY;if(this.isZero()||n.isInfinite())return u.ZERO;t=this.re,e=this.im;var i,r,o=n.re,a=n.im;return 0===a?new u(t/o,e/o):Math.abs(o)<Math.abs(a)?new u((t*(r=o/a)+e)/(i=o*r+a),(e*r-t)/i):new u((t+e*(r=a/o))/(i=a*r+o),(e-t*r)/i)},pow:function(t,e){var n=new u(t,e);if(t=this.re,e=this.im,n.isZero())return u.ONE;if(0===n.im){if(0===e&&t>=0)return new u(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new u(Math.pow(e,n.re),0);case 1:return new u(0,Math.pow(e,n.re));case 2:return new u(-Math.pow(e,n.re),0);case 3:return new u(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return u.ZERO;var i=Math.atan2(e,t),r=s(t,e);return t=Math.exp(n.re*r-n.im*i),e=n.im*r+n.re*i,new u(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,i=this.im,r=this.abs();if(n>=0){if(0===i)return new u(Math.sqrt(n),0);t=.5*Math.sqrt(2*(r+n))}else t=Math.abs(i)/Math.sqrt(2*(r-n));return e=n<=0?.5*Math.sqrt(2*(r-n)):Math.abs(i)/Math.sqrt(2*(r+n)),new u(t,i<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new u(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new u(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new u(s(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,n=Math.abs(t),i=Math.abs(e),n<3e3&&i<3e3?Math.sqrt(n*n+i*i):(n<i?(n=i,i=t/e):i=e/t,n*Math.sqrt(1+i*i));var t,e,n,i},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new u(Math.sin(t)*r(e),Math.cos(t)*o(e))},cos:function(){var t=this.re,e=this.im;return new u(Math.cos(t)*r(e),-Math.sin(t)*o(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+r(e);return new u(Math.sin(t)/n,o(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-r(e);return new u(-Math.sin(t)/n,o(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*r(2*e)+.5*Math.cos(2*t);return new u(Math.cos(t)*r(e)/n,Math.sin(t)*o(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*r(2*e)-.5*Math.cos(2*t);return new u(Math.sin(t)*r(e)/n,-Math.cos(t)*o(e)/n)},asin:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),i=new u(n.re-e,n.im+t).log();return new u(i.im,-i.re)},acos:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),i=new u(n.re-e,n.im+t).log();return new u(Math.PI/2-i.im,i.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new u(0,1/0);if(-1===e)return new u(0,-1/0)}var n=t*t+(1-e)*(1-e),i=new u((1-e*e-t*t)/n,-2*t/n).log();return new u(-.5*i.im,.5*i.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new u(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atan():new u(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,1/0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acos():new u(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asin():new u(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new u(o(t)*Math.cos(e),r(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new u(r(t)*Math.cos(e),o(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=r(t)+Math.cos(e);return new u(o(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=r(t)-Math.cos(e);return new u(o(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-r(2*t);return new u(-2*o(t)*Math.cos(e)/n,2*r(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+r(2*t);return new u(2*r(t)*Math.cos(e)/n,-2*o(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,i=1-t,r=1+t,o=i*i+e*e,a=0!==o?new u((r*i-e*e)/o,(e*i+r*e)/o):new u(-1!==t?t/0:0,0!==e?e/0:0),l=a.re;return a.re=s(a.re,a.im)/2,a.im=Math.atan2(a.im,l)/2,n&&(a.im=-a.im),a},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atanh():new u(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new u(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asinh():new u(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return u.INFINITY;var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acosh():new u(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new u(t/n,-e/n)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new u(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new u(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new u(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new u(t,e);return Math.abs(n.re-this.re)<=u.EPSILON&&Math.abs(n.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),1!==(e=Math.abs(e))&&(n+=e),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-16,void 0===(i=function(){return u}.apply(e,[]))||(t.exports=i)}()},function(t,e,n){var i=n(6),r=n(12),o=n(13);t.exports=function t(e){e=o(e,null);var n,a,s,u=Math.random,l=null,f=!1;return c(e),{value:h,createRandom:function(e){return t(e)},setSeed:c,getSeed:function(){return n},getRandomSeed:function(){return String(Math.floor(1e6*Math.random()))},valueNonZero:function(){var t=0;for(;0===t;)t=h();return t},permuteNoise:function(){s=d()},noise1D:function(t,e,n){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");return e=o(e,1),(n=o(n,1))*s.noise2D(t*e,0)},noise2D:function(t,e,n,i){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");if(!isFinite(e))throw new TypeError("y component for noise() must be finite");return n=o(n,1),(i=o(i,1))*s.noise2D(t*n,e*n)},noise3D:function(t,e,n,i,r){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");if(!isFinite(e))throw new TypeError("y component for noise() must be finite");if(!isFinite(n))throw new TypeError("z component for noise() must be finite");return i=o(i,1),(r=o(r,1))*s.noise3D(t*i,e*i,n*i)},noise4D:function(t,e,n,i,r,a){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");if(!isFinite(e))throw new TypeError("y component for noise() must be finite");if(!isFinite(n))throw new TypeError("z component for noise() must be finite");if(!isFinite(i))throw new TypeError("w component for noise() must be finite");return r=o(r,1),(a=o(a,1))*s.noise4D(t*r,e*r,n*r,i*r)},sign:function(){return p()?1:-1},boolean:p,chance:function(t){if("number"!=typeof(t=o(t,.5)))throw new TypeError("expected n to be a number");return h()<t},range:y,rangeFloor:_,pick:function(t){return 0===t.length?void 0:t[_(0,t.length)]},shuffle:function(t){if(!Array.isArray(t))throw new TypeError("Expected Array, got "+typeof t);var e,n,i=t.length,r=t.slice();for(;i;)e=Math.floor(h()*i--),n=r[i],r[i]=r[e],r[e]=n;return r},onCircle:v,insideCircle:function(t,e){t=o(t,1),v(1,e=e||[]);var n=t*Math.sqrt(h());return e[0]*=n,e[1]*=n,e},onSphere:function(t,e){t=o(t,1),e=e||[];var n=h()*Math.PI*2,i=2*h()-1,r=n,a=Math.acos(i);return e[0]=t*Math.sin(a)*Math.cos(r),e[1]=t*Math.sin(a)*Math.sin(r),e[2]=t*Math.cos(a),e},insideSphere:function(t,e){t=o(t,1),e=e||[];var n=h()*Math.PI*2,i=2*h()-1,r=h(),a=n,s=Math.acos(i),u=t*Math.cbrt(r);return e[0]=u*Math.sin(s)*Math.cos(a),e[1]=u*Math.sin(s)*Math.sin(a),e[2]=u*Math.cos(s),e},quaternion:function(t){t=t||[];var e=h(),n=h(),i=h(),r=Math.sqrt(1-e),o=Math.sqrt(e),a=2*Math.PI*n,s=2*Math.PI*i,u=Math.sin(a)*r,l=Math.cos(a)*r,f=Math.sin(s)*o,c=Math.cos(s)*o;return t[0]=u,t[1]=l,t[2]=f,t[3]=c,t},weighted:g,weightedSet:function(t){return 0===(t=t||[]).length?null:t[m(t)].value},weightedSetIndex:m,gaussian:function(t,e){if(t=o(t,0),e=o(e,1),f){f=!1;var n=l;return l=null,t+e*n}var i=0,r=0,a=0;do{i=2*h()-1,r=2*h()-1,a=i*i+r*r}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);return l=r*s,f=!0,t+e*(i*s)}};function c(t,e){"number"==typeof t||"string"==typeof t?a=i(n=t,e):(n=void 0,a=u),s=d(),l=null,f=!1}function h(){return a()}function d(){return new r(a)}function p(){return h()>.5}function y(t,e){if(void 0===e&&(e=t,t=0),"number"!=typeof t||"number"!=typeof e)throw new TypeError("Expected all arguments to be numbers");return h()*(e-t)+t}function _(t,e){if(void 0===e&&(e=t,t=0),"number"!=typeof t||"number"!=typeof e)throw new TypeError("Expected all arguments to be numbers");return Math.floor(y(t,e))}function v(t,e){t=o(t,1),e=e||[];var n=2*h()*Math.PI;return e[0]=t*Math.cos(n),e[1]=t*Math.sin(n),e}function m(t){return 0===(t=t||[]).length?-1:g(t.map((function(t){return t.weight})))}function g(t){if(0===(t=t||[]).length)return-1;var e,n=0;for(e=0;e<t.length;e++)n+=t[e];if(n<=0)throw new Error("Weights must sum to > 0");var i=h()*n;for(e=0;e<t.length;e++){if(i<t[e])return e;i-=t[e]}return 0}}()},function(t,e,n){(function(t,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",f="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",y="[object Map]",_="[object Number]",v="[object Object]",m="[object RegExp]",g="[object Set]",b="[object String]",w="[object Symbol]",S="[object WeakMap]",T="[object ArrayBuffer]",x="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",P="[object Int16Array]",E="[object Int32Array]",k="[object Uint8Array]",N="[object Uint16Array]",F="[object Uint32Array]",C=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,I=/[&<>"']/g,D=RegExp(j.source),B=RegExp(I.source),L=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,Z=RegExp(Q.source),$=/^\s+|\s+$/g,H=/^\s+/,X=/\s+$/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,K=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,it=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="[\\ud800-\\udfff]",yt="["+dt+"]",_t="["+ht+"]",vt="\\d+",mt="[\\u2700-\\u27bf]",gt="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+dt+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",St="[^\\ud800-\\udfff]",Tt="(?:\\ud83c[\\udde6-\\uddff]){2}",xt="[\\ud800-\\udbff][\\udc00-\\udfff]",At="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ot="(?:"+gt+"|"+bt+")",Mt="(?:"+At+"|"+bt+")",Pt="(?:"+_t+"|"+wt+")"+"?",Et="[\\ufe0e\\ufe0f]?"+Pt+("(?:\\u200d(?:"+[St,Tt,xt].join("|")+")[\\ufe0e\\ufe0f]?"+Pt+")*"),kt="(?:"+[mt,Tt,xt].join("|")+")"+Et,Nt="(?:"+[St+_t+"?",_t,Tt,xt,pt].join("|")+")",Ft=RegExp("['’]","g"),Ct=RegExp(_t,"g"),qt=RegExp(wt+"(?="+wt+")|"+Nt+Et,"g"),Rt=RegExp([At+"?"+gt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[yt,At,"$"].join("|")+")",Mt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[yt,At+Ot,"$"].join("|")+")",At+"?"+Ot+"+(?:['’](?:d|ll|m|re|s|t|ve))?",At+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,kt].join("|"),"g"),jt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),It=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Dt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bt=-1,Lt={};Lt[A]=Lt[O]=Lt[M]=Lt[P]=Lt[E]=Lt[k]=Lt["[object Uint8ClampedArray]"]=Lt[N]=Lt[F]=!0,Lt[u]=Lt[l]=Lt[T]=Lt[f]=Lt[x]=Lt[c]=Lt[h]=Lt[d]=Lt[y]=Lt[_]=Lt[v]=Lt[m]=Lt[g]=Lt[b]=Lt[S]=!1;var zt={};zt[u]=zt[l]=zt[T]=zt[x]=zt[f]=zt[c]=zt[A]=zt[O]=zt[M]=zt[P]=zt[E]=zt[y]=zt[_]=zt[v]=zt[m]=zt[g]=zt[b]=zt[w]=zt[k]=zt["[object Uint8ClampedArray]"]=zt[N]=zt[F]=!0,zt[h]=zt[d]=zt[S]=!1;var Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vt=parseFloat,Wt=parseInt,Gt="object"==typeof t&&t&&t.Object===Object&&t,Qt="object"==typeof self&&self&&self.Object===Object&&self,Zt=Gt||Qt||Function("return this")(),$t=e&&!e.nodeType&&e,Ht=$t&&"object"==typeof i&&i&&!i.nodeType&&i,Xt=Ht&&Ht.exports===$t,Yt=Xt&&Gt.process,Jt=function(){try{var t=Ht&&Ht.require&&Ht.require("util").types;return t||Yt&&Yt.binding&&Yt.binding("util")}catch(t){}}(),Kt=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,ne=Jt&&Jt.isRegExp,ie=Jt&&Jt.isSet,re=Jt&&Jt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function se(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function ue(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function fe(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function ce(t,e){return!!(null==t?0:t.length)&&we(t,e,0)>-1}function he(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function de(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function pe(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ye(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function _e(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function ve(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var me=Ae("length");function ge(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function be(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function we(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):be(t,Te,n)}function Se(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Te(t){return t!=t}function xe(t,e){var n=null==t?0:t.length;return n?Pe(t,e)/n:NaN}function Ae(t){return function(e){return null==e?void 0:e[t]}}function Oe(t){return function(e){return null==t?void 0:t[e]}}function Me(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Pe(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ee(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function ke(t){return function(e){return t(e)}}function Ne(t,e){return de(e,(function(e){return t[e]}))}function Fe(t,e){return t.has(e)}function Ce(t,e){for(var n=-1,i=t.length;++n<i&&we(e,t[n],0)>-1;);return n}function qe(t,e){for(var n=t.length;n--&&we(e,t[n],0)>-1;);return n}function Re(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var je=Oe({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n",ſ:"s"}),Ie=Oe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function De(t){return"\\"+Ut[t]}function Be(t){return jt.test(t)}function Le(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function ze(t,e){return function(n){return t(e(n))}}function Ue(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[r++]=n)}return o}function Ve(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function We(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ge(t){return Be(t)?function(t){var e=qt.lastIndex=0;for(;qt.test(t);)++e;return e}(t):me(t)}function Qe(t){return Be(t)?function(t){return t.match(qt)||[]}(t):function(t){return t.split("")}(t)}var Ze=Oe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $e=function t(e){var n,i=(e=null==e?Zt:$e.defaults(Zt.Object(),e,$e.pick(Zt,Dt))).Array,r=e.Date,ht=e.Error,dt=e.Function,pt=e.Math,yt=e.Object,_t=e.RegExp,vt=e.String,mt=e.TypeError,gt=i.prototype,bt=dt.prototype,wt=yt.prototype,St=e["__core-js_shared__"],Tt=bt.toString,xt=wt.hasOwnProperty,At=0,Ot=(n=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Mt=wt.toString,Pt=Tt.call(yt),Et=Zt._,kt=_t("^"+Tt.call(xt).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Xt?e.Buffer:void 0,qt=e.Symbol,jt=e.Uint8Array,Ut=Nt?Nt.allocUnsafe:void 0,Gt=ze(yt.getPrototypeOf,yt),Qt=yt.create,$t=wt.propertyIsEnumerable,Ht=gt.splice,Yt=qt?qt.isConcatSpreadable:void 0,Jt=qt?qt.iterator:void 0,me=qt?qt.toStringTag:void 0,Oe=function(){try{var t=Kr(yt,"defineProperty");return t({},"",{}),t}catch(t){}}(),He=e.clearTimeout!==Zt.clearTimeout&&e.clearTimeout,Xe=r&&r.now!==Zt.Date.now&&r.now,Ye=e.setTimeout!==Zt.setTimeout&&e.setTimeout,Je=pt.ceil,Ke=pt.floor,tn=yt.getOwnPropertySymbols,en=Nt?Nt.isBuffer:void 0,nn=e.isFinite,rn=gt.join,on=ze(yt.keys,yt),an=pt.max,sn=pt.min,un=r.now,ln=e.parseInt,fn=pt.random,cn=gt.reverse,hn=Kr(e,"DataView"),dn=Kr(e,"Map"),pn=Kr(e,"Promise"),yn=Kr(e,"Set"),_n=Kr(e,"WeakMap"),vn=Kr(yt,"create"),mn=_n&&new _n,gn={},bn=Mo(hn),wn=Mo(dn),Sn=Mo(pn),Tn=Mo(yn),xn=Mo(_n),An=qt?qt.prototype:void 0,On=An?An.valueOf:void 0,Mn=An?An.toString:void 0;function Pn(t){if(Wa(t)&&!Ca(t)&&!(t instanceof Fn)){if(t instanceof Nn)return t;if(xt.call(t,"__wrapped__"))return Po(t)}return new Nn(t)}var En=function(){function t(){}return function(e){if(!Va(e))return{};if(Qt)return Qt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function kn(){}function Nn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Fn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function jn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Rn;++e<n;)this.add(t[e])}function In(t){var e=this.__data__=new qn(t);this.size=e.size}function Dn(t,e){var n=Ca(t),i=!n&&Fa(t),r=!n&&!i&&Ia(t),o=!n&&!i&&!r&&Ja(t),a=n||i||r||o,s=a?Ee(t.length,vt):[],u=s.length;for(var l in t)!e&&!xt.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ao(l,u))||s.push(l);return s}function Bn(t){var e=t.length;return e?t[ji(0,e-1)]:void 0}function Ln(t,e){return xo(vr(t),Hn(e,0,t.length))}function zn(t){return xo(vr(t))}function Un(t,e,n){(void 0!==n&&!Ea(t[e],n)||void 0===n&&!(e in t))&&Zn(t,e,n)}function Vn(t,e,n){var i=t[e];xt.call(t,e)&&Ea(i,n)&&(void 0!==n||e in t)||Zn(t,e,n)}function Wn(t,e){for(var n=t.length;n--;)if(Ea(t[n][0],e))return n;return-1}function Gn(t,e,n,i){return ti(t,(function(t,r,o){e(i,t,n(t),o)})),i}function Qn(t,e){return t&&mr(e,bs(e),t)}function Zn(t,e,n){"__proto__"==e&&Oe?Oe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $n(t,e){for(var n=-1,r=e.length,o=i(r),a=null==t;++n<r;)o[n]=a?void 0:ys(t,e[n]);return o}function Hn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Xn(t,e,n,i,r,o){var a,s=1&e,l=2&e,h=4&e;if(n&&(a=r?n(t,i,r,o):n(t)),void 0!==a)return a;if(!Va(t))return t;var S=Ca(t);if(S){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&xt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return vr(t,a)}else{var C=no(t),q=C==d||C==p;if(Ia(t))return cr(t,s);if(C==v||C==u||q&&!r){if(a=l||q?{}:ro(t),!s)return l?function(t,e){return mr(t,eo(t),e)}(t,function(t,e){return t&&mr(e,ws(e),t)}(a,t)):function(t,e){return mr(t,to(t),e)}(t,Qn(a,t))}else{if(!zt[C])return r?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case T:return hr(t);case f:case c:return new i(+t);case x:return function(t,e){var n=e?hr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case A:case O:case M:case P:case E:case k:case"[object Uint8ClampedArray]":case N:case F:return dr(t,n);case y:return new i;case _:case b:return new i(t);case m:return function(t){var e=new t.constructor(t.source,it.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return new i;case w:return r=t,On?yt(On.call(r)):{}}var r}(t,C,s)}}o||(o=new In);var R=o.get(t);if(R)return R;o.set(t,a),Ha(t)?t.forEach((function(i){a.add(Xn(i,e,n,i,t,o))})):Ga(t)&&t.forEach((function(i,r){a.set(r,Xn(i,e,n,r,t,o))}));var j=S?void 0:(h?l?Qr:Gr:l?ws:bs)(t);return se(j||t,(function(i,r){j&&(i=t[r=i]),Vn(a,r,Xn(i,e,n,r,t,o))})),a}function Yn(t,e,n){var i=n.length;if(null==t)return!i;for(t=yt(t);i--;){var r=n[i],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new mt(o);return bo((function(){t.apply(void 0,n)}),e)}function Kn(t,e,n,i){var r=-1,o=ce,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=de(e,ke(n))),i?(o=he,a=!1):e.length>=200&&(o=Fe,a=!1,e=new jn(e));t:for(;++r<s;){var f=t[r],c=null==n?f:n(f);if(f=i||0!==f?f:0,a&&c==c){for(var h=l;h--;)if(e[h]===c)continue t;u.push(f)}else o(e,c,i)||u.push(f)}return u}Pn.templateSettings={escape:L,evaluate:z,interpolate:U,variable:"",imports:{_:Pn}},Pn.prototype=kn.prototype,Pn.prototype.constructor=Pn,Nn.prototype=En(kn.prototype),Nn.prototype.constructor=Nn,Fn.prototype=En(kn.prototype),Fn.prototype.constructor=Fn,Cn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Cn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Cn.prototype.get=function(t){var e=this.__data__;if(vn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return xt.call(e,t)?e[t]:void 0},Cn.prototype.has=function(t){var e=this.__data__;return vn?void 0!==e[t]:xt.call(e,t)},Cn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vn&&void 0===e?"__lodash_hash_undefined__":e,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=Wn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ht.call(e,n,1),--this.size,!0)},qn.prototype.get=function(t){var e=this.__data__,n=Wn(e,t);return n<0?void 0:e[n][1]},qn.prototype.has=function(t){return Wn(this.__data__,t)>-1},qn.prototype.set=function(t,e){var n=this.__data__,i=Wn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Cn,map:new(dn||qn),string:new Cn}},Rn.prototype.delete=function(t){var e=Yr(this,t).delete(t);return this.size-=e?1:0,e},Rn.prototype.get=function(t){return Yr(this,t).get(t)},Rn.prototype.has=function(t){return Yr(this,t).has(t)},Rn.prototype.set=function(t,e){var n=Yr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},jn.prototype.add=jn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},jn.prototype.has=function(t){return this.__data__.has(t)},In.prototype.clear=function(){this.__data__=new qn,this.size=0},In.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},In.prototype.get=function(t){return this.__data__.get(t)},In.prototype.has=function(t){return this.__data__.has(t)},In.prototype.set=function(t,e){var n=this.__data__;if(n instanceof qn){var i=n.__data__;if(!dn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Rn(i)}return n.set(t,e),this.size=n.size,this};var ti=wr(ui),ei=wr(li,!0);function ni(t,e){var n=!0;return ti(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function ii(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(void 0===s?a==a&&!Ya(a):n(a,s)))var s=a,u=o}return u}function ri(t,e){var n=[];return ti(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function oi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=oo),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?oi(s,e-1,n,i,r):pe(r,s):i||(r[r.length]=s)}return r}var ai=Sr(),si=Sr(!0);function ui(t,e){return t&&ai(t,e,bs)}function li(t,e){return t&&si(t,e,bs)}function fi(t,e){return fe(e,(function(e){return La(t[e])}))}function ci(t,e){for(var n=0,i=(e=sr(e,t)).length;null!=t&&n<i;)t=t[Oo(e[n++])];return n&&n==i?t:void 0}function hi(t,e,n){var i=e(t);return Ca(t)?i:pe(i,n(t))}function di(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":me&&me in yt(t)?function(t){var e=xt.call(t,me),n=t[me];try{t[me]=void 0;var i=!0}catch(t){}var r=Mt.call(t);i&&(e?t[me]=n:delete t[me]);return r}(t):function(t){return Mt.call(t)}(t)}function pi(t,e){return t>e}function yi(t,e){return null!=t&&xt.call(t,e)}function _i(t,e){return null!=t&&e in yt(t)}function vi(t,e,n){for(var r=n?he:ce,o=t[0].length,a=t.length,s=a,u=i(a),l=1/0,f=[];s--;){var c=t[s];s&&e&&(c=de(c,ke(e))),l=sn(c.length,l),u[s]=!n&&(e||o>=120&&c.length>=120)?new jn(s&&c):void 0}c=t[0];var h=-1,d=u[0];t:for(;++h<o&&f.length<l;){var p=c[h],y=e?e(p):p;if(p=n||0!==p?p:0,!(d?Fe(d,y):r(f,y,n))){for(s=a;--s;){var _=u[s];if(!(_?Fe(_,y):r(t[s],y,n)))continue t}d&&d.push(y),f.push(p)}}return f}function mi(t,e,n){var i=null==(t=_o(t,e=sr(e,t)))?t:t[Oo(Bo(e))];return null==i?void 0:oe(i,t,n)}function gi(t){return Wa(t)&&di(t)==u}function bi(t,e,n,i,r){return t===e||(null==t||null==e||!Wa(t)&&!Wa(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=Ca(t),s=Ca(e),d=a?l:no(t),p=s?l:no(e),S=(d=d==u?v:d)==v,A=(p=p==u?v:p)==v,O=d==p;if(O&&Ia(t)){if(!Ia(e))return!1;a=!0,S=!1}if(O&&!S)return o||(o=new In),a||Ja(t)?Vr(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!o(new jt(t),new jt(e)));case f:case c:case _:return Ea(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case y:var s=Le;case g:var u=1&i;if(s||(s=Ve),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var d=Vr(s(t),s(e),i,r,o,a);return a.delete(t),d;case w:if(On)return On.call(t)==On.call(e)}return!1}(t,e,d,n,i,r,o);if(!(1&n)){var M=S&&xt.call(t,"__wrapped__"),P=A&&xt.call(e,"__wrapped__");if(M||P){var E=M?t.value():t,k=P?e.value():e;return o||(o=new In),r(E,k,n,i,o)}}if(!O)return!1;return o||(o=new In),function(t,e,n,i,r,o){var a=1&n,s=Gr(t),u=s.length,l=Gr(e).length;if(u!=l&&!a)return!1;var f=u;for(;f--;){var c=s[f];if(!(a?c in e:xt.call(e,c)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);var p=a;for(;++f<u;){c=s[f];var y=t[c],_=e[c];if(i)var v=a?i(_,y,c,e,t,o):i(y,_,c,t,e,o);if(!(void 0===v?y===_||r(y,_,n,i,o):v)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var m=t.constructor,g=e.constructor;m==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,i,r,o)}(t,e,n,i,bi,r))}function wi(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=yt(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var u=(s=n[r])[0],l=t[u],f=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var c=new In;if(i)var h=i(l,f,u,t,e,c);if(!(void 0===h?bi(f,l,3,i,c):h))return!1}}return!0}function Si(t){return!(!Va(t)||(e=t,Ot&&Ot in e))&&(La(t)?kt:at).test(Mo(t));var e}function Ti(t){return"function"==typeof t?t:null==t?Qs:"object"==typeof t?Ca(t)?Ei(t[0],t[1]):Pi(t):eu(t)}function xi(t){if(!co(t))return on(t);var e=[];for(var n in yt(t))xt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ai(t){if(!Va(t))return function(t){var e=[];if(null!=t)for(var n in yt(t))e.push(n);return e}(t);var e=co(t),n=[];for(var i in t)("constructor"!=i||!e&&xt.call(t,i))&&n.push(i);return n}function Oi(t,e){return t<e}function Mi(t,e){var n=-1,r=Ra(t)?i(t.length):[];return ti(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Pi(t){var e=Jr(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||wi(n,t,e)}}function Ei(t,e){return uo(t)&&ho(e)?po(Oo(t),e):function(n){var i=ys(n,t);return void 0===i&&i===e?_s(n,t):bi(e,i,3)}}function ki(t,e,n,i,r){t!==e&&ai(e,(function(o,a){if(r||(r=new In),Va(o))!function(t,e,n,i,r,o,a){var s=mo(t,n),u=mo(e,n),l=a.get(u);if(l)return void Un(t,n,l);var f=o?o(s,u,n+"",t,e,a):void 0,c=void 0===f;if(c){var h=Ca(u),d=!h&&Ia(u),p=!h&&!d&&Ja(u);f=u,h||d||p?Ca(s)?f=s:ja(s)?f=vr(s):d?(c=!1,f=cr(u,!0)):p?(c=!1,f=dr(u,!0)):f=[]:Za(u)||Fa(u)?(f=s,Fa(s)?f=as(s):Va(s)&&!La(s)||(f=ro(u))):c=!1}c&&(a.set(u,f),r(f,u,i,o,a),a.delete(u));Un(t,n,f)}(t,e,a,n,ki,i,r);else{var s=i?i(mo(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),Un(t,a,s)}}),ws)}function Ni(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function Fi(t,e,n){var i=-1;return e=de(e.length?e:[Qs],ke(Xr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Mi(t,(function(t,n,r){return{criteria:de(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var u=pr(r[i],o[i]);if(u){if(i>=s)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Ci(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=ci(t,a);n(s,a)&&zi(o,sr(a,t),s)}return o}function qi(t,e,n,i){var r=i?Se:we,o=-1,a=e.length,s=t;for(t===e&&(e=vr(e)),n&&(s=de(t,ke(n)));++o<a;)for(var u=0,l=e[o],f=n?n(l):l;(u=r(s,f,u,i))>-1;)s!==t&&Ht.call(s,u,1),Ht.call(t,u,1);return t}function Ri(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;ao(r)?Ht.call(t,r,1):Ki(t,r)}}return t}function ji(t,e){return t+Ke(fn()*(e-t+1))}function Ii(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ke(e/2))&&(t+=t)}while(e);return n}function Di(t,e){return wo(yo(t,e,Qs),t+"")}function Bi(t){return Bn(Es(t))}function Li(t,e){var n=Es(t);return xo(n,Hn(e,0,n.length))}function zi(t,e,n,i){if(!Va(t))return t;for(var r=-1,o=(e=sr(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var u=Oo(e[r]),l=n;if(r!=a){var f=s[u];void 0===(l=i?i(f,u,s):void 0)&&(l=Va(f)?f:ao(e[r+1])?[]:{})}Vn(s,u,l),s=s[u]}return t}var Ui=mn?function(t,e){return mn.set(t,e),t}:Qs,Vi=Oe?function(t,e){return Oe(t,"toString",{configurable:!0,enumerable:!1,value:Vs(e),writable:!0})}:Qs;function Wi(t){return xo(Es(t))}function Gi(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function Qi(t,e){var n;return ti(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function Zi(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Ya(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return $i(t,e,Qs,n)}function $i(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!=e,s=null===e,u=Ya(e),l=void 0===e;r<o;){var f=Ke((r+o)/2),c=n(t[f]),h=void 0!==c,d=null===c,p=c==c,y=Ya(c);if(a)var _=i||p;else _=l?p&&(i||h):s?p&&h&&(i||!d):u?p&&h&&!d&&(i||!y):!d&&!y&&(i?c<=e:c<e);_?r=f+1:o=f}return sn(o,4294967294)}function Hi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Ea(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function Xi(t){return"number"==typeof t?t:Ya(t)?NaN:+t}function Yi(t){if("string"==typeof t)return t;if(Ca(t))return de(t,Yi)+"";if(Ya(t))return Mn?Mn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ji(t,e,n){var i=-1,r=ce,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=he;else if(o>=200){var l=e?null:Ir(t);if(l)return Ve(l);a=!1,r=Fe,u=new jn}else u=e?[]:s;t:for(;++i<o;){var f=t[i],c=e?e(f):f;if(f=n||0!==f?f:0,a&&c==c){for(var h=u.length;h--;)if(u[h]===c)continue t;e&&u.push(c),s.push(f)}else r(u,c,n)||(u!==s&&u.push(c),s.push(f))}return s}function Ki(t,e){return null==(t=_o(t,e=sr(e,t)))||delete t[Oo(Bo(e))]}function tr(t,e,n,i){return zi(t,e,n(ci(t,e)),i)}function er(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Gi(t,i?0:o,i?o+1:r):Gi(t,i?o+1:0,i?r:o)}function nr(t,e){var n=t;return n instanceof Fn&&(n=n.value()),ye(e,(function(t,e){return e.func.apply(e.thisArg,pe([t],e.args))}),n)}function ir(t,e,n){var r=t.length;if(r<2)return r?Ji(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=Kn(a[o]||s,t[u],e,n));return Ji(oi(a,1),e,n)}function rr(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a}function or(t){return ja(t)?t:[]}function ar(t){return"function"==typeof t?t:Qs}function sr(t,e){return Ca(t)?t:uo(t,e)?[t]:Ao(ss(t))}var ur=Di;function lr(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Gi(t,e,n)}var fr=He||function(t){return Zt.clearTimeout(t)};function cr(t,e){if(e)return t.slice();var n=t.length,i=Ut?Ut(n):new t.constructor(n);return t.copy(i),i}function hr(t){var e=new t.constructor(t.byteLength);return new jt(e).set(new jt(t)),e}function dr(t,e){var n=e?hr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function pr(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=Ya(t),a=void 0!==e,s=null===e,u=e==e,l=Ya(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||i&&a&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!u)return-1}return 0}function yr(t,e,n,r){for(var o=-1,a=t.length,s=n.length,u=-1,l=e.length,f=an(a-s,0),c=i(l+f),h=!r;++u<l;)c[u]=e[u];for(;++o<s;)(h||o<a)&&(c[n[o]]=t[o]);for(;f--;)c[u++]=t[o++];return c}function _r(t,e,n,r){for(var o=-1,a=t.length,s=-1,u=n.length,l=-1,f=e.length,c=an(a-u,0),h=i(c+f),d=!r;++o<c;)h[o]=t[o];for(var p=o;++l<f;)h[p+l]=e[l];for(;++s<u;)(d||o<a)&&(h[p+n[s]]=t[o++]);return h}function vr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function mr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=i?i(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),r?Zn(n,s,u):Vn(n,s,u)}return n}function gr(t,e){return function(n,i){var r=Ca(n)?ae:Gn,o=e?e():{};return r(n,t,Xr(i,2),o)}}function br(t){return Di((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&so(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=yt(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e}))}function wr(t,e){return function(n,i){if(null==n)return n;if(!Ra(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=yt(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Sr(t){return function(e,n,i){for(var r=-1,o=yt(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}function Tr(t){return function(e){var n=Be(e=ss(e))?Qe(e):void 0,i=n?n[0]:e.charAt(0),r=n?lr(n,1).join(""):e.slice(1);return i[t]()+r}}function xr(t){return function(e){return ye(Ls(Fs(e).replace(Ft,"")),t,"")}}function Ar(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=En(t.prototype),i=t.apply(n,e);return Va(i)?i:n}}function Or(t){return function(e,n,i){var r=yt(e);if(!Ra(e)){var o=Xr(n,3);e=bs(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}}function Mr(t){return Wr((function(e){var n=e.length,i=n,r=Nn.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new mt(o);if(r&&!s&&"wrapper"==$r(a))var s=new Nn([],!0)}for(i=s?i:n;++i<n;){var u=$r(a=e[i]),l="wrapper"==u?Zr(a):void 0;s=l&&lo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[$r(l[0])].apply(s,l[3]):1==a.length&&lo(a)?s[u]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&Ca(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function Pr(t,e,n,r,o,a,s,u,l,f){var c=128&e,h=1&e,d=2&e,p=24&e,y=512&e,_=d?void 0:Ar(t);return function v(){for(var m=arguments.length,g=i(m),b=m;b--;)g[b]=arguments[b];if(p)var w=Hr(v),S=Re(g,w);if(r&&(g=yr(g,r,o,p)),a&&(g=_r(g,a,s,p)),m-=S,p&&m<f){var T=Ue(g,w);return Rr(t,e,Pr,v.placeholder,n,g,T,u,l,f-m)}var x=h?n:this,A=d?x[t]:t;return m=g.length,u?g=vo(g,u):y&&m>1&&g.reverse(),c&&l<m&&(g.length=l),this&&this!==Zt&&this instanceof v&&(A=_||Ar(A)),A.apply(x,g)}}function Er(t,e){return function(n,i){return function(t,e,n,i){return ui(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function kr(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Yi(n),i=Yi(i)):(n=Xi(n),i=Xi(i)),r=t(n,i)}return r}}function Nr(t){return Wr((function(e){return e=de(e,ke(Xr())),Di((function(n){var i=this;return t(e,(function(t){return oe(t,i,n)}))}))}))}function Fr(t,e){var n=(e=void 0===e?" ":Yi(e)).length;if(n<2)return n?Ii(e,t):e;var i=Ii(e,Je(t/Ge(e)));return Be(e)?lr(Qe(i),0,t).join(""):i.slice(0,t)}function Cr(t){return function(e,n,r){return r&&"number"!=typeof r&&so(e,n,r)&&(n=r=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,r){for(var o=-1,a=an(Je((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,r=void 0===r?e<n?1:-1:ns(r),t)}}function qr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Rr(t,e,n,i,r,o,a,s,u,l){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var c=[t,e,r,f?o:void 0,f?a:void 0,f?void 0:o,f?void 0:a,s,u,l],h=n.apply(void 0,c);return lo(t)&&go(h,c),h.placeholder=i,So(h,t,e)}function jr(t){var e=pt[t];return function(t,n){if(t=os(t),(n=null==n?0:sn(is(n),292))&&nn(t)){var i=(ss(t)+"e").split("e");return+((i=(ss(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Ir=yn&&1/Ve(new yn([,-0]))[1]==1/0?function(t){return new yn(t)}:Ys;function Dr(t){return function(e){var n=no(e);return n==y?Le(e):n==g?We(e):function(t,e){return de(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Br(t,e,n,r,s,u,l,f){var c=2&e;if(!c&&"function"!=typeof t)throw new mt(o);var h=r?r.length:0;if(h||(e&=-97,r=s=void 0),l=void 0===l?l:an(is(l),0),f=void 0===f?f:is(f),h-=s?s.length:0,64&e){var d=r,p=s;r=s=void 0}var y=c?void 0:Zr(t),_=[t,e,n,r,s,d,p,u,l,f];if(y&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,s=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?yr(l,u,e[4]):u,t[4]=l?Ue(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?_r(l,u,e[6]):u,t[6]=l?Ue(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&i&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(_,y),t=_[0],e=_[1],n=_[2],r=_[3],s=_[4],!(f=_[9]=void 0===_[9]?c?0:t.length:an(_[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var r=Ar(t);return function o(){for(var a=arguments.length,s=i(a),u=a,l=Hr(o);u--;)s[u]=arguments[u];var f=a<3&&s[0]!==l&&s[a-1]!==l?[]:Ue(s,l);if((a-=f.length)<n)return Rr(t,e,Pr,o.placeholder,void 0,s,f,void 0,void 0,n-a);var c=this&&this!==Zt&&this instanceof o?r:t;return oe(c,this,s)}}(t,e,f):32!=e&&33!=e||s.length?Pr.apply(void 0,_):function(t,e,n,r){var o=1&e,a=Ar(t);return function e(){for(var s=-1,u=arguments.length,l=-1,f=r.length,c=i(f+u),h=this&&this!==Zt&&this instanceof e?a:t;++l<f;)c[l]=r[l];for(;u--;)c[l++]=arguments[++s];return oe(h,o?n:this,c)}}(t,e,n,r);else var v=function(t,e,n){var i=1&e,r=Ar(t);return function e(){var o=this&&this!==Zt&&this instanceof e?r:t;return o.apply(i?n:this,arguments)}}(t,e,n);return So((y?Ui:go)(v,_),t,e)}function Lr(t,e,n,i){return void 0===t||Ea(t,wt[n])&&!xt.call(i,n)?e:t}function zr(t,e,n,i,r,o){return Va(t)&&Va(e)&&(o.set(e,t),ki(t,e,void 0,zr,o),o.delete(e)),t}function Ur(t){return Za(t)?void 0:t}function Vr(t,e,n,i,r,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var f=-1,c=!0,h=2&n?new jn:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var d=t[f],p=e[f];if(i)var y=a?i(p,d,f,e,t,o):i(d,p,f,t,e,o);if(void 0!==y){if(y)continue;c=!1;break}if(h){if(!ve(e,(function(t,e){if(!Fe(h,e)&&(d===t||r(d,t,n,i,o)))return h.push(e)}))){c=!1;break}}else if(d!==p&&!r(d,p,n,i,o)){c=!1;break}}return o.delete(t),o.delete(e),c}function Wr(t){return wo(yo(t,void 0,qo),t+"")}function Gr(t){return hi(t,bs,to)}function Qr(t){return hi(t,ws,eo)}var Zr=mn?function(t){return mn.get(t)}:Ys;function $r(t){for(var e=t.name+"",n=gn[e],i=xt.call(gn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Hr(t){return(xt.call(Pn,"placeholder")?Pn:t).placeholder}function Xr(){var t=Pn.iteratee||Zs;return t=t===Zs?Ti:t,arguments.length?t(arguments[0],arguments[1]):t}function Yr(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Jr(t){for(var e=bs(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ho(r)]}return e}function Kr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Si(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=yt(t),fe(tn(t),(function(e){return $t.call(t,e)})))}:ru,eo=tn?function(t){for(var e=[];t;)pe(e,to(t)),t=Gt(t);return e}:ru,no=di;function io(t,e,n){for(var i=-1,r=(e=sr(e,t)).length,o=!1;++i<r;){var a=Oo(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ua(r)&&ao(a,r)&&(Ca(t)||Fa(t))}function ro(t){return"function"!=typeof t.constructor||co(t)?{}:En(Gt(t))}function oo(t){return Ca(t)||Fa(t)||!!(Yt&&t&&t[Yt])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ut.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Va(n))return!1;var i=typeof e;return!!("number"==i?Ra(n)&&ao(e,n.length):"string"==i&&e in n)&&Ea(n[e],t)}function uo(t,e){if(Ca(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ya(t))||(W.test(t)||!V.test(t)||null!=e&&t in yt(e))}function lo(t){var e=$r(t),n=Pn[e];if("function"!=typeof n||!(e in Fn.prototype))return!1;if(t===n)return!0;var i=Zr(n);return!!i&&t===i[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=x||dn&&no(new dn)!=y||pn&&"[object Promise]"!=no(pn.resolve())||yn&&no(new yn)!=g||_n&&no(new _n)!=S)&&(no=function(t){var e=di(t),n=e==v?t.constructor:void 0,i=n?Mo(n):"";if(i)switch(i){case bn:return x;case wn:return y;case Sn:return"[object Promise]";case Tn:return g;case xn:return S}return e});var fo=St?La:ou;function co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function ho(t){return t==t&&!Va(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in yt(n)))}}function yo(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=an(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=i(e+1);++o<e;)u[o]=r[o];return u[e]=n(s),oe(t,this,u)}}function _o(t,e){return e.length<2?t:ci(t,Gi(e,0,-1))}function vo(t,e){for(var n=t.length,i=sn(e.length,n),r=vr(t);i--;){var o=e[i];t[i]=ao(o,n)?r[o]:void 0}return t}function mo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var go=To(Ui),bo=Ye||function(t,e){return Zt.setTimeout(t,e)},wo=To(Vi);function So(t,e,n){var i=e+"";return wo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Y,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return se(s,(function(n){var i="_."+n[0];e&n[1]&&!ce(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split(K):[]}(i),n)))}function To(t){var e=0,n=0;return function(){var i=un(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function xo(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=ji(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Ao=function(t){var e=Ta(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(G,(function(t,n,i,r){e.push(i?r.replace(et,"$1"):n||t)})),e}));function Oo(t){if("string"==typeof t||Ya(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Mo(t){if(null!=t){try{return Tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Po(t){if(t instanceof Fn)return t.clone();var e=new Nn(t.__wrapped__,t.__chain__);return e.__actions__=vr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Eo=Di((function(t,e){return ja(t)?Kn(t,oi(e,1,ja,!0)):[]})),ko=Di((function(t,e){var n=Bo(e);return ja(n)&&(n=void 0),ja(t)?Kn(t,oi(e,1,ja,!0),Xr(n,2)):[]})),No=Di((function(t,e){var n=Bo(e);return ja(n)&&(n=void 0),ja(t)?Kn(t,oi(e,1,ja,!0),void 0,n):[]}));function Fo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=an(i+r,0)),be(t,Xr(e,3),r)}function Co(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=is(n),r=n<0?an(i+r,0):sn(r,i-1)),be(t,Xr(e,3),r,!0)}function qo(t){return(null==t?0:t.length)?oi(t,1):[]}function Ro(t){return t&&t.length?t[0]:void 0}var jo=Di((function(t){var e=de(t,or);return e.length&&e[0]===t[0]?vi(e):[]})),Io=Di((function(t){var e=Bo(t),n=de(t,or);return e===Bo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?vi(n,Xr(e,2)):[]})),Do=Di((function(t){var e=Bo(t),n=de(t,or);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?vi(n,void 0,e):[]}));function Bo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Lo=Di(zo);function zo(t,e){return t&&t.length&&e&&e.length?qi(t,e):t}var Uo=Wr((function(t,e){var n=null==t?0:t.length,i=$n(t,e);return Ri(t,de(e,(function(t){return ao(t,n)?+t:t})).sort(pr)),i}));function Vo(t){return null==t?t:cn.call(t)}var Wo=Di((function(t){return Ji(oi(t,1,ja,!0))})),Go=Di((function(t){var e=Bo(t);return ja(e)&&(e=void 0),Ji(oi(t,1,ja,!0),Xr(e,2))})),Qo=Di((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,Ji(oi(t,1,ja,!0),void 0,e)}));function Zo(t){if(!t||!t.length)return[];var e=0;return t=fe(t,(function(t){if(ja(t))return e=an(t.length,e),!0})),Ee(e,(function(e){return de(t,Ae(e))}))}function $o(t,e){if(!t||!t.length)return[];var n=Zo(t);return null==e?n:de(n,(function(t){return oe(e,void 0,t)}))}var Ho=Di((function(t,e){return ja(t)?Kn(t,e):[]})),Xo=Di((function(t){return ir(fe(t,ja))})),Yo=Di((function(t){var e=Bo(t);return ja(e)&&(e=void 0),ir(fe(t,ja),Xr(e,2))})),Jo=Di((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,ir(fe(t,ja),void 0,e)})),Ko=Di(Zo);var ta=Di((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,$o(t,n)}));function ea(t){var e=Pn(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ia=Wr((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return $n(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Fn&&ao(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[r],thisArg:void 0}),new Nn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var ra=gr((function(t,e,n){xt.call(t,n)?++t[n]:Zn(t,n,1)}));var oa=Or(Fo),aa=Or(Co);function sa(t,e){return(Ca(t)?se:ti)(t,Xr(e,3))}function ua(t,e){return(Ca(t)?ue:ei)(t,Xr(e,3))}var la=gr((function(t,e,n){xt.call(t,n)?t[n].push(e):Zn(t,n,[e])}));var fa=Di((function(t,e,n){var r=-1,o="function"==typeof e,a=Ra(t)?i(t.length):[];return ti(t,(function(t){a[++r]=o?oe(e,t,n):mi(t,e,n)})),a})),ca=gr((function(t,e,n){Zn(t,n,e)}));function ha(t,e){return(Ca(t)?de:Mi)(t,Xr(e,3))}var da=gr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var pa=Di((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Fi(t,oi(e,1),[])})),ya=Xe||function(){return Zt.Date.now()};function _a(t,e,n){return e=n?void 0:e,Br(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function va(t,e){var n;if("function"!=typeof e)throw new mt(o);return t=is(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ma=Di((function(t,e,n){var i=1;if(n.length){var r=Ue(n,Hr(ma));i|=32}return Br(t,i,e,n,r)})),ga=Di((function(t,e,n){var i=3;if(n.length){var r=Ue(n,Hr(ga));i|=32}return Br(e,i,t,n,r)}));function ba(t,e,n){var i,r,a,s,u,l,f=0,c=!1,h=!1,d=!0;if("function"!=typeof t)throw new mt(o);function p(e){var n=i,o=r;return i=r=void 0,f=e,s=t.apply(o,n)}function y(t){return f=t,u=bo(v,e),c?p(t):s}function _(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-f>=a}function v(){var t=ya();if(_(t))return m(t);u=bo(v,function(t){var n=e-(t-l);return h?sn(n,a-(t-f)):n}(t))}function m(t){return u=void 0,d&&i?p(t):(i=r=void 0,s)}function g(){var t=ya(),n=_(t);if(i=arguments,r=this,l=t,n){if(void 0===u)return y(l);if(h)return fr(u),u=bo(v,e),p(l)}return void 0===u&&(u=bo(v,e)),s}return e=os(e)||0,Va(n)&&(c=!!n.leading,a=(h="maxWait"in n)?an(os(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==u&&fr(u),f=0,i=l=r=u=void 0},g.flush=function(){return void 0===u?s:m(ya())},g}var wa=Di((function(t,e){return Jn(t,1,e)})),Sa=Di((function(t,e,n){return Jn(t,os(e)||0,n)}));function Ta(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new mt(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ta.Cache||Rn),n}function xa(t){if("function"!=typeof t)throw new mt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ta.Cache=Rn;var Aa=ur((function(t,e){var n=(e=1==e.length&&Ca(e[0])?de(e[0],ke(Xr())):de(oi(e,1),ke(Xr()))).length;return Di((function(i){for(var r=-1,o=sn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return oe(t,this,i)}))})),Oa=Di((function(t,e){return Br(t,32,void 0,e,Ue(e,Hr(Oa)))})),Ma=Di((function(t,e){return Br(t,64,void 0,e,Ue(e,Hr(Ma)))})),Pa=Wr((function(t,e){return Br(t,256,void 0,void 0,void 0,e)}));function Ea(t,e){return t===e||t!=t&&e!=e}var ka=qr(pi),Na=qr((function(t,e){return t>=e})),Fa=gi(function(){return arguments}())?gi:function(t){return Wa(t)&&xt.call(t,"callee")&&!$t.call(t,"callee")},Ca=i.isArray,qa=Kt?ke(Kt):function(t){return Wa(t)&&di(t)==T};function Ra(t){return null!=t&&Ua(t.length)&&!La(t)}function ja(t){return Wa(t)&&Ra(t)}var Ia=en||ou,Da=te?ke(te):function(t){return Wa(t)&&di(t)==c};function Ba(t){if(!Wa(t))return!1;var e=di(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Za(t)}function La(t){if(!Va(t))return!1;var e=di(t);return e==d||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function za(t){return"number"==typeof t&&t==is(t)}function Ua(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Va(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wa(t){return null!=t&&"object"==typeof t}var Ga=ee?ke(ee):function(t){return Wa(t)&&no(t)==y};function Qa(t){return"number"==typeof t||Wa(t)&&di(t)==_}function Za(t){if(!Wa(t)||di(t)!=v)return!1;var e=Gt(t);if(null===e)return!0;var n=xt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Tt.call(n)==Pt}var $a=ne?ke(ne):function(t){return Wa(t)&&di(t)==m};var Ha=ie?ke(ie):function(t){return Wa(t)&&no(t)==g};function Xa(t){return"string"==typeof t||!Ca(t)&&Wa(t)&&di(t)==b}function Ya(t){return"symbol"==typeof t||Wa(t)&&di(t)==w}var Ja=re?ke(re):function(t){return Wa(t)&&Ua(t.length)&&!!Lt[di(t)]};var Ka=qr(Oi),ts=qr((function(t,e){return t<=e}));function es(t){if(!t)return[];if(Ra(t))return Xa(t)?Qe(t):vr(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=no(t);return(e==y?Le:e==g?Ve:Es)(t)}function ns(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function is(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function rs(t){return t?Hn(is(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Ya(t))return NaN;if(Va(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Va(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($,"");var n=ot.test(t);return n||st.test(t)?Wt(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function as(t){return mr(t,ws(t))}function ss(t){return null==t?"":Yi(t)}var us=br((function(t,e){if(co(e)||Ra(e))mr(e,bs(e),t);else for(var n in e)xt.call(e,n)&&Vn(t,n,e[n])})),ls=br((function(t,e){mr(e,ws(e),t)})),fs=br((function(t,e,n,i){mr(e,ws(e),t,i)})),cs=br((function(t,e,n,i){mr(e,bs(e),t,i)})),hs=Wr($n);var ds=Di((function(t,e){t=yt(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&so(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=ws(o),s=-1,u=a.length;++s<u;){var l=a[s],f=t[l];(void 0===f||Ea(f,wt[l])&&!xt.call(t,l))&&(t[l]=o[l])}return t})),ps=Di((function(t){return t.push(void 0,zr),oe(Ts,void 0,t)}));function ys(t,e,n){var i=null==t?void 0:ci(t,e);return void 0===i?n:i}function _s(t,e){return null!=t&&io(t,e,_i)}var vs=Er((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),t[e]=n}),Vs(Qs)),ms=Er((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),xt.call(t,e)?t[e].push(n):t[e]=[n]}),Xr),gs=Di(mi);function bs(t){return Ra(t)?Dn(t):xi(t)}function ws(t){return Ra(t)?Dn(t,!0):Ai(t)}var Ss=br((function(t,e,n){ki(t,e,n)})),Ts=br((function(t,e,n,i){ki(t,e,n,i)})),xs=Wr((function(t,e){var n={};if(null==t)return n;var i=!1;e=de(e,(function(e){return e=sr(e,t),i||(i=e.length>1),e})),mr(t,Qr(t),n),i&&(n=Xn(n,7,Ur));for(var r=e.length;r--;)Ki(n,e[r]);return n}));var As=Wr((function(t,e){return null==t?{}:function(t,e){return Ci(t,e,(function(e,n){return _s(t,n)}))}(t,e)}));function Os(t,e){if(null==t)return{};var n=de(Qr(t),(function(t){return[t]}));return e=Xr(e),Ci(t,n,(function(t,n){return e(t,n[0])}))}var Ms=Dr(bs),Ps=Dr(ws);function Es(t){return null==t?[]:Ne(t,bs(t))}var ks=xr((function(t,e,n){return e=e.toLowerCase(),t+(n?Ns(e):e)}));function Ns(t){return Bs(ss(t).toLowerCase())}function Fs(t){return(t=ss(t))&&t.replace(lt,je).replace(Ct,"")}var Cs=xr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),qs=xr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Rs=Tr("toLowerCase");var js=xr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Is=xr((function(t,e,n){return t+(n?" ":"")+Bs(e)}));var Ds=xr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Bs=Tr("toUpperCase");function Ls(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return It.test(t)}(t)?function(t){return t.match(Rt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var zs=Di((function(t,e){try{return oe(t,void 0,e)}catch(t){return Ba(t)?t:new ht(t)}})),Us=Wr((function(t,e){return se(e,(function(e){e=Oo(e),Zn(t,e,ma(t[e],t))})),t}));function Vs(t){return function(){return t}}var Ws=Mr(),Gs=Mr(!0);function Qs(t){return t}function Zs(t){return Ti("function"==typeof t?t:Xn(t,1))}var $s=Di((function(t,e){return function(n){return mi(n,t,e)}})),Hs=Di((function(t,e){return function(n){return mi(t,n,e)}}));function Xs(t,e,n){var i=bs(e),r=fi(e,i);null!=n||Va(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=fi(e,bs(e)));var o=!(Va(n)&&"chain"in n&&!n.chain),a=La(t);return se(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=vr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,pe([this.value()],arguments))})})),t}function Ys(){}var Js=Nr(de),Ks=Nr(le),tu=Nr(ve);function eu(t){return uo(t)?Ae(Oo(t)):function(t){return function(e){return ci(e,t)}}(t)}var nu=Cr(),iu=Cr(!0);function ru(){return[]}function ou(){return!1}var au=kr((function(t,e){return t+e}),0),su=jr("ceil"),uu=kr((function(t,e){return t/e}),1),lu=jr("floor");var fu,cu=kr((function(t,e){return t*e}),1),hu=jr("round"),du=kr((function(t,e){return t-e}),0);return Pn.after=function(t,e){if("function"!=typeof e)throw new mt(o);return t=is(t),function(){if(--t<1)return e.apply(this,arguments)}},Pn.ary=_a,Pn.assign=us,Pn.assignIn=ls,Pn.assignInWith=fs,Pn.assignWith=cs,Pn.at=hs,Pn.before=va,Pn.bind=ma,Pn.bindAll=Us,Pn.bindKey=ga,Pn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ca(t)?t:[t]},Pn.chain=ea,Pn.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:an(is(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,a=0,s=i(Je(r/e));o<r;)s[a++]=Gi(t,o,o+=e);return s},Pn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Pn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return pe(Ca(n)?vr(n):[n],oi(e,1))},Pn.cond=function(t){var e=null==t?0:t.length,n=Xr();return t=e?de(t,(function(t){if("function"!=typeof t[1])throw new mt(o);return[n(t[0]),t[1]]})):[],Di((function(n){for(var i=-1;++i<e;){var r=t[i];if(oe(r[0],this,n))return oe(r[1],this,n)}}))},Pn.conforms=function(t){return function(t){var e=bs(t);return function(n){return Yn(n,t,e)}}(Xn(t,1))},Pn.constant=Vs,Pn.countBy=ra,Pn.create=function(t,e){var n=En(t);return null==e?n:Qn(n,e)},Pn.curry=function t(e,n,i){var r=Br(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Pn.curryRight=function t(e,n,i){var r=Br(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Pn.debounce=ba,Pn.defaults=ds,Pn.defaultsDeep=ps,Pn.defer=wa,Pn.delay=Sa,Pn.difference=Eo,Pn.differenceBy=ko,Pn.differenceWith=No,Pn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Gi(t,(e=n||void 0===e?1:is(e))<0?0:e,i):[]},Pn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Gi(t,0,(e=i-(e=n||void 0===e?1:is(e)))<0?0:e):[]},Pn.dropRightWhile=function(t,e){return t&&t.length?er(t,Xr(e,3),!0,!0):[]},Pn.dropWhile=function(t,e){return t&&t.length?er(t,Xr(e,3),!0):[]},Pn.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=is(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:is(i))<0&&(i+=r),i=n>i?0:rs(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Pn.filter=function(t,e){return(Ca(t)?fe:ri)(t,Xr(e,3))},Pn.flatMap=function(t,e){return oi(ha(t,e),1)},Pn.flatMapDeep=function(t,e){return oi(ha(t,e),1/0)},Pn.flatMapDepth=function(t,e,n){return n=void 0===n?1:is(n),oi(ha(t,e),n)},Pn.flatten=qo,Pn.flattenDeep=function(t){return(null==t?0:t.length)?oi(t,1/0):[]},Pn.flattenDepth=function(t,e){return(null==t?0:t.length)?oi(t,e=void 0===e?1:is(e)):[]},Pn.flip=function(t){return Br(t,512)},Pn.flow=Ws,Pn.flowRight=Gs,Pn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Pn.functions=function(t){return null==t?[]:fi(t,bs(t))},Pn.functionsIn=function(t){return null==t?[]:fi(t,ws(t))},Pn.groupBy=la,Pn.initial=function(t){return(null==t?0:t.length)?Gi(t,0,-1):[]},Pn.intersection=jo,Pn.intersectionBy=Io,Pn.intersectionWith=Do,Pn.invert=vs,Pn.invertBy=ms,Pn.invokeMap=fa,Pn.iteratee=Zs,Pn.keyBy=ca,Pn.keys=bs,Pn.keysIn=ws,Pn.map=ha,Pn.mapKeys=function(t,e){var n={};return e=Xr(e,3),ui(t,(function(t,i,r){Zn(n,e(t,i,r),t)})),n},Pn.mapValues=function(t,e){var n={};return e=Xr(e,3),ui(t,(function(t,i,r){Zn(n,i,e(t,i,r))})),n},Pn.matches=function(t){return Pi(Xn(t,1))},Pn.matchesProperty=function(t,e){return Ei(t,Xn(e,1))},Pn.memoize=Ta,Pn.merge=Ss,Pn.mergeWith=Ts,Pn.method=$s,Pn.methodOf=Hs,Pn.mixin=Xs,Pn.negate=xa,Pn.nthArg=function(t){return t=is(t),Di((function(e){return Ni(e,t)}))},Pn.omit=xs,Pn.omitBy=function(t,e){return Os(t,xa(Xr(e)))},Pn.once=function(t){return va(2,t)},Pn.orderBy=function(t,e,n,i){return null==t?[]:(Ca(e)||(e=null==e?[]:[e]),Ca(n=i?void 0:n)||(n=null==n?[]:[n]),Fi(t,e,n))},Pn.over=Js,Pn.overArgs=Aa,Pn.overEvery=Ks,Pn.overSome=tu,Pn.partial=Oa,Pn.partialRight=Ma,Pn.partition=da,Pn.pick=As,Pn.pickBy=Os,Pn.property=eu,Pn.propertyOf=function(t){return function(e){return null==t?void 0:ci(t,e)}},Pn.pull=Lo,Pn.pullAll=zo,Pn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?qi(t,e,Xr(n,2)):t},Pn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?qi(t,e,void 0,n):t},Pn.pullAt=Uo,Pn.range=nu,Pn.rangeRight=iu,Pn.rearg=Pa,Pn.reject=function(t,e){return(Ca(t)?fe:ri)(t,xa(Xr(e,3)))},Pn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Xr(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Ri(t,r),n},Pn.rest=function(t,e){if("function"!=typeof t)throw new mt(o);return Di(t,e=void 0===e?e:is(e))},Pn.reverse=Vo,Pn.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:is(e),(Ca(t)?Ln:Li)(t,e)},Pn.set=function(t,e,n){return null==t?t:zi(t,e,n)},Pn.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:zi(t,e,n,i)},Pn.shuffle=function(t){return(Ca(t)?zn:Wi)(t)},Pn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=i):(e=null==e?0:is(e),n=void 0===n?i:is(n)),Gi(t,e,n)):[]},Pn.sortBy=pa,Pn.sortedUniq=function(t){return t&&t.length?Hi(t):[]},Pn.sortedUniqBy=function(t,e){return t&&t.length?Hi(t,Xr(e,2)):[]},Pn.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!$a(e))&&!(e=Yi(e))&&Be(t)?lr(Qe(t),0,n):t.split(e,n):[]},Pn.spread=function(t,e){if("function"!=typeof t)throw new mt(o);return e=null==e?0:an(is(e),0),Di((function(n){var i=n[e],r=lr(n,0,e);return i&&pe(r,i),oe(t,this,r)}))},Pn.tail=function(t){var e=null==t?0:t.length;return e?Gi(t,1,e):[]},Pn.take=function(t,e,n){return t&&t.length?Gi(t,0,(e=n||void 0===e?1:is(e))<0?0:e):[]},Pn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Gi(t,(e=i-(e=n||void 0===e?1:is(e)))<0?0:e,i):[]},Pn.takeRightWhile=function(t,e){return t&&t.length?er(t,Xr(e,3),!1,!0):[]},Pn.takeWhile=function(t,e){return t&&t.length?er(t,Xr(e,3)):[]},Pn.tap=function(t,e){return e(t),t},Pn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new mt(o);return Va(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ba(t,e,{leading:i,maxWait:e,trailing:r})},Pn.thru=na,Pn.toArray=es,Pn.toPairs=Ms,Pn.toPairsIn=Ps,Pn.toPath=function(t){return Ca(t)?de(t,Oo):Ya(t)?[t]:vr(Ao(ss(t)))},Pn.toPlainObject=as,Pn.transform=function(t,e,n){var i=Ca(t),r=i||Ia(t)||Ja(t);if(e=Xr(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Va(t)&&La(o)?En(Gt(t)):{}}return(r?se:ui)(t,(function(t,i,r){return e(n,t,i,r)})),n},Pn.unary=function(t){return _a(t,1)},Pn.union=Wo,Pn.unionBy=Go,Pn.unionWith=Qo,Pn.uniq=function(t){return t&&t.length?Ji(t):[]},Pn.uniqBy=function(t,e){return t&&t.length?Ji(t,Xr(e,2)):[]},Pn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Ji(t,void 0,e):[]},Pn.unset=function(t,e){return null==t||Ki(t,e)},Pn.unzip=Zo,Pn.unzipWith=$o,Pn.update=function(t,e,n){return null==t?t:tr(t,e,ar(n))},Pn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:tr(t,e,ar(n),i)},Pn.values=Es,Pn.valuesIn=function(t){return null==t?[]:Ne(t,ws(t))},Pn.without=Ho,Pn.words=Ls,Pn.wrap=function(t,e){return Oa(ar(e),t)},Pn.xor=Xo,Pn.xorBy=Yo,Pn.xorWith=Jo,Pn.zip=Ko,Pn.zipObject=function(t,e){return rr(t||[],e||[],Vn)},Pn.zipObjectDeep=function(t,e){return rr(t||[],e||[],zi)},Pn.zipWith=ta,Pn.entries=Ms,Pn.entriesIn=Ps,Pn.extend=ls,Pn.extendWith=fs,Xs(Pn,Pn),Pn.add=au,Pn.attempt=zs,Pn.camelCase=ks,Pn.capitalize=Ns,Pn.ceil=su,Pn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Hn(os(t),e,n)},Pn.clone=function(t){return Xn(t,4)},Pn.cloneDeep=function(t){return Xn(t,5)},Pn.cloneDeepWith=function(t,e){return Xn(t,5,e="function"==typeof e?e:void 0)},Pn.cloneWith=function(t,e){return Xn(t,4,e="function"==typeof e?e:void 0)},Pn.conformsTo=function(t,e){return null==e||Yn(t,e,bs(e))},Pn.deburr=Fs,Pn.defaultTo=function(t,e){return null==t||t!=t?e:t},Pn.divide=uu,Pn.endsWith=function(t,e,n){t=ss(t),e=Yi(e);var i=t.length,r=n=void 0===n?i:Hn(is(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},Pn.eq=Ea,Pn.escape=function(t){return(t=ss(t))&&B.test(t)?t.replace(I,Ie):t},Pn.escapeRegExp=function(t){return(t=ss(t))&&Z.test(t)?t.replace(Q,"\\$&"):t},Pn.every=function(t,e,n){var i=Ca(t)?le:ni;return n&&so(t,e,n)&&(e=void 0),i(t,Xr(e,3))},Pn.find=oa,Pn.findIndex=Fo,Pn.findKey=function(t,e){return ge(t,Xr(e,3),ui)},Pn.findLast=aa,Pn.findLastIndex=Co,Pn.findLastKey=function(t,e){return ge(t,Xr(e,3),li)},Pn.floor=lu,Pn.forEach=sa,Pn.forEachRight=ua,Pn.forIn=function(t,e){return null==t?t:ai(t,Xr(e,3),ws)},Pn.forInRight=function(t,e){return null==t?t:si(t,Xr(e,3),ws)},Pn.forOwn=function(t,e){return t&&ui(t,Xr(e,3))},Pn.forOwnRight=function(t,e){return t&&li(t,Xr(e,3))},Pn.get=ys,Pn.gt=ka,Pn.gte=Na,Pn.has=function(t,e){return null!=t&&io(t,e,yi)},Pn.hasIn=_s,Pn.head=Ro,Pn.identity=Qs,Pn.includes=function(t,e,n,i){t=Ra(t)?t:Es(t),n=n&&!i?is(n):0;var r=t.length;return n<0&&(n=an(r+n,0)),Xa(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&we(t,e,n)>-1},Pn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=an(i+r,0)),we(t,e,r)},Pn.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=sn(e,n)&&t<an(e,n)}(t=os(t),e,n)},Pn.invoke=gs,Pn.isArguments=Fa,Pn.isArray=Ca,Pn.isArrayBuffer=qa,Pn.isArrayLike=Ra,Pn.isArrayLikeObject=ja,Pn.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&di(t)==f},Pn.isBuffer=Ia,Pn.isDate=Da,Pn.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Za(t)},Pn.isEmpty=function(t){if(null==t)return!0;if(Ra(t)&&(Ca(t)||"string"==typeof t||"function"==typeof t.splice||Ia(t)||Ja(t)||Fa(t)))return!t.length;var e=no(t);if(e==y||e==g)return!t.size;if(co(t))return!xi(t).length;for(var n in t)if(xt.call(t,n))return!1;return!0},Pn.isEqual=function(t,e){return bi(t,e)},Pn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?bi(t,e,void 0,n):!!i},Pn.isError=Ba,Pn.isFinite=function(t){return"number"==typeof t&&nn(t)},Pn.isFunction=La,Pn.isInteger=za,Pn.isLength=Ua,Pn.isMap=Ga,Pn.isMatch=function(t,e){return t===e||wi(t,e,Jr(e))},Pn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wi(t,e,Jr(e),n)},Pn.isNaN=function(t){return Qa(t)&&t!=+t},Pn.isNative=function(t){if(fo(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Si(t)},Pn.isNil=function(t){return null==t},Pn.isNull=function(t){return null===t},Pn.isNumber=Qa,Pn.isObject=Va,Pn.isObjectLike=Wa,Pn.isPlainObject=Za,Pn.isRegExp=$a,Pn.isSafeInteger=function(t){return za(t)&&t>=-9007199254740991&&t<=9007199254740991},Pn.isSet=Ha,Pn.isString=Xa,Pn.isSymbol=Ya,Pn.isTypedArray=Ja,Pn.isUndefined=function(t){return void 0===t},Pn.isWeakMap=function(t){return Wa(t)&&no(t)==S},Pn.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==di(t)},Pn.join=function(t,e){return null==t?"":rn.call(t,e)},Pn.kebabCase=Cs,Pn.last=Bo,Pn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=is(n))<0?an(i+r,0):sn(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):be(t,Te,r,!0)},Pn.lowerCase=qs,Pn.lowerFirst=Rs,Pn.lt=Ka,Pn.lte=ts,Pn.max=function(t){return t&&t.length?ii(t,Qs,pi):void 0},Pn.maxBy=function(t,e){return t&&t.length?ii(t,Xr(e,2),pi):void 0},Pn.mean=function(t){return xe(t,Qs)},Pn.meanBy=function(t,e){return xe(t,Xr(e,2))},Pn.min=function(t){return t&&t.length?ii(t,Qs,Oi):void 0},Pn.minBy=function(t,e){return t&&t.length?ii(t,Xr(e,2),Oi):void 0},Pn.stubArray=ru,Pn.stubFalse=ou,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=cu,Pn.nth=function(t,e){return t&&t.length?Ni(t,is(e)):void 0},Pn.noConflict=function(){return Zt._===this&&(Zt._=Et),this},Pn.noop=Ys,Pn.now=ya,Pn.pad=function(t,e,n){t=ss(t);var i=(e=is(e))?Ge(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Fr(Ke(r),n)+t+Fr(Je(r),n)},Pn.padEnd=function(t,e,n){t=ss(t);var i=(e=is(e))?Ge(t):0;return e&&i<e?t+Fr(e-i,n):t},Pn.padStart=function(t,e,n){t=ss(t);var i=(e=is(e))?Ge(t):0;return e&&i<e?Fr(e-i,n)+t:t},Pn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(ss(t).replace(H,""),e||0)},Pn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=fn();return sn(t+r*(e-t+Vt("1e-"+((r+"").length-1))),e)}return ji(t,e)},Pn.reduce=function(t,e,n){var i=Ca(t)?ye:Me,r=arguments.length<3;return i(t,Xr(e,4),n,r,ti)},Pn.reduceRight=function(t,e,n){var i=Ca(t)?_e:Me,r=arguments.length<3;return i(t,Xr(e,4),n,r,ei)},Pn.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:is(e),Ii(ss(t),e)},Pn.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Pn.result=function(t,e,n){var i=-1,r=(e=sr(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[Oo(e[i])];void 0===o&&(i=r,o=n),t=La(o)?o.call(t):o}return t},Pn.round=hu,Pn.runInContext=t,Pn.sample=function(t){return(Ca(t)?Bn:Bi)(t)},Pn.size=function(t){if(null==t)return 0;if(Ra(t))return Xa(t)?Ge(t):t.length;var e=no(t);return e==y||e==g?t.size:xi(t).length},Pn.snakeCase=js,Pn.some=function(t,e,n){var i=Ca(t)?ve:Qi;return n&&so(t,e,n)&&(e=void 0),i(t,Xr(e,3))},Pn.sortedIndex=function(t,e){return Zi(t,e)},Pn.sortedIndexBy=function(t,e,n){return $i(t,e,Xr(n,2))},Pn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Zi(t,e);if(i<n&&Ea(t[i],e))return i}return-1},Pn.sortedLastIndex=function(t,e){return Zi(t,e,!0)},Pn.sortedLastIndexBy=function(t,e,n){return $i(t,e,Xr(n,2),!0)},Pn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Zi(t,e,!0)-1;if(Ea(t[n],e))return n}return-1},Pn.startCase=Is,Pn.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Hn(is(n),0,t.length),e=Yi(e),t.slice(n,n+e.length)==e},Pn.subtract=du,Pn.sum=function(t){return t&&t.length?Pe(t,Qs):0},Pn.sumBy=function(t,e){return t&&t.length?Pe(t,Xr(e,2)):0},Pn.template=function(t,e,n){var i=Pn.templateSettings;n&&so(t,e,n)&&(e=void 0),t=ss(t),e=fs({},e,i,Lr);var r,o,a=fs({},e.imports,i.imports,Lr),s=bs(a),u=Ne(a,s),l=0,f=e.interpolate||ft,c="__p += '",h=_t((e.escape||ft).source+"|"+f.source+"|"+(f===U?nt:ft).source+"|"+(e.evaluate||ft).source+"|$","g"),d="//# sourceURL="+(xt.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Bt+"]")+"\n";t.replace(h,(function(e,n,i,a,s,u){return i||(i=a),c+=t.slice(l,u).replace(ct,De),n&&(r=!0,c+="' +\n__e("+n+") +\n'"),s&&(o=!0,c+="';\n"+s+";\n__p += '"),i&&(c+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),c+="';\n";var p=xt.call(e,"variable")&&e.variable;p||(c="with (obj) {\n"+c+"\n}\n"),c=(o?c.replace(C,""):c).replace(q,"$1").replace(R,"$1;"),c="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var y=zs((function(){return dt(s,d+"return "+c).apply(void 0,u)}));if(y.source=c,Ba(y))throw y;return y},Pn.times=function(t,e){if((t=is(t))<1||t>9007199254740991)return[];var n=4294967295,i=sn(t,4294967295);t-=4294967295;for(var r=Ee(i,e=Xr(e));++n<t;)e(n);return r},Pn.toFinite=ns,Pn.toInteger=is,Pn.toLength=rs,Pn.toLower=function(t){return ss(t).toLowerCase()},Pn.toNumber=os,Pn.toSafeInteger=function(t){return t?Hn(is(t),-9007199254740991,9007199254740991):0===t?t:0},Pn.toString=ss,Pn.toUpper=function(t){return ss(t).toUpperCase()},Pn.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace($,"");if(!t||!(e=Yi(e)))return t;var i=Qe(t),r=Qe(e);return lr(i,Ce(i,r),qe(i,r)+1).join("")},Pn.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Yi(e)))return t;var i=Qe(t);return lr(i,0,qe(i,Qe(e))+1).join("")},Pn.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(H,"");if(!t||!(e=Yi(e)))return t;var i=Qe(t);return lr(i,Ce(i,Qe(e))).join("")},Pn.truncate=function(t,e){var n=30,i="...";if(Va(e)){var r="separator"in e?e.separator:r;n="length"in e?is(e.length):n,i="omission"in e?Yi(e.omission):i}var o=(t=ss(t)).length;if(Be(t)){var a=Qe(t);o=a.length}if(n>=o)return t;var s=n-Ge(i);if(s<1)return i;var u=a?lr(a,0,s).join(""):t.slice(0,s);if(void 0===r)return u+i;if(a&&(s+=u.length-s),$a(r)){if(t.slice(s).search(r)){var l,f=u;for(r.global||(r=_t(r.source,ss(it.exec(r))+"g")),r.lastIndex=0;l=r.exec(f);)var c=l.index;u=u.slice(0,void 0===c?s:c)}}else if(t.indexOf(Yi(r),s)!=s){var h=u.lastIndexOf(r);h>-1&&(u=u.slice(0,h))}return u+i},Pn.unescape=function(t){return(t=ss(t))&&D.test(t)?t.replace(j,Ze):t},Pn.uniqueId=function(t){var e=++At;return ss(t)+e},Pn.upperCase=Ds,Pn.upperFirst=Bs,Pn.each=sa,Pn.eachRight=ua,Pn.first=Ro,Xs(Pn,(fu={},ui(Pn,(function(t,e){xt.call(Pn.prototype,e)||(fu[e]=t)})),fu),{chain:!1}),Pn.VERSION="4.17.15",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Pn[t].placeholder=Pn})),se(["drop","take"],(function(t,e){Fn.prototype[t]=function(n){n=void 0===n?1:an(is(n),0);var i=this.__filtered__&&!e?new Fn(this):this.clone();return i.__filtered__?i.__takeCount__=sn(n,i.__takeCount__):i.__views__.push({size:sn(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},Fn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Fn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Fn.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Fn.prototype[t]=function(){return this.__filtered__?new Fn(this):this[n](1)}})),Fn.prototype.compact=function(){return this.filter(Qs)},Fn.prototype.find=function(t){return this.filter(t).head()},Fn.prototype.findLast=function(t){return this.reverse().find(t)},Fn.prototype.invokeMap=Di((function(t,e){return"function"==typeof t?new Fn(this):this.map((function(n){return mi(n,t,e)}))})),Fn.prototype.reject=function(t){return this.filter(xa(Xr(t)))},Fn.prototype.slice=function(t,e){t=is(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Fn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=is(e))<0?n.dropRight(-e):n.take(e-t)),n)},Fn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Fn.prototype.toArray=function(){return this.take(4294967295)},ui(Fn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=Pn[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(Pn.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof Fn,u=a[0],l=s||Ca(e),f=function(t){var e=r.apply(Pn,pe([t],a));return i&&c?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var c=this.__chain__,h=!!this.__actions__.length,d=o&&!c,p=s&&!h;if(!o&&l){e=p?e:new Fn(this);var y=t.apply(e,a);return y.__actions__.push({func:na,args:[f],thisArg:void 0}),new Nn(y,c)}return d&&p?t.apply(this,a):(y=this.thru(f),d?i?y.value()[0]:y.value():y)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=gt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Pn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Ca(r)?r:[],t)}return this[n]((function(n){return e.apply(Ca(n)?n:[],t)}))}})),ui(Fn.prototype,(function(t,e){var n=Pn[e];if(n){var i=n.name+"";xt.call(gn,i)||(gn[i]=[]),gn[i].push({name:e,func:n})}})),gn[Pr(void 0,2).name]=[{name:"wrapper",func:void 0}],Fn.prototype.clone=function(){var t=new Fn(this.__wrapped__);return t.__actions__=vr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=vr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=vr(this.__views__),t},Fn.prototype.reverse=function(){if(this.__filtered__){var t=new Fn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Fn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ca(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,f=this.__iteratees__,c=f.length,h=0,d=sn(u,this.__takeCount__);if(!n||!i&&r==u&&d==u)return nr(t,this.__actions__);var p=[];t:for(;u--&&h<d;){for(var y=-1,_=t[l+=e];++y<c;){var v=f[y],m=v.iteratee,g=v.type,b=m(_);if(2==g)_=b;else if(!b){if(1==g)continue t;break t}}p[h++]=_}return p},Pn.prototype.at=ia,Pn.prototype.chain=function(){return ea(this)},Pn.prototype.commit=function(){return new Nn(this.value(),this.__chain__)},Pn.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Pn.prototype.plant=function(t){for(var e,n=this;n instanceof kn;){var i=Po(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},Pn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Fn){var e=t;return this.__actions__.length&&(e=new Fn(this)),(e=e.reverse()).__actions__.push({func:na,args:[Vo],thisArg:void 0}),new Nn(e,this.__chain__)}return this.thru(Vo)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return nr(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,Jt&&(Pn.prototype[Jt]=function(){return this}),Pn}();Zt._=$e,void 0===(r=function(){return $e}.call(e,n,e,i))||(i.exports=r)}).call(this)}).call(this,n(8),n(11)(t))},function(t,e,n){var i;
/**
 * @license Fraction.js v4.0.12 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(n){"use strict";var r={s:1,n:0,d:1};function o(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var a=h.DivisionByZero=o("DivisionByZero"),s=h.InvalidParameter=o("InvalidParameter");function u(t,e){return isNaN(t=parseInt(t,10))&&l(),t*e}function l(){throw new s}var f=function(t,e){var n,i=0,o=1,s=1,f=0,c=0,h=0,d=1,p=1,y=0,_=1,v=1,m=1,g=1e7;if(null==t);else if(void 0!==e)s=(i=t)*(o=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(i=t.n,o=t.d,"s"in t&&(i*=t.s)):0 in t?(i=t[0],1 in t&&(o=t[1])):l(),s=i*o;break;case"number":if(t<0&&(s=t,t=-t),t%1==0)i=t;else if(t>0){for(t>=1&&(t/=p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));_<=g&&m<=g;){if(t===(n=(y+v)/(_+m))){_+m<=g?(i=y+v,o=_+m):m>_?(i=v,o=m):(i=y,o=_);break}t>n?(y+=v,_+=m):(v+=y,m+=_),_>g?(i=v,o=m):(i=y,o=_)}i*=p}else(isNaN(t)||isNaN(e))&&(o=i=NaN);break;case"string":if(null===(_=t.match(/\d+|./g))&&l(),"-"===_[y]?(s=-1,y++):"+"===_[y]&&y++,_.length===y+1?c=u(_[y++],s):"."===_[y+1]||"."===_[y]?("."!==_[y]&&(f=u(_[y++],s)),(++y+1===_.length||"("===_[y+1]&&")"===_[y+3]||"'"===_[y+1]&&"'"===_[y+3])&&(c=u(_[y],s),d=Math.pow(10,_[y].length),y++),("("===_[y]&&")"===_[y+2]||"'"===_[y]&&"'"===_[y+2])&&(h=u(_[y+1],s),p=Math.pow(10,_[y+1].length)-1,y+=3)):"/"===_[y+1]||":"===_[y+1]?(c=u(_[y],s),d=u(_[y+2],1),y+=3):"/"===_[y+3]&&" "===_[y+1]&&(f=u(_[y],s),c=u(_[y+2],s),d=u(_[y+4],1),y+=5),_.length<=y){s=i=h+(o=d*p)*f+p*c;break}default:l()}if(0===o)throw new a;r.s=s<0?-1:1,r.n=Math.abs(i),r.d=Math.abs(o)};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function h(t,e){if(!(this instanceof h))return new h(t,e);f(t,e),t=h.REDUCE?c(r.d,r.n):1,this.s=r.s,this.n=r.n/t,this.d=r.d/t}h.REDUCE=1,h.prototype={s:1,n:0,d:1,abs:function(){return new h(this.n,this.d)},neg:function(){return new h(-this.s*this.n,this.d)},add:function(t,e){return f(t,e),new h(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(t,e){return f(t,e),new h(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(t,e){return f(t,e),new h(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(t,e){return f(t,e),new h(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return new h(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new h(NaN):void 0===t?new h(this.s*this.n%this.d,1):(f(t,e),0===r.n&&0===this.d&&h(0,0),new h(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d))},gcd:function(t,e){return f(t,e),new h(c(r.n,this.n)*c(r.d,this.d),r.d*this.d)},lcm:function(t,e){return f(t,e),0===r.n&&0===this.n?new h:new h(r.n*this.n,c(r.n,this.n)*c(r.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new h(this.s*this.d,this.n)},pow:function(t){return t<0?new h(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new h(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return f(t,e),this.s*this.n*r.d==r.s*r.n*this.d},compare:function(t,e){f(t,e);var n=this.s*this.n*r.d-r.s*r.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new h(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var i=0;i<e.length;i++){var r=n(e.slice(0,i+1));if(r.sub(this.abs()).abs().valueOf()<t)return r.mul(this.s)}return this},divisible:function(t,e){return f(t,e),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",i=this.n,r=this.d;return this.s<0&&(n+="-"),1===r?n+=i:(t&&(e=Math.floor(i/r))>0&&(n+=e,n+=" ",i%=r),n+=i,n+="/",n+=r),n},toLatex:function(t){var e,n="",i=this.n,r=this.d;return this.s<0&&(n+="-"),1===r?n+=i:(t&&(e=Math.floor(i/r))>0&&(n+=e,i%=r),n+="\\frac{",n+=i,n+="}{",n+=r,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,i=[];if(isNaN(this.n)||isNaN(this.d))return i;do{i.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return i},toString:function(t){var e,n=this.n,i=this.d;if(isNaN(n)||isNaN(i))return"NaN";h.REDUCE||(n/=e=c(n,i),i/=e),t=t||15;var r=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,i=1;1!==n;i++)if(n=10*n%e,i>2e3)return 0;return i}(0,i),o=function(t,e,n){for(var i=1,r=function(t,e,n){for(var i=1;e>0;t=t*t%n,e>>=1)1&e&&(i=i*t%n);return i}(10,n,e),o=0;o<300;o++){if(i===r)return o;i=10*i%e,r=10*r%e}return 0}(0,i,r),a=-1===this.s?"-":"";if(a+=n/i|0,n%=i,(n*=10)&&(a+="."),r){for(var s=o;s--;)a+=n/i|0,n%=i,n*=10;a+="(";for(s=r;s--;)a+=n/i|0,n%=i,n*=10;a+=")"}else for(s=t;n&&s--;)a+=n/i|0,n%=i,n*=10;return a}},void 0===(i=function(){return h}.apply(e,[]))||(t.exports=i)}()},function(t,e){t.exports=function t(e,n){"use strict";var i,r,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,f=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},c=f(e).replace(a,"")||"",h=f(n).replace(a,"")||"",d=c.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=h.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),y=parseInt(c.match(u),16)||1!==d.length&&c.match(s)&&Date.parse(c),_=parseInt(h.match(u),16)||y&&h.match(s)&&Date.parse(h)||null;if(_){if(y<_)return-1;if(y>_)return 1}for(var v=0,m=Math.max(d.length,p.length);v<m;v++){if(i=!(d[v]||"").match(l)&&parseFloat(d[v])||d[v]||0,r=!(p[v]||"").match(l)&&parseFloat(p[v])||p[v]||0,isNaN(i)!==isNaN(r))return isNaN(i)?1:-1;if(typeof i!=typeof r&&(i+="",r+=""),i<r)return-1;if(i>r)return 1}return 0}},function(t,e,n){"use strict";(function(e){var n=[],i=void 0===e?window:e,r=Math.pow(256,6),o=Math.pow(2,52),a=2*o,s=Math.random;function u(t){var e,n=t.length,i=this,r=0,o=i.i=i.j=0,a=i.S=[];for(n||(t=[n++]);r<256;)a[r]=r++;for(r=0;r<256;r++)a[r]=a[o=255&o+t[r%n]+(e=a[r])],a[o]=e;(i.g=function(t){for(var e,n=0,r=i.i,o=i.j,a=i.S;t--;)e=a[r=255&r+1],n=256*n+a[255&(a[r]=a[o=255&o+e])+(a[o]=e)];return i.i=r,i.j=o,n})(256)}function l(t,e){var n,i=[],r=(typeof t)[0];if(e&&"o"==r)for(n in t)try{i.push(l(t[n],e-1))}catch(t){}return i.length?i:"s"==r?t:t+"\0"}function f(t,e){for(var n,i=t+"",r=0;r<i.length;)e[255&r]=255&(n^=19*e[255&r])+i.charCodeAt(r++);return h(e)}function c(t){try{return i.crypto.getRandomValues(t=new Uint8Array(256)),h(t)}catch(t){return[+new Date,i,i.navigator&&i.navigator.plugins,i.screen,h(n)]}}function h(t){return String.fromCharCode.apply(0,t)}t.exports=function(e,i){if(i&&!0===i.global)return i.global=!1,Math.random=t.exports(e,i),i.global=!0,Math.random;var s=i&&i.entropy||!1,d=[],p=(f(l(s?[e,h(n)]:0 in arguments?e:c(),3),d),new u(d));return f(h(p.S),n),function(){for(var t=p.g(6),e=r,n=0;t<o;)t=256*(t+n),e*=256,n=p.g(1);for(;t>=a;)t/=2,e/=2,n>>>=1;return(t+n)/e}},t.exports.resetGlobal=function(){Math.random=s},f(Math.random(),n)}).call(this,n(8))},function(t,e,n){"use strict";var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){function t(){return!0}function e(){return!1}function n(){}return function i(){var r=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],o={name:"any",test:t},a=[],s=[],u={types:r,conversions:s,ignore:a};function l(t){var e=B(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return o;var n=B(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function f(t){return t===o?999:u.types.indexOf(t)}function c(t){var e=B(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function h(t){return t.map((function(t){var e=t.types.map(b);return(t.restParam?"...":"")+e.join("|")})).join(",")}function d(t,e){var n=0===t.indexOf("..."),i=(n?t.length>3?t.slice(3):"any":t).split("|").map(F).filter(C).filter(N),r=function(t,e){var n={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||n[t.from]||(n[t.from]=t)})),Object.keys(n).map((function(t){return n[t]}))}(e,i),o=i.map((function(t){var e=l(t);return{name:t,typeIndex:f(e),test:e.test,conversion:null,conversionIndex:-1}})),a=r.map((function(t){var n=l(t.from);return{name:t.from,typeIndex:f(n),test:n.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:o.concat(a),restParam:n}}function p(t){var e=j(t);return!!e&&e.restParam}function y(t){return t.types.some((function(t){return null!=t.conversion}))}function _(e){if(e&&0!==e.types.length){if(1===e.types.length)return l(e.types[0].name).test;if(2===e.types.length){var n=l(e.types[0].name).test,i=l(e.types[1].name).test;return function(t){return n(t)||i(t)}}var r=e.types.map((function(t){return l(t.name).test}));return function(t){for(var e=0;e<r.length;e++)if(r[e](t))return!0;return!1}}return t}function v(t){var e,n,i,r;if(p(t)){var o=(e=(r=t,r.slice(0,r.length-1)).map(_)).length,a=_(j(t));return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return function(t){for(var e=o;e<t.length;e++)if(!a(t[e]))return!1;return!0}(t)&&t.length>=o+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=_(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=_(t[0]),i=_(t[1]),function(t){return n(t[0])&&i(t[1])&&2===t.length}):(e=t.map(_),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function m(t,e){return e<t.params.length?t.params[e]:p(t.params)?j(t.params):null}function g(t,e,n){var i=m(t,e);return(i?n?i.types.filter(w):i.types:[]).map(b)}function b(t){return t.name}function w(t){return null===t.conversion||void 0===t.conversion}function S(t,e){var n=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}(L(t,(function(t){return g(t,e,!1)})));return-1!==n.indexOf("any")?["any"]:n}function T(t,e,n){var i,r,o,a=t||"unnamed",s=n;for(o=0;o<e.length;o++){var u=s.filter((function(t){var n=_(m(t,o));return(o<t.params.length||p(t.params))&&n(e[o])}));if(0===u.length){if((r=S(s,o)).length>0){var l=c(e[o]);return(i=new TypeError("Unexpected type of argument in function "+a+" (expected: "+r.join(" or ")+", actual: "+l+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:l,expected:r},i}}else s=u}var f=s.map((function(t){return p(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,f))return r=S(s,o),(i=new TypeError("Too few arguments in function "+a+" (expected: "+r.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:r},i;var h=Math.max.apply(null,f);return e.length>h?((i=new TypeError("Too many arguments in function "+a+" (expected: "+h+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:h},i):((i=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(c)},i)}function x(t){for(var e=999,n=0;n<t.types.length;n++)w(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function A(t){for(var e=999,n=0;n<t.types.length;n++)w(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function O(t,e){var n;return 0!=(n=t.restParam-e.restParam)||0!=(n=y(t)-y(e))||0!=(n=x(t)-x(e))?n:A(t)-A(e)}function M(t,e){var n,i,r=Math.min(t.params.length,e.params.length);if(0!=(i=t.params.some(y)-e.params.some(y)))return i;for(n=0;n<r;n++)if(0!=(i=y(t.params[n])-y(e.params[n])))return i;for(n=0;n<r;n++)if(0!==(i=O(t.params[n],e.params[n])))return i;return t.params.length-e.params.length}function P(t){var e,n,i,r,o=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(o.push(l(t.conversion.from).test),a.push(t.conversion.convert))})),a.length){case 0:return function(t){return t};case 1:return e=o[0],i=a[0],function(t){return e(t)?i(t):t};case 2:return e=o[0],n=o[1],i=a[0],r=a[1],function(t){return e(t)?i(t):n(t)?r(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(o[e](t))return a[e](t);return t}}}function E(t,e){return function t(n,i,r){if(i<n.length){var o,a=n[i],s=e?a.types.filter(w):a.types;if(a.restParam){var u=s.filter(w);o=u.length<s.length?[u,s]:[s]}else o=s.map((function(t){return[t]}));return L(o,(function(e){return t(n,i+1,r.concat([e]))}))}return[r.map((function(t,e){return{types:t,restParam:e===n.length-1&&p(n)}}))]}(t,0,[])}function k(t,i){if(0===Object.keys(i).length)throw new SyntaxError("No signatures provided");var r=[];Object.keys(i).map((function(t){return function(t,e,n){var i=[];return""!==t.trim()&&(i=t.split(",").map(F).map((function(t,e,i){var r=d(t,n);if(r.restParam&&e!==i.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return r}))),i.some(R)?null:{params:i,fn:e}}(t,i[t],u.conversions)})).filter(q).forEach((function(t){var e=B(r,(function(e){return function(t,e){for(var n=Math.max(t.params.length,e.params.length),i=0;i<n;i++)if(!D(g(t,i,!0),g(e,i,!0)))return!1;var r=t.params.length,o=e.params.length,a=p(t.params),s=p(e.params);return a?s?r===o:o>=r:s?r>=o:r===o}(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+h(e.params)+'" and "'+h(t.params)+'".');r.push(t)}));var o=L(r,(function(t){return(t?E(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(q);o.sort(M);var a=o[0]&&o[0].params.length<=2&&!p(o[0].params),s=o[1]&&o[1].params.length<=2&&!p(o[1].params),l=o[2]&&o[2].params.length<=2&&!p(o[2].params),f=o[3]&&o[3].params.length<=2&&!p(o[3].params),c=o[4]&&o[4].params.length<=2&&!p(o[4].params),m=o[5]&&o[5].params.length<=2&&!p(o[5].params),b=a&&s&&l&&f&&c&&m,w=o.map((function(t){return v(t.params)})),S=a?_(o[0].params[0]):e,x=s?_(o[1].params[0]):e,A=l?_(o[2].params[0]):e,O=f?_(o[3].params[0]):e,k=c?_(o[4].params[0]):e,N=m?_(o[5].params[0]):e,C=a?_(o[0].params[1]):e,j=s?_(o[1].params[1]):e,z=l?_(o[2].params[1]):e,U=f?_(o[3].params[1]):e,V=c?_(o[4].params[1]):e,W=m?_(o[5].params[1]):e,G=o.map((function(t){return function(t,e){var n=e;if(t.some(y)){var i=p(t),r=t.map(P);n=function(){for(var t=[],n=i?arguments.length-1:arguments.length,o=0;o<n;o++)t[o]=r[o](arguments[o]);return i&&(t[n]=arguments[n].map(r[n])),e.apply(null,t)}}var o=n;if(p(t)){var a=t.length-1;o=function(){return n.apply(null,I(arguments,0,a).concat([I(arguments,a)]))}}return o}(t.params,t.fn)})),Q=a?G[0]:n,Z=s?G[1]:n,$=l?G[2]:n,H=f?G[3]:n,X=c?G[4]:n,Y=m?G[5]:n,J=a?o[0].params.length:-1,K=s?o[1].params.length:-1,tt=l?o[2].params.length:-1,et=f?o[3].params.length:-1,nt=c?o[4].params.length:-1,it=m?o[5].params.length:-1,rt=b?6:0,ot=o.length,at=function(){for(var e=rt;e<ot;e++)if(w[e](arguments))return G[e].apply(null,arguments);throw T(t,arguments,o)},st=function(t,e){return arguments.length===J&&S(t)&&C(e)?Q.apply(null,arguments):arguments.length===K&&x(t)&&j(e)?Z.apply(null,arguments):arguments.length===tt&&A(t)&&z(e)?$.apply(null,arguments):arguments.length===et&&O(t)&&U(e)?H.apply(null,arguments):arguments.length===nt&&k(t)&&V(e)?X.apply(null,arguments):arguments.length===it&&N(t)&&W(e)?Y.apply(null,arguments):at.apply(null,arguments)};try{Object.defineProperty(st,"name",{value:t})}catch(t){}return st.signatures=function(t){var e={};return t.forEach((function(t){t.params.some(y)||E(t.params,!0).forEach((function(n){e[h(n)]=t.fn}))})),e}(o),st}function N(t){return-1===u.ignore.indexOf(t)}function F(t){return t.trim()}function C(t){return!!t}function q(t){return null!==t}function R(t){return 0===t.types.length}function j(t){return t[t.length-1]}function I(t,e,n){return Array.prototype.slice.call(t,e,n)}function D(t,e){for(var n=0;n<t.length;n++)if(i=e,r=t[n],-1!==i.indexOf(r))return!0;var i,r;return!1}function B(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function L(t,e){return Array.prototype.concat.apply([],t.map(e))}function z(t){for(var e="",n=0;n<t.length;n++){var i=t[n];if(("object"==typeof i.signatures||"string"==typeof i.signature)&&""!==i.name)if(""===e)e=i.name;else if(e!==i.name){var r=new Error("Function names do not match (expected: "+e+", actual: "+i.name+")");throw r.data={actual:i.name,expected:e},r}}return e}function U(t){var e,n={};function i(t,i){if(n.hasOwnProperty(t)&&i!==n[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var r=0;r<t.length;r++){var o=t[r];if("object"==typeof o.signatures)for(var a in o.signatures)o.signatures.hasOwnProperty(a)&&(i(a,o.signatures[a]),n[a]=o.signatures[a]);else{if("string"!=typeof o.signature)throw(e=new TypeError("Function is no typed-function (index: "+r+")")).data={index:r},e;i(o.signature,o),n[o.signature]=o}}return n}return(u=k("typed",{"string, Object":k,Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return k(z(e),t)},"...Function":function(t){return k(z(t),U(t))},"string, ...Function":function(t,e){return k(t,U(e))}})).create=i,u.types=r,u.conversions=s,u.ignore=a,u.convert=function(t,e){var n=c(t);if(e===n)return t;for(var i=0;i<u.conversions.length;i++){var r=u.conversions[i];if(r.from===n&&r.to===e)return r.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)},u.find=function(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var i=0;i<n.length;i++)n[i]=n[i].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var r=n.join(","),o=t.signatures[r];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,t);u.types.push(t)},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t)},u}()})?i.apply(e,r):i)||(t.exports=o)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i;!function(r){"use strict";var o,a,s,u=9e15,l="0123456789abcdef",f="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",h={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},d=!0,p="[DecimalError] Invalid argument: ",y=Math.floor,_=Math.pow,v=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,m=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,g=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,b=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,w=1e7,S=f.length-1,T=c.length-1,x={name:"[object Decimal]"};function A(t){var e,n,i,r=t.length-1,o="",a=t[0];if(r>0){for(o+=a,e=1;e<r;e++)(n=7-(i=t[e]+"").length)&&(o+=j(n)),o+=i;(n=7-(i=(a=t[e])+"").length)&&(o+=j(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function O(t,e,n){if(t!==~~t||t<e||t>n)throw Error(p+t)}function M(t,e,n,i){var r,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=7,r=0):(r=Math.ceil((e+1)/7),e%=7),o=_(10,7-e),s=t[r]%o|0,null==i?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[r+1]/o/100|0)==_(10,e-2)-1||(s==o/2||0==s)&&0==(t[r+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(i||n<4)&&9999==s||!i&&n>3&&4999==s):a=((i||n<4)&&s+1==o||!i&&n>3&&s+1==o/2)&&(t[r+1]/o/1e3|0)==_(10,e-3)-1,a}function P(t,e,n){for(var i,r,o=[0],a=0,s=t.length;a<s;){for(r=o.length;r--;)o[r]*=e;for(o[0]+=l.indexOf(t.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(void 0===o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}x.absoluteValue=x.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),k(t)},x.ceil=function(){return k(new this.constructor(this),this.e+1,2)},x.comparedTo=x.cmp=function(t){var e,n,i,r,o=this,a=o.d,s=(t=new o.constructor(t)).d,u=o.s,l=t.s;if(!a||!s)return u&&l?u!==l?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-l:0;if(u!==l)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(e=0,n=(i=a.length)<(r=s.length)?i:r;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return i===r?0:i>r^u<0?1:-1},x.cosine=x.cos=function(){var t,e,n=this,i=n.constructor;return n.d?n.d[0]?(t=i.precision,e=i.rounding,i.precision=t+Math.max(n.e,n.sd())+7,i.rounding=1,n=function(t,e){var n,i,r=e.d.length;r<32?(n=Math.ceil(r/3),i=(1/Q(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10");t.precision+=n,e=G(t,1,e.times(i),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}(i,Z(i,n)),i.precision=t,i.rounding=e,k(2==s||3==s?n.neg():n,t,e,!0)):new i(1):new i(NaN)},x.cubeRoot=x.cbrt=function(){var t,e,n,i,r,o,a,s,u,l,f=this,c=f.constructor;if(!f.isFinite()||f.isZero())return new c(f);for(d=!1,(o=f.s*_(f.s*f,1/3))&&Math.abs(o)!=1/0?i=new c(o.toString()):(n=A(f.d),(o=((t=f.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=_(n,1/3),t=y((t+1)/3)-(t%3==(t<0?-1:2)),(i=new c(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=f.s),a=(t=c.precision)+3;;)if(l=(u=(s=i).times(s).times(s)).plus(f),i=E(l.plus(f).times(s),l.plus(u),a+2,1),A(s.d).slice(0,a)===(n=A(i.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(r||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(k(i,t+1,1),e=!i.times(i).times(i).eq(f));break}if(!r&&(k(s,t+1,0),s.times(s).times(s).eq(f))){i=s;break}a+=4,r=1}return d=!0,k(i,t,c.rounding,e)},x.decimalPlaces=x.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=7*((t=e.length-1)-y(this.e/7)),t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},x.dividedBy=x.div=function(t){return E(this,new this.constructor(t))},x.dividedToIntegerBy=x.divToInt=function(t){var e=this.constructor;return k(E(this,new e(t),0,1,1),e.precision,e.rounding)},x.equals=x.eq=function(t){return 0===this.cmp(t)},x.floor=function(){return k(new this.constructor(this),this.e+1,3)},x.greaterThan=x.gt=function(t){return this.cmp(t)>0},x.greaterThanOrEqualTo=x.gte=function(t){var e=this.cmp(t);return 1==e||0===e},x.hyperbolicCosine=x.cosh=function(){var t,e,n,i,r,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,i=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(r=o.d.length)<32?e=(1/Q(4,t=Math.ceil(r/3))).toString():(t=16,e="2.3283064365386962890625e-10"),o=G(a,1,o.times(e),new a(1),!0);for(var u,l=t,f=new a(8);l--;)u=o.times(o),o=s.minus(u.times(f.minus(u.times(f))));return k(o,a.precision=n,a.rounding=i,!0)},x.hyperbolicSine=x.sinh=function(){var t,e,n,i,r=this,o=r.constructor;if(!r.isFinite()||r.isZero())return new o(r);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(r.e,r.sd())+4,o.rounding=1,(i=r.d.length)<3)r=G(o,2,r,r,!0);else{t=(t=1.4*Math.sqrt(i))>16?16:0|t,r=G(o,2,r=r.times(1/Q(5,t)),r,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);t--;)a=r.times(r),r=r.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=e,o.rounding=n,k(r,e,n,!0)},x.hyperbolicTangent=x.tanh=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+7,i.rounding=1,E(n.sinh(),n.cosh(),i.precision=t,i.rounding=e)):new i(n.s)},x.inverseCosine=x.acos=function(){var t,e=this,n=e.constructor,i=e.abs().cmp(1),r=n.precision,o=n.rounding;return-1!==i?0===i?e.isNeg()?q(n,r,o):new n(0):new n(NaN):e.isZero()?q(n,r+4,o).times(.5):(n.precision=r+6,n.rounding=1,e=e.asin(),t=q(n,r+4,o).times(.5),n.precision=r,n.rounding=o,t.minus(e))},x.inverseHyperbolicCosine=x.acosh=function(){var t,e,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(t=i.precision,e=i.rounding,i.precision=t+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,d=!1,n=n.times(n).minus(1).sqrt().plus(n),d=!0,i.precision=t,i.rounding=e,n.ln()):new i(n)},x.inverseHyperbolicSine=x.asinh=function(){var t,e,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,d=!1,n=n.times(n).plus(1).sqrt().plus(n),d=!0,i.precision=t,i.rounding=e,n.ln())},x.inverseHyperbolicTangent=x.atanh=function(){var t,e,n,i,r=this,o=r.constructor;return r.isFinite()?r.e>=0?new o(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(t=o.precision,e=o.rounding,i=r.sd(),Math.max(i,t)<2*-r.e-1?k(new o(r),t,e,!0):(o.precision=n=i-r.e,r=E(r.plus(1),new o(1).minus(r),n+t,1),o.precision=t+4,o.rounding=1,r=r.ln(),o.precision=t,o.rounding=e,r.times(.5))):new o(NaN)},x.inverseSine=x.asin=function(){var t,e,n,i,r=this,o=r.constructor;return r.isZero()?new o(r):(e=r.abs().cmp(1),n=o.precision,i=o.rounding,-1!==e?0===e?((t=q(o,n+4,i).times(.5)).s=r.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,r=r.div(new o(1).minus(r.times(r)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=i,r.times(2)))},x.inverseTangent=x.atan=function(){var t,e,n,i,r,o,a,s,u,l=this,f=l.constructor,c=f.precision,h=f.rounding;if(l.isFinite()){if(l.isZero())return new f(l);if(l.abs().eq(1)&&c+4<=T)return(a=q(f,c+4,h).times(.25)).s=l.s,a}else{if(!l.s)return new f(NaN);if(c+4<=T)return(a=q(f,c+4,h).times(.5)).s=l.s,a}for(f.precision=s=c+10,f.rounding=1,t=n=Math.min(28,s/7+2|0);t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(d=!1,e=Math.ceil(s/7),i=1,u=l.times(l),a=new f(l),r=l;-1!==t;)if(r=r.times(u),o=a.minus(r.div(i+=2)),r=r.times(u),void 0!==(a=o.plus(r.div(i+=2))).d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),d=!0,k(a,f.precision=c,f.rounding=h,!0)},x.isFinite=function(){return!!this.d},x.isInteger=x.isInt=function(){return!!this.d&&y(this.e/7)>this.d.length-2},x.isNaN=function(){return!this.s},x.isNegative=x.isNeg=function(){return this.s<0},x.isPositive=x.isPos=function(){return this.s>0},x.isZero=function(){return!!this.d&&0===this.d[0]},x.lessThan=x.lt=function(t){return this.cmp(t)<0},x.lessThanOrEqualTo=x.lte=function(t){return this.cmp(t)<1},x.logarithm=x.log=function(t){var e,n,i,r,o,a,s,u,l=this.constructor,f=l.precision,c=l.rounding;if(null==t)t=new l(10),e=!0;else{if(n=(t=new l(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new l(NaN);e=t.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new l(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(r=n[0];r%10==0;)r/=10;o=1!==r}if(d=!1,a=z(this,s=f+5),i=e?C(l,s+10):z(t,s),M((u=E(a,i,s,1)).d,r=f,c))do{if(a=z(this,s+=10),i=e?C(l,s+10):z(t,s),u=E(a,i,s,1),!o){+A(u.d).slice(r+1,r+15)+1==1e14&&(u=k(u,f+1,0));break}}while(M(u.d,r+=10,c));return d=!0,k(u,f,c)},x.minus=x.sub=function(t){var e,n,i,r,o,a,s,u,l,f,c,h,p=this,_=p.constructor;if(t=new _(t),!p.d||!t.d)return p.s&&t.s?p.d?t.s=-t.s:t=new _(t.d||p.s!==t.s?p:NaN):t=new _(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(l=p.d,h=t.d,s=_.precision,u=_.rounding,!l[0]||!h[0]){if(h[0])t.s=-t.s;else{if(!l[0])return new _(3===u?-0:0);t=new _(p)}return d?k(t,s,u):t}if(n=y(t.e/7),f=y(p.e/7),l=l.slice(),o=f-n){for((c=o<0)?(e=l,o=-o,a=h.length):(e=h,n=f,a=l.length),o>(i=Math.max(Math.ceil(s/7),a)+2)&&(o=i,e.length=1),e.reverse(),i=o;i--;)e.push(0);e.reverse()}else{for((c=(i=l.length)<(a=h.length))&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}o=0}for(c&&(e=l,l=h,h=e,t.s=-t.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(r=i;r&&0===l[--r];)l[r]=w-1;--l[r],l[i]+=w}l[i]-=h[i]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=F(l,n),d?k(t,s,u):t):new _(3===u?-0:0)},x.modulo=x.mod=function(t){var e,n=this,i=n.constructor;return t=new i(t),!n.d||!t.s||t.d&&!t.d[0]?new i(NaN):!t.d||n.d&&!n.d[0]?k(new i(n),i.precision,i.rounding):(d=!1,9==i.modulo?(e=E(n,t.abs(),0,3,1)).s*=t.s:e=E(n,t,0,i.modulo,1),e=e.times(t),d=!0,n.minus(e))},x.naturalExponential=x.exp=function(){return L(this)},x.naturalLogarithm=x.ln=function(){return z(this)},x.negated=x.neg=function(){var t=new this.constructor(this);return t.s=-t.s,k(t)},x.plus=x.add=function(t){var e,n,i,r,o,a,s,u,l,f,c=this,h=c.constructor;if(t=new h(t),!c.d||!t.d)return c.s&&t.s?c.d||(t=new h(t.d||c.s===t.s?c:NaN)):t=new h(NaN),t;if(c.s!=t.s)return t.s=-t.s,c.minus(t);if(l=c.d,f=t.d,s=h.precision,u=h.rounding,!l[0]||!f[0])return f[0]||(t=new h(c)),d?k(t,s,u):t;if(o=y(c.e/7),i=y(t.e/7),l=l.slice(),r=o-i){for(r<0?(n=l,r=-r,a=f.length):(n=f,i=o,a=l.length),r>(a=(o=Math.ceil(s/7))>a?o+1:a+1)&&(r=a,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for((a=l.length)-(r=f.length)<0&&(r=a,n=f,f=l,l=n),e=0;r;)e=(l[--r]=l[r]+f[r]+e)/w|0,l[r]%=w;for(e&&(l.unshift(e),++i),a=l.length;0==l[--a];)l.pop();return t.d=l,t.e=F(l,i),d?k(t,s,u):t},x.precision=x.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(p+t);return n.d?(e=R(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},x.round=function(){var t=this,e=t.constructor;return k(new e(t),t.e+1,e.rounding)},x.sine=x.sin=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+Math.max(n.e,n.sd())+7,i.rounding=1,n=function(t,e){var n,i=e.d.length;if(i<3)return G(t,2,e,e);n=(n=1.4*Math.sqrt(i))>16?16:0|n,e=e.times(1/Q(5,n)),e=G(t,2,e,e);for(var r,o=new t(5),a=new t(16),s=new t(20);n--;)r=e.times(e),e=e.times(o.plus(r.times(a.times(r).minus(s))));return e}(i,Z(i,n)),i.precision=t,i.rounding=e,k(s>2?n.neg():n,t,e,!0)):new i(NaN)},x.squareRoot=x.sqrt=function(){var t,e,n,i,r,o,a=this,s=a.d,u=a.e,l=a.s,f=a.constructor;if(1!==l||!s||!s[0])return new f(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);for(d=!1,0==(l=Math.sqrt(+a))||l==1/0?(((e=A(s)).length+u)%2==0&&(e+="0"),l=Math.sqrt(e),u=y((u+1)/2)-(u<0||u%2),i=new f(e=l==1/0?"1e"+u:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+u)):i=new f(l.toString()),n=(u=f.precision)+3;;)if(i=(o=i).plus(E(a,o,n+2,1)).times(.5),A(o.d).slice(0,n)===(e=A(i.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(r||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(k(i,u+1,1),t=!i.times(i).eq(a));break}if(!r&&(k(o,u+1,0),o.times(o).eq(a))){i=o;break}n+=4,r=1}return d=!0,k(i,u,f.rounding,t)},x.tangent=x.tan=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+10,i.rounding=1,(n=n.sin()).s=1,n=E(n,new i(1).minus(n.times(n)).sqrt(),t+10,0),i.precision=t,i.rounding=e,k(2==s||4==s?n.neg():n,t,e,!0)):new i(NaN)},x.times=x.mul=function(t){var e,n,i,r,o,a,s,u,l,f=this,c=f.constructor,h=f.d,p=(t=new c(t)).d;if(t.s*=f.s,!(h&&h[0]&&p&&p[0]))return new c(!t.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:h&&p?0*t.s:t.s/0);for(n=y(f.e/7)+y(t.e/7),(u=h.length)<(l=p.length)&&(o=h,h=p,p=o,a=u,u=l,l=a),o=[],i=a=u+l;i--;)o.push(0);for(i=l;--i>=0;){for(e=0,r=u+i;r>i;)s=o[r]+p[i]*h[r-i-1]+e,o[r--]=s%w|0,e=s/w|0;o[r]=(o[r]+e)%w|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=F(o,n),d?k(t,c.precision,c.rounding):t},x.toBinary=function(t,e){return $(this,2,t,e)},x.toDecimalPlaces=x.toDP=function(t,e){var n=this,i=n.constructor;return n=new i(n),void 0===t?n:(O(t,0,1e9),void 0===e?e=i.rounding:O(e,0,8),k(n,t+n.e+1,e))},x.toExponential=function(t,e){var n,i=this,r=i.constructor;return void 0===t?n=N(i,!0):(O(t,0,1e9),void 0===e?e=r.rounding:O(e,0,8),n=N(i=k(new r(i),t+1,e),!0,t+1)),i.isNeg()&&!i.isZero()?"-"+n:n},x.toFixed=function(t,e){var n,i,r=this,o=r.constructor;return void 0===t?n=N(r):(O(t,0,1e9),void 0===e?e=o.rounding:O(e,0,8),n=N(i=k(new o(r),t+r.e+1,e),!1,t+i.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},x.toFraction=function(t){var e,n,i,r,o,a,s,u,l,f,c,h,y=this,v=y.d,m=y.constructor;if(!v)return new m(y);if(l=n=new m(1),i=u=new m(0),a=(o=(e=new m(i)).e=R(v)-y.e-1)%7,e.d[0]=_(10,a<0?7+a:a),null==t)t=o>0?e:l;else{if(!(s=new m(t)).isInt()||s.lt(l))throw Error(p+s);t=s.gt(e)?o>0?e:l:s}for(d=!1,s=new m(A(v)),f=m.precision,m.precision=o=7*v.length*2;c=E(s,e,0,1,1),1!=(r=n.plus(c.times(i))).cmp(t);)n=i,i=r,r=l,l=u.plus(c.times(r)),u=r,r=e,e=s.minus(c.times(r)),s=r;return r=E(t.minus(n),i,0,1,1),u=u.plus(r.times(l)),n=n.plus(r.times(i)),u.s=l.s=y.s,h=E(l,i,o,1).minus(y).abs().cmp(E(u,n,o,1).minus(y).abs())<1?[l,i]:[u,n],m.precision=f,d=!0,h},x.toHexadecimal=x.toHex=function(t,e){return $(this,16,t,e)},x.toNearest=function(t,e){var n=this,i=n.constructor;if(n=new i(n),null==t){if(!n.d)return n;t=new i(1),e=i.rounding}else{if(t=new i(t),void 0===e?e=i.rounding:O(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(d=!1,n=E(n,t,0,e,1).times(t),d=!0,k(n)):(t.s=n.s,n=t),n},x.toNumber=function(){return+this},x.toOctal=function(t,e){return $(this,8,t,e)},x.toPower=x.pow=function(t){var e,n,i,r,o,a,s=this,u=s.constructor,l=+(t=new u(t));if(!(s.d&&t.d&&s.d[0]&&t.d[0]))return new u(_(+s,l));if((s=new u(s)).eq(1))return s;if(i=u.precision,o=u.rounding,t.eq(1))return k(s,i,o);if((e=y(t.e/7))>=t.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return r=I(u,s,n,i),t.s<0?new u(1).div(r):k(r,i,o);if((a=s.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(e=0!=(n=_(+s,l))&&isFinite(n)?new u(n+"").e:y(l*(Math.log("0."+A(s.d))/Math.LN10+s.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(d=!1,u.rounding=s.s=1,n=Math.min(12,(e+"").length),(r=L(t.times(z(s,i+n)),i)).d&&M((r=k(r,i+5,1)).d,i,o)&&(e=i+10,+A((r=k(L(t.times(z(s,e+n)),e),e+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=k(r,i+1,0))),r.s=a,d=!0,u.rounding=o,k(r,i,o))},x.toPrecision=function(t,e){var n,i=this,r=i.constructor;return void 0===t?n=N(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(O(t,1,1e9),void 0===e?e=r.rounding:O(e,0,8),n=N(i=k(new r(i),t,e),t<=i.e||i.e<=r.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+n:n},x.toSignificantDigits=x.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(O(t,1,1e9),void 0===e?e=n.rounding:O(e,0,8)),k(new n(this),t,e)},x.toString=function(){var t=this,e=t.constructor,n=N(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},x.truncated=x.trunc=function(){return k(new this.constructor(this),this.e+1,1)},x.valueOf=x.toJSON=function(){var t=this,e=t.constructor,n=N(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var E=function(){function t(t,e,n){var i,r=0,o=t.length;for(t=t.slice();o--;)i=t[o]*e+r,t[o]=i%n|0,r=i/n|0;return r&&t.unshift(r),t}function e(t,e,n,i){var r,o;if(n!=i)o=n>i?1:-1;else for(r=o=0;r<n;r++)if(t[r]!=e[r]){o=t[r]>e[r]?1:-1;break}return o}function n(t,e,n,i){for(var r=0;n--;)t[n]-=r,r=t[n]<e[n]?1:0,t[n]=r*i+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(i,r,o,s,u,l){var f,c,h,d,p,_,v,m,g,b,S,T,x,A,O,M,P,E,N,F,C=i.constructor,q=i.s==r.s?1:-1,R=i.d,j=r.d;if(!(R&&R[0]&&j&&j[0]))return new C(i.s&&r.s&&(R?!j||R[0]!=j[0]:j)?R&&0==R[0]||!j?0*q:q/0:NaN);for(l?(p=1,c=i.e-r.e):(l=w,p=7,c=y(i.e/p)-y(r.e/p)),N=j.length,P=R.length,b=(g=new C(q)).d=[],h=0;j[h]==(R[h]||0);h++);if(j[h]>(R[h]||0)&&c--,null==o?(A=o=C.precision,s=C.rounding):A=u?o+(i.e-r.e)+1:o,A<0)b.push(1),_=!0;else{if(A=A/p+2|0,h=0,1==N){for(d=0,j=j[0],A++;(h<P||d)&&A--;h++)O=d*l+(R[h]||0),b[h]=O/j|0,d=O%j|0;_=d||h<P}else{for((d=l/(j[0]+1)|0)>1&&(j=t(j,d,l),R=t(R,d,l),N=j.length,P=R.length),M=N,T=(S=R.slice(0,N)).length;T<N;)S[T++]=0;(F=j.slice()).unshift(0),E=j[0],j[1]>=l/2&&++E;do{d=0,(f=e(j,S,N,T))<0?(x=S[0],N!=T&&(x=x*l+(S[1]||0)),(d=x/E|0)>1?(d>=l&&(d=l-1),1==(f=e(v=t(j,d,l),S,m=v.length,T=S.length))&&(d--,n(v,N<m?F:j,m,l))):(0==d&&(f=d=1),v=j.slice()),(m=v.length)<T&&v.unshift(0),n(S,v,T,l),-1==f&&(f=e(j,S,N,T=S.length))<1&&(d++,n(S,N<T?F:j,T,l)),T=S.length):0===f&&(d++,S=[0]),b[h++]=d,f&&S[0]?S[T++]=R[M]||0:(S=[R[M]],T=1)}while((M++<P||void 0!==S[0])&&A--);_=void 0!==S[0]}b[0]||b.shift()}if(1==p)g.e=c,a=_;else{for(h=1,d=b[0];d>=10;d/=10)h++;g.e=h+c*p-1,k(g,u?o+g.e+1:o,s,_)}return g}}();function k(t,e,n,i){var r,o,a,s,u,l,f,c,h,p=t.constructor;t:if(null!=e){if(!(c=t.d))return t;for(r=1,s=c[0];s>=10;s/=10)r++;if((o=e-r)<0)o+=7,a=e,u=(f=c[h=0])/_(10,r-a-1)%10|0;else if((h=Math.ceil((o+1)/7))>=(s=c.length)){if(!i)break t;for(;s++<=h;)c.push(0);f=u=0,r=1,a=(o%=7)-7+1}else{for(f=s=c[h],r=1;s>=10;s/=10)r++;u=(a=(o%=7)-7+r)<0?0:f/_(10,r-a-1)%10|0}if(i=i||e<0||void 0!==c[h+1]||(a<0?f:f%_(10,r-a-1)),l=n<4?(u||i)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||i||6==n&&(o>0?a>0?f/_(10,r-a):0:c[h-1])%10&1||n==(t.s<0?8:7)),e<1||!c[0])return c.length=0,l?(e-=t.e+1,c[0]=_(10,(7-e%7)%7),t.e=-e||0):c[0]=t.e=0,t;if(0==o?(c.length=h,s=1,h--):(c.length=h+1,s=_(10,7-o),c[h]=a>0?(f/_(10,r-a)%_(10,a)|0)*s:0),l)for(;;){if(0==h){for(o=1,a=c[0];a>=10;a/=10)o++;for(a=c[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,c[0]==w&&(c[0]=1));break}if(c[h]+=s,c[h]!=w)break;c[h--]=0,s=1}for(o=c.length;0===c[--o];)c.pop()}return d&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function N(t,e,n){if(!t.isFinite())return U(t);var i,r=t.e,o=A(t.d),a=o.length;return e?(n&&(i=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+j(i):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):r<0?(o="0."+j(-r-1)+o,n&&(i=n-a)>0&&(o+=j(i))):r>=a?(o+=j(r+1-a),n&&(i=n-r-1)>0&&(o=o+"."+j(i))):((i=r+1)<a&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-a)>0&&(r+1===a&&(o+="."),o+=j(i))),o}function F(t,e){var n=t[0];for(e*=7;n>=10;n/=10)e++;return e}function C(t,e,n){if(e>S)throw d=!0,n&&(t.precision=n),Error("[DecimalError] Precision limit exceeded");return k(new t(f),e,1,!0)}function q(t,e,n){if(e>T)throw Error("[DecimalError] Precision limit exceeded");return k(new t(c),e,n,!0)}function R(t){var e=t.length-1,n=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function j(t){for(var e="";t--;)e+="0";return e}function I(t,e,n,i){var r,o=new t(1),a=Math.ceil(i/7+4);for(d=!1;;){if(n%2&&H((o=o.times(e)).d,a)&&(r=!0),0===(n=y(n/2))){n=o.d.length-1,r&&0===o.d[n]&&++o.d[n];break}H((e=e.times(e)).d,a)}return d=!0,o}function D(t){return 1&t.d[t.d.length-1]}function B(t,e,n){for(var i,r=new t(e[0]),o=0;++o<e.length;){if(!(i=new t(e[o])).s){r=i;break}r[n](i)&&(r=i)}return r}function L(t,e){var n,i,r,o,a,s,u,l=0,f=0,c=0,h=t.constructor,p=h.rounding,y=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(d=!1,u=y):u=e,s=new h(.03125);t.e>-2;)t=t.times(s),c+=5;for(u+=i=Math.log(_(2,c))/Math.LN10*2+5|0,n=o=a=new h(1),h.precision=u;;){if(o=k(o.times(t),u,1),n=n.times(++f),A((s=a.plus(E(o,n,u,1))).d).slice(0,u)===A(a.d).slice(0,u)){for(r=c;r--;)a=k(a.times(a),u,1);if(null!=e)return h.precision=y,a;if(!(l<3&&M(a.d,u-i,p,l)))return k(a,h.precision=y,p,d=!0);h.precision=u+=10,n=o=s=new h(1),f=0,l++}a=s}}function z(t,e){var n,i,r,o,a,s,u,l,f,c,h,p=1,y=t,_=y.d,v=y.constructor,m=v.rounding,g=v.precision;if(y.s<0||!_||!_[0]||!y.e&&1==_[0]&&1==_.length)return new v(_&&!_[0]?-1/0:1!=y.s?NaN:_?0:y);if(null==e?(d=!1,f=g):f=e,v.precision=f+=10,i=(n=A(_)).charAt(0),!(Math.abs(o=y.e)<15e14))return l=C(v,f+2,g).times(o+""),y=z(new v(i+"."+n.slice(1)),f-10).plus(l),v.precision=g,null==e?k(y,g,m,d=!0):y;for(;i<7&&1!=i||1==i&&n.charAt(1)>3;)i=(n=A((y=y.times(t)).d)).charAt(0),p++;for(o=y.e,i>1?(y=new v("0."+n),o++):y=new v(i+"."+n.slice(1)),c=y,u=a=y=E(y.minus(1),y.plus(1),f,1),h=k(y.times(y),f,1),r=3;;){if(a=k(a.times(h),f,1),A((l=u.plus(E(a,new v(r),f,1))).d).slice(0,f)===A(u.d).slice(0,f)){if(u=u.times(2),0!==o&&(u=u.plus(C(v,f+2,g).times(o+""))),u=E(u,new v(p),f,1),null!=e)return v.precision=g,u;if(!M(u.d,f-10,m,s))return k(u,v.precision=g,m,d=!0);v.precision=f+=10,l=a=y=E(c.minus(1),c.plus(1),f,1),h=k(y.times(y),f,1),r=s=1}u=l,r+=2}}function U(t){return String(t.s*t.s/0)}function V(t,e){var n,i,r;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;48===e.charCodeAt(i);i++);for(r=e.length;48===e.charCodeAt(r-1);--r);if(e=e.slice(i,r)){if(r-=i,t.e=n=n-i-1,t.d=[],i=(n+1)%7,n<0&&(i+=7),i<r){for(i&&t.d.push(+e.slice(0,i)),r-=7;i<r;)t.d.push(+e.slice(i,i+=7));i=7-(e=e.slice(i)).length}else i-=r;for(;i--;)e+="0";t.d.push(+e),d&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function W(t,e){var n,i,r,a,s,u,l,f,c;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(m.test(e))n=16,e=e.toLowerCase();else if(v.test(e))n=2;else{if(!g.test(e))throw Error(p+e);n=8}for((a=e.search(/p/i))>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),s=(a=e.indexOf("."))>=0,i=t.constructor,s&&(a=(u=(e=e.replace(".","")).length)-a,r=I(i,new i(n),a,2*a)),a=c=(f=P(e,n,w)).length-1;0===f[a];--a)f.pop();return a<0?new i(0*t.s):(t.e=F(f,c),t.d=f,d=!1,s&&(t=E(t,r,4*u)),l&&(t=t.times(Math.abs(l)<54?_(2,l):o.pow(2,l))),d=!0,t)}function G(t,e,n,i,r){var o,a,s,u,l=t.precision,f=Math.ceil(l/7);for(d=!1,u=n.times(n),s=new t(i);;){if(a=E(s.times(u),new t(e++*e++),l,1),s=r?i.plus(a):i.minus(a),i=E(a.times(u),new t(e++*e++),l,1),void 0!==(a=s.plus(i)).d[f]){for(o=f;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=i,i=a,a=o}return d=!0,a.d.length=f+1,a}function Q(t,e){for(var n=t;--e;)n*=t;return n}function Z(t,e){var n,i=e.s<0,r=q(t,t.precision,1),o=r.times(.5);if((e=e.abs()).lte(o))return s=i?4:1,e;if((n=e.divToInt(r)).isZero())s=i?3:2;else{if((e=e.minus(n.times(r))).lte(o))return s=D(n)?i?2:3:i?4:1,e;s=D(n)?i?1:4:i?3:2}return e.minus(r).abs()}function $(t,e,n,i){var r,o,s,u,f,c,h,d,p,y=t.constructor,_=void 0!==n;if(_?(O(n,1,1e9),void 0===i?i=y.rounding:O(i,0,8)):(n=y.precision,i=y.rounding),t.isFinite()){for(_?(r=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):r=e,(s=(h=N(t)).indexOf("."))>=0&&(h=h.replace(".",""),(p=new y(1)).e=h.length-s,p.d=P(N(p),10,r),p.e=p.d.length),o=f=(d=P(h,10,r)).length;0==d[--f];)d.pop();if(d[0]){if(s<0?o--:((t=new y(t)).d=d,t.e=o,d=(t=E(t,p,n,i,0,r)).d,o=t.e,c=a),s=d[n],u=r/2,c=c||void 0!==d[n+1],c=i<4?(void 0!==s||c)&&(0===i||i===(t.s<0?3:2)):s>u||s===u&&(4===i||c||6===i&&1&d[n-1]||i===(t.s<0?8:7)),d.length=n,c)for(;++d[--n]>r-1;)d[n]=0,n||(++o,d.unshift(1));for(f=d.length;!d[f-1];--f);for(s=0,h="";s<f;s++)h+=l.charAt(d[s]);if(_){if(f>1)if(16==e||8==e){for(s=16==e?4:3,--f;f%s;f++)h+="0";for(f=(d=P(h,r,e)).length;!d[f-1];--f);for(s=1,h="1.";s<f;s++)h+=l.charAt(d[s])}else h=h.charAt(0)+"."+h.slice(1);h=h+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)h="0"+h;h="0."+h}else if(++o>f)for(o-=f;o--;)h+="0";else o<f&&(h=h.slice(0,o)+"."+h.slice(o))}else h=_?"0p+0":"0";h=(16==e?"0x":2==e?"0b":8==e?"0o":"")+h}else h=U(t);return t.s<0?"-"+h:h}function H(t,e){if(t.length>e)return t.length=e,!0}function X(t){return new this(t).abs()}function Y(t){return new this(t).acos()}function J(t){return new this(t).acosh()}function K(t,e){return new this(t).plus(e)}function tt(t){return new this(t).asin()}function et(t){return new this(t).asinh()}function nt(t){return new this(t).atan()}function it(t){return new this(t).atanh()}function rt(t,e){t=new this(t),e=new this(e);var n,i=this.precision,r=this.rounding,o=i+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?q(this,i,r):new this(0)).s=t.s:!t.d||e.isZero()?(n=q(this,o,1).times(.5)).s=t.s:e.s<0?(this.precision=o,this.rounding=1,n=this.atan(E(t,e,o,1)),e=q(this,o,1),this.precision=i,this.rounding=r,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(E(t,e,o,1)):(n=q(this,o,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function ot(t){return new this(t).cbrt()}function at(t){return k(t=new this(t),t.e+1,2)}function st(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,n,i,r=!0===t.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],r&&(this[n]=h[n]),void 0!==(i=t[n])){if(!(y(i)===i&&i>=o[e+1]&&i<=o[e+2]))throw Error(p+n+": "+i);this[n]=i}if(n="crypto",r&&(this[n]=h[n]),void 0!==(i=t[n])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(p+n+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[n]=!0}else this[n]=!1}return this}function ut(t){return new this(t).cos()}function lt(t){return new this(t).cosh()}function ft(t,e){return new this(t).div(e)}function ct(t){return new this(t).exp()}function ht(t){return k(t=new this(t),t.e+1,3)}function dt(){var t,e,n=new this(0);for(d=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return d=!0,new this(1/0);n=e}return d=!0,n.sqrt()}function pt(t){return t instanceof o||t&&"[object Decimal]"===t.name||!1}function yt(t){return new this(t).ln()}function _t(t,e){return new this(t).log(e)}function vt(t){return new this(t).log(2)}function mt(t){return new this(t).log(10)}function gt(){return B(this,arguments,"lt")}function bt(){return B(this,arguments,"gt")}function wt(t,e){return new this(t).mod(e)}function St(t,e){return new this(t).mul(e)}function Tt(t,e){return new this(t).pow(e)}function xt(t){var e,n,i,r,o=0,a=new this(1),s=[];if(void 0===t?t=this.precision:O(t,1,1e9),i=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));o<i;)(r=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=r%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(i*=4);o<i;)(r=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(r%1e7),o+=4);o=i/4}else for(;o<i;)s[o++]=1e7*Math.random()|0;for(t%=7,(i=s[--o])&&t&&(r=_(10,7-t),s[o]=(i/r|0)*r);0===s[o];o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=7)s.shift();for(i=1,r=s[0];r>=10;r/=10)i++;i<7&&(n-=7-i)}return a.e=n,a.d=s,a}function At(t){return k(t=new this(t),t.e+1,this.rounding)}function Ot(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Mt(t){return new this(t).sin()}function Pt(t){return new this(t).sinh()}function Et(t){return new this(t).sqrt()}function kt(t,e){return new this(t).sub(e)}function Nt(t){return new this(t).tan()}function Ft(t){return new this(t).tanh()}function Ct(t){return k(t=new this(t),t.e+1,1)}(o=function t(e){var n,i,r;function o(t){var e,n,i,r=this;if(!(r instanceof o))return new o(t);if(r.constructor=o,t instanceof o)return r.s=t.s,void(d?!t.d||t.e>o.maxE?(r.e=NaN,r.d=null):t.e<o.minE?(r.e=0,r.d=[0]):(r.e=t.e,r.d=t.d.slice()):(r.e=t.e,r.d=t.d?t.d.slice():t.d));if("number"===(i=typeof t)){if(0===t)return r.s=1/t<0?-1:1,r.e=0,void(r.d=[0]);if(t<0?(t=-t,r.s=-1):r.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(d?e>o.maxE?(r.e=NaN,r.d=null):e<o.minE?(r.e=0,r.d=[0]):(r.e=e,r.d=[t]):(r.e=e,r.d=[t]))}return 0*t!=0?(t||(r.s=NaN),r.e=NaN,void(r.d=null)):V(r,t.toString())}if("string"!==i)throw Error(p+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),r.s=-1):(43===n&&(t=t.slice(1)),r.s=1),b.test(t)?V(r,t):W(r,t)}if(o.prototype=x,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=st,o.clone=t,o.isDecimal=pt,o.abs=X,o.acos=Y,o.acosh=J,o.add=K,o.asin=tt,o.asinh=et,o.atan=nt,o.atanh=it,o.atan2=rt,o.cbrt=ot,o.ceil=at,o.cos=ut,o.cosh=lt,o.div=ft,o.exp=ct,o.floor=ht,o.hypot=dt,o.ln=yt,o.log=_t,o.log10=mt,o.log2=vt,o.max=gt,o.min=bt,o.mod=wt,o.mul=St,o.pow=Tt,o.random=xt,o.round=At,o.sign=Ot,o.sin=Mt,o.sinh=Pt,o.sqrt=Et,o.sub=kt,o.tan=Nt,o.tanh=Ft,o.trunc=Ct,void 0===e&&(e={}),e&&!0!==e.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<r.length;)e.hasOwnProperty(i=r[n++])||(e[i]=this[i]);return o.config(e),o}(h)).default=o.Decimal=o,f=new o(f),c=new o(c),void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i)}()},function(t){t.exports=JSON.parse('[["#69d2e7","#a7dbd8","#e0e4cc","#f38630","#fa6900"],["#fe4365","#fc9d9a","#f9cdad","#c8c8a9","#83af9b"],["#ecd078","#d95b43","#c02942","#542437","#53777a"],["#556270","#4ecdc4","#c7f464","#ff6b6b","#c44d58"],["#774f38","#e08e79","#f1d4af","#ece5ce","#c5e0dc"],["#e8ddcb","#cdb380","#036564","#033649","#031634"],["#490a3d","#bd1550","#e97f02","#f8ca00","#8a9b0f"],["#594f4f","#547980","#45ada8","#9de0ad","#e5fcc2"],["#00a0b0","#6a4a3c","#cc333f","#eb6841","#edc951"],["#e94e77","#d68189","#c6a49a","#c6e5d9","#f4ead5"],["#3fb8af","#7fc7af","#dad8a7","#ff9e9d","#ff3d7f"],["#d9ceb2","#948c75","#d5ded9","#7a6a53","#99b2b7"],["#ffffff","#cbe86b","#f2e9e1","#1c140d","#cbe86b"],["#efffcd","#dce9be","#555152","#2e2633","#99173c"],["#343838","#005f6b","#008c9e","#00b4cc","#00dffc"],["#413e4a","#73626e","#b38184","#f0b49e","#f7e4be"],["#ff4e50","#fc913a","#f9d423","#ede574","#e1f5c4"],["#99b898","#fecea8","#ff847c","#e84a5f","#2a363b"],["#655643","#80bca3","#f6f7bd","#e6ac27","#bf4d28"],["#00a8c6","#40c0cb","#f9f2e7","#aee239","#8fbe00"],["#351330","#424254","#64908a","#e8caa4","#cc2a41"],["#554236","#f77825","#d3ce3d","#f1efa5","#60b99a"],["#5d4157","#838689","#a8caba","#cad7b2","#ebe3aa"],["#8c2318","#5e8c6a","#88a65e","#bfb35a","#f2c45a"],["#fad089","#ff9c5b","#f5634a","#ed303c","#3b8183"],["#ff4242","#f4fad2","#d4ee5e","#e1edb9","#f0f2eb"],["#f8b195","#f67280","#c06c84","#6c5b7b","#355c7d"],["#d1e751","#ffffff","#000000","#4dbce9","#26ade4"],["#1b676b","#519548","#88c425","#bef202","#eafde6"],["#5e412f","#fcebb6","#78c0a8","#f07818","#f0a830"],["#bcbdac","#cfbe27","#f27435","#f02475","#3b2d38"],["#452632","#91204d","#e4844a","#e8bf56","#e2f7ce"],["#eee6ab","#c5bc8e","#696758","#45484b","#36393b"],["#f0d8a8","#3d1c00","#86b8b1","#f2d694","#fa2a00"],["#2a044a","#0b2e59","#0d6759","#7ab317","#a0c55f"],["#f04155","#ff823a","#f2f26f","#fff7bd","#95cfb7"],["#b9d7d9","#668284","#2a2829","#493736","#7b3b3b"],["#bbbb88","#ccc68d","#eedd99","#eec290","#eeaa88"],["#b3cc57","#ecf081","#ffbe40","#ef746f","#ab3e5b"],["#a3a948","#edb92e","#f85931","#ce1836","#009989"],["#300030","#480048","#601848","#c04848","#f07241"],["#67917a","#170409","#b8af03","#ccbf82","#e33258"],["#aab3ab","#c4cbb7","#ebefc9","#eee0b7","#e8caaf"],["#e8d5b7","#0e2430","#fc3a51","#f5b349","#e8d5b9"],["#ab526b","#bca297","#c5ceae","#f0e2a4","#f4ebc3"],["#607848","#789048","#c0d860","#f0f0d8","#604848"],["#b6d8c0","#c8d9bf","#dadabd","#ecdbbc","#fedcba"],["#a8e6ce","#dcedc2","#ffd3b5","#ffaaa6","#ff8c94"],["#3e4147","#fffedf","#dfba69","#5a2e2e","#2a2c31"],["#fc354c","#29221f","#13747d","#0abfbc","#fcf7c5"],["#cc0c39","#e6781e","#c8cf02","#f8fcc1","#1693a7"],["#1c2130","#028f76","#b3e099","#ffeaad","#d14334"],["#a7c5bd","#e5ddcb","#eb7b59","#cf4647","#524656"],["#dad6ca","#1bb0ce","#4f8699","#6a5e72","#563444"],["#5c323e","#a82743","#e15e32","#c0d23e","#e5f04c"],["#edebe6","#d6e1c7","#94c7b6","#403b33","#d3643b"],["#fdf1cc","#c6d6b8","#987f69","#e3ad40","#fcd036"],["#230f2b","#f21d41","#ebebbc","#bce3c5","#82b3ae"],["#b9d3b0","#81bda4","#b28774","#f88f79","#f6aa93"],["#3a111c","#574951","#83988e","#bcdea5","#e6f9bc"],["#5e3929","#cd8c52","#b7d1a3","#dee8be","#fcf7d3"],["#1c0113","#6b0103","#a30006","#c21a01","#f03c02"],["#000000","#9f111b","#b11623","#292c37","#cccccc"],["#382f32","#ffeaf2","#fcd9e5","#fbc5d8","#f1396d"],["#e3dfba","#c8d6bf","#93ccc6","#6cbdb5","#1a1f1e"],["#f6f6f6","#e8e8e8","#333333","#990100","#b90504"],["#1b325f","#9cc4e4","#e9f2f9","#3a89c9","#f26c4f"],["#a1dbb2","#fee5ad","#faca66","#f7a541","#f45d4c"],["#c1b398","#605951","#fbeec2","#61a6ab","#accec0"],["#5e9fa3","#dcd1b4","#fab87f","#f87e7b","#b05574"],["#951f2b","#f5f4d7","#e0dfb1","#a5a36c","#535233"],["#8dccad","#988864","#fea6a2","#f9d6ac","#ffe9af"],["#2d2d29","#215a6d","#3ca2a2","#92c7a3","#dfece6"],["#413d3d","#040004","#c8ff00","#fa023c","#4b000f"],["#eff3cd","#b2d5ba","#61ada0","#248f8d","#605063"],["#ffefd3","#fffee4","#d0ecea","#9fd6d2","#8b7a5e"],["#cfffdd","#b4dec1","#5c5863","#a85163","#ff1f4c"],["#9dc9ac","#fffec7","#f56218","#ff9d2e","#919167"],["#4e395d","#827085","#8ebe94","#ccfc8e","#dc5b3e"],["#a8a7a7","#cc527a","#e8175d","#474747","#363636"],["#f8edd1","#d88a8a","#474843","#9d9d93","#c5cfc6"],["#046d8b","#309292","#2fb8ac","#93a42a","#ecbe13"],["#f38a8a","#55443d","#a0cab5","#cde9ca","#f1edd0"],["#a70267","#f10c49","#fb6b41","#f6d86b","#339194"],["#ff003c","#ff8a00","#fabe28","#88c100","#00c176"],["#ffedbf","#f7803c","#f54828","#2e0d23","#f8e4c1"],["#4e4d4a","#353432","#94ba65","#2790b0","#2b4e72"],["#0ca5b0","#4e3f30","#fefeeb","#f8f4e4","#a5b3aa"],["#4d3b3b","#de6262","#ffb88c","#ffd0b3","#f5e0d3"],["#fffbb7","#a6f6af","#66b6ab","#5b7c8d","#4f2958"],["#edf6ee","#d1c089","#b3204d","#412e28","#151101"],["#9d7e79","#ccac95","#9a947c","#748b83","#5b756c"],["#fcfef5","#e9ffe1","#cdcfb7","#d6e6c3","#fafbe3"],["#9cddc8","#bfd8ad","#ddd9ab","#f7af63","#633d2e"],["#30261c","#403831","#36544f","#1f5f61","#0b8185"],["#aaff00","#ffaa00","#ff00aa","#aa00ff","#00aaff"],["#d1313d","#e5625c","#f9bf76","#8eb2c5","#615375"],["#ffe181","#eee9e5","#fad3b2","#ffba7f","#ff9c97"],["#73c8a9","#dee1b6","#e1b866","#bd5532","#373b44"],["#805841","#dcf7f3","#fffcdd","#ffd8d8","#f5a2a2"]]')},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var i;!function(){"use strict";var r=.5*(Math.sqrt(3)-1),o=(3-Math.sqrt(3))/6,a=1/6,s=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;function l(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,n=0,i=1,r=c();t=r(" "),e=r(" "),n=r(" ");for(var o=0;o<arguments.length;o++)(t-=r(arguments[o]))<0&&(t+=1),(e-=r(arguments[o]))<0&&(e+=1),(n-=r(arguments[o]))<0&&(n+=1);return r=null,function(){var r=2091639*t+2.3283064365386963e-10*i;return t=e,e=n,n=r-(i=0|r)}}(t):Math.random,this.p=f(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function f(t){var e,n=new Uint8Array(256);for(e=0;e<256;e++)n[e]=e;for(e=0;e<255;e++){var i=e+~~(t()*(256-e)),r=n[e];n[e]=n[i],n[i]=r}return n}function c(){var t=4022871197;return function(e){e=e.toString();for(var n=0;n<e.length;n++){var i=.02519603282416938*(t+=e.charCodeAt(n));i-=t=i>>>0,t=(i*=t)>>>0,t+=4294967296*(i-=t)}return 2.3283064365386963e-10*(t>>>0)}}l.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var n,i,a=this.permMod12,s=this.perm,u=this.grad3,l=0,f=0,c=0,h=(t+e)*r,d=Math.floor(t+h),p=Math.floor(e+h),y=(d+p)*o,_=t-(d-y),v=e-(p-y);_>v?(n=1,i=0):(n=0,i=1);var m=_-n+o,g=v-i+o,b=_-1+2*o,w=v-1+2*o,S=255&d,T=255&p,x=.5-_*_-v*v;if(x>=0){var A=3*a[S+s[T]];l=(x*=x)*x*(u[A]*_+u[A+1]*v)}var O=.5-m*m-g*g;if(O>=0){var M=3*a[S+n+s[T+i]];f=(O*=O)*O*(u[M]*m+u[M+1]*g)}var P=.5-b*b-w*w;if(P>=0){var E=3*a[S+1+s[T+1]];c=(P*=P)*P*(u[E]*b+u[E+1]*w)}return 70*(l+f+c)},noise3D:function(t,e,n){var i,r,o,s,u,l,f,c,h,d,p=this.permMod12,y=this.perm,_=this.grad3,v=(t+e+n)*(1/3),m=Math.floor(t+v),g=Math.floor(e+v),b=Math.floor(n+v),w=(m+g+b)*a,S=t-(m-w),T=e-(g-w),x=n-(b-w);S>=T?T>=x?(u=1,l=0,f=0,c=1,h=1,d=0):S>=x?(u=1,l=0,f=0,c=1,h=0,d=1):(u=0,l=0,f=1,c=1,h=0,d=1):T<x?(u=0,l=0,f=1,c=0,h=1,d=1):S<x?(u=0,l=1,f=0,c=0,h=1,d=1):(u=0,l=1,f=0,c=1,h=1,d=0);var A=S-u+a,O=T-l+a,M=x-f+a,P=S-c+2*a,E=T-h+2*a,k=x-d+2*a,N=S-1+.5,F=T-1+.5,C=x-1+.5,q=255&m,R=255&g,j=255&b,I=.6-S*S-T*T-x*x;if(I<0)i=0;else{var D=3*p[q+y[R+y[j]]];i=(I*=I)*I*(_[D]*S+_[D+1]*T+_[D+2]*x)}var B=.6-A*A-O*O-M*M;if(B<0)r=0;else{var L=3*p[q+u+y[R+l+y[j+f]]];r=(B*=B)*B*(_[L]*A+_[L+1]*O+_[L+2]*M)}var z=.6-P*P-E*E-k*k;if(z<0)o=0;else{var U=3*p[q+c+y[R+h+y[j+d]]];o=(z*=z)*z*(_[U]*P+_[U+1]*E+_[U+2]*k)}var V=.6-N*N-F*F-C*C;if(V<0)s=0;else{var W=3*p[q+1+y[R+1+y[j+1]]];s=(V*=V)*V*(_[W]*N+_[W+1]*F+_[W+2]*C)}return 32*(i+r+o+s)},noise4D:function(t,e,n,i){var r,o,a,l,f,c,h,d,p,y,_,v,m,g,b,w,S,T=this.perm,x=this.grad4,A=(t+e+n+i)*s,O=Math.floor(t+A),M=Math.floor(e+A),P=Math.floor(n+A),E=Math.floor(i+A),k=(O+M+P+E)*u,N=t-(O-k),F=e-(M-k),C=n-(P-k),q=i-(E-k),R=0,j=0,I=0,D=0;N>F?R++:j++,N>C?R++:I++,N>q?R++:D++,F>C?j++:I++,F>q?j++:D++,C>q?I++:D++;var B=N-(c=R>=3?1:0)+u,L=F-(h=j>=3?1:0)+u,z=C-(d=I>=3?1:0)+u,U=q-(p=D>=3?1:0)+u,V=N-(y=R>=2?1:0)+2*u,W=F-(_=j>=2?1:0)+2*u,G=C-(v=I>=2?1:0)+2*u,Q=q-(m=D>=2?1:0)+2*u,Z=N-(g=R>=1?1:0)+3*u,$=F-(b=j>=1?1:0)+3*u,H=C-(w=I>=1?1:0)+3*u,X=q-(S=D>=1?1:0)+3*u,Y=N-1+4*u,J=F-1+4*u,K=C-1+4*u,tt=q-1+4*u,et=255&O,nt=255&M,it=255&P,rt=255&E,ot=.6-N*N-F*F-C*C-q*q;if(ot<0)r=0;else{var at=T[et+T[nt+T[it+T[rt]]]]%32*4;r=(ot*=ot)*ot*(x[at]*N+x[at+1]*F+x[at+2]*C+x[at+3]*q)}var st=.6-B*B-L*L-z*z-U*U;if(st<0)o=0;else{var ut=T[et+c+T[nt+h+T[it+d+T[rt+p]]]]%32*4;o=(st*=st)*st*(x[ut]*B+x[ut+1]*L+x[ut+2]*z+x[ut+3]*U)}var lt=.6-V*V-W*W-G*G-Q*Q;if(lt<0)a=0;else{var ft=T[et+y+T[nt+_+T[it+v+T[rt+m]]]]%32*4;a=(lt*=lt)*lt*(x[ft]*V+x[ft+1]*W+x[ft+2]*G+x[ft+3]*Q)}var ct=.6-Z*Z-$*$-H*H-X*X;if(ct<0)l=0;else{var ht=T[et+g+T[nt+b+T[it+w+T[rt+S]]]]%32*4;l=(ct*=ct)*ct*(x[ht]*Z+x[ht+1]*$+x[ht+2]*H+x[ht+3]*X)}var dt=.6-Y*Y-J*J-K*K-tt*tt;if(dt<0)f=0;else{var pt=T[et+1+T[nt+1+T[it+1+T[rt+1]]]]%32*4;f=(dt*=dt)*dt*(x[pt]*Y+x[pt+1]*J+x[pt+2]*K+x[pt+3]*tt)}return 27*(r+o+a+l+f)}},l._buildPermutationTable=f,void 0===(i=function(){return l}.call(e,n,e,t))||(t.exports=i),e.SimplexNoise=l,t.exports=l}()},function(t,e){t.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=148)}([function(t,e,n){"use strict";n.r(e),function(t){var i=n(93),r=function(){if(!(this instanceof r))throw new Error("constructor needs to be called with the 'new' keyword")};
/**
 *  Tone.js
 *  @author Yotam Mann
 *  @license http://opensource.org/licenses/MIT MIT License
 *  @copyright 2014-2019 Yotam Mann
 */r.prototype.toString=function(){for(var t in r){var e=t[0].match(/^[A-Z]$/),n=r[t]===this.constructor;if(r.isFunction(r[t])&&e&&n)return t}return"Tone"},r.prototype.dispose=function(){return this},r.prototype.set=function(t,e){if(r.isString(t)){var n={};n[t]=e,t=n}t:for(var i in t){e=t[i];var o=this;if(-1!==i.indexOf(".")){for(var a=i.split("."),s=0;s<a.length-1;s++)if((o=o[a[s]])instanceof r){a.splice(0,s+1);var u=a.join(".");o.set(u,e);continue t}i=a[a.length-1]}var l=o[i];r.isUndef(l)||(r.Signal&&l instanceof r.Signal||r.Param&&l instanceof r.Param||l instanceof AudioParam?l.value!==e&&(l.value=e):r.TimeBase&&l instanceof r.TimeBase?o[i]=e:l instanceof r?l.set(e):l!==e&&(o[i]=e))}return this},r.prototype.get=function(t){r.isUndef(t)?t=this._collectDefaults(this.constructor):r.isString(t)&&(t=[t]);for(var e={},n=0;n<t.length;n++){var i=t[n],o=this,a=e;if(-1!==i.indexOf(".")){for(var s=i.split("."),u=0;u<s.length-1;u++){var l=s[u];a[l]=a[l]||{},a=a[l],o=o[l]}i=s[s.length-1]}var f=o[i];r.isObject(t[i])?a[i]=f.get():r.Signal&&f instanceof r.Signal||r.Param&&f instanceof r.Param||f instanceof AudioParam?a[i]=f.value:f instanceof r?a[i]=f.get():!r.isFunction(f)&&r.isDefined(f)&&(a[i]=f)}return e},r.prototype._collectDefaults=function(t){var e=[];if(r.isDefined(t.defaults)&&(e=Object.keys(t.defaults)),r.isDefined(t._super))for(var n=this._collectDefaults(t._super),i=0;i<n.length;i++)-1===e.indexOf(n[i])&&e.push(n[i]);return e},r.defaults=function(t,e,n){var i={};if(1===t.length&&r.isObject(t[0]))i=t[0];else for(var o=0;o<e.length;o++)i[e[o]]=t[o];return r.isDefined(n.defaults)?r.defaultArg(i,n.defaults):r.isObject(n)?r.defaultArg(i,n):i},r.defaultArg=function(t,e){if(r.isObject(t)&&r.isObject(e)){var n={};for(var i in t)n[i]=r.defaultArg(e[i],t[i]);for(var o in e)n[o]=r.defaultArg(t[o],e[o]);return n}return r.isUndef(t)?e:t},r.prototype.log=function(){if(this.debug||this.toString()===r.global.TONE_DEBUG_CLASS){var t=Array.from(arguments);t.unshift(this.toString()+":"),console.log.apply(void 0,t)}},r.prototype.assert=function(t,e){if(!t)throw new Error(e)},r.connectSeries=function(){for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];r.connect(t,n),t=n}return r},r.connect=function(t,e,n,i){for(;r.isDefined(e.input);)r.isArray(e.input)?(i=r.defaultArg(i,0),e=e.input[i],i=0):e.input&&(e=e.input);return e instanceof AudioParam?t.connect(e,n):e instanceof AudioNode&&t.connect(e,n,i),r},r.disconnect=function(t,e,n,i){if(e){for(var o=!1;!o;)r.isArray(e.input)?(r.isDefined(i)?r.disconnect(t,e.input[i],n):e.input.forEach((function(e){try{r.disconnect(t,e,n)}catch(t){}})),o=!0):e.input?e=e.input:o=!0;e instanceof AudioParam?t.disconnect(e,n):e instanceof AudioNode&&t.disconnect(e,n,i)}else t.disconnect();return r},r.isUndef=function(t){return void 0===t},r.isDefined=function(t){return!r.isUndef(t)},r.isFunction=function(t){return"function"==typeof t},r.isNumber=function(t){return"number"==typeof t},r.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},r.isBoolean=function(t){return"boolean"==typeof t},r.isArray=function(t){return Array.isArray(t)},r.isString=function(t){return"string"==typeof t},r.isNote=function(t){return r.isString(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)},r.noOp=function(){},r.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},r.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},r.State={Started:"started",Stopped:"stopped",Paused:"paused"},r.global=r.isUndef(t)?window:t,r.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},r.dbToGain=function(t){return Math.pow(10,t/20)},r.gainToDb=function(t){return Math.log(t)/Math.LN10*20},r.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},r.prototype.now=function(){return r.context.now()},r.now=function(){return r.context.now()},r.prototype.immediate=function(){return r.context.currentTime},r.immediate=function(){return r.context.currentTime},r.extend=function(t,e){function n(){}r.isUndef(e)&&(e=r),n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t._super=e},r._audioContext=null,r.start=function(){return r.context.resume()},Object.defineProperty(r,"context",{get:function(){return r._audioContext},set:function(t){t.isContext?r._audioContext=t:r._audioContext=new r.Context(t),r.Context.emit("init",r._audioContext)}}),Object.defineProperty(r.prototype,"context",{get:function(){return r.context}}),r.setContext=function(t){r.context=t},Object.defineProperty(r.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(r.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(r,"supported",{get:function(){var t=r.global.hasOwnProperty("AudioContext")||r.global.hasOwnProperty("webkitAudioContext"),e=r.global.hasOwnProperty("Promise");return t&&e}}),Object.defineProperty(r,"initialized",{get:function(){return Boolean(r.context)}}),r.getContext=function(t){if(r.initialized)t(r.context);else{var e=function(){t(r.context),r.Context.off("init",e)};r.Context.on("init",e)}return r},r.version=i.a,e.default=r}.call(this,n(147))},function(t,e,n){"use strict";n.r(e);var i=n(0);if(n(20),i.default.supported){var r=new OfflineAudioContext(2,1,44100),o=r.createGain(),a=r.createGain();if(o.connect(a)!==a){var s=AudioNode.prototype.connect;AudioNode.prototype.connect=function(){return s.apply(this,arguments),arguments[0]}}}i.default.AudioNode=function(){i.default.call(this);var t=i.default.defaults(arguments,["context"],{context:i.default.context});this._context=t.context},i.default.extend(i.default.AudioNode),Object.defineProperty(i.default.AudioNode.prototype,"context",{get:function(){return this._context}}),i.default.AudioNode.prototype.createInsOuts=function(t,e){1===t?this.input=this.context.createGain():t>1&&(this.input=new Array(t)),1===e?this.output=this.context.createGain():e>1&&(this.output=new Array(e))},Object.defineProperty(i.default.AudioNode.prototype,"channelCount",{get:function(){return this.output.channelCount},set:function(t){return this.output.channelCount=t}}),Object.defineProperty(i.default.AudioNode.prototype,"channelCountMode",{get:function(){return this.output.channelCountMode},set:function(t){return this.output.channelCountMode=t}}),Object.defineProperty(i.default.AudioNode.prototype,"channelInterpretation",{get:function(){return this.output.channelInterpretation},set:function(t){return this.output.channelInterpretation=t}}),Object.defineProperty(i.default.AudioNode.prototype,"numberOfInputs",{get:function(){return this.input?i.default.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(i.default.AudioNode.prototype,"numberOfOutputs",{get:function(){return this.output?i.default.isArray(this.output)?this.output.length:1:0}}),i.default.AudioNode.prototype.connect=function(t,e,n){return i.default.isArray(this.output)?(e=i.default.defaultArg(e,0),this.output[e].connect(t,0,n)):i.default.connect(this.output,t,e,n),this},i.default.AudioNode.prototype.disconnect=function(t,e,n){return i.default.isArray(this.output)?(e=i.default.defaultArg(e,0),this.output[e].disconnect(t,0,n)):i.default.disconnect(this.output,t,e,n),this},i.default.AudioNode.prototype.chain=function(){var t=Array.from(arguments);return t.unshift(this),i.default.connectSeries.apply(void 0,t),this},i.default.AudioNode.prototype.fan=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},i.default.AudioNode.prototype.dispose=function(){return i.default.isDefined(this.input)&&(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),i.default.isDefined(this.output)&&(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this._context=null,this},e.default=i.default.AudioNode},function(t,e,n){"use strict";n.r(e);var i=n(0);if(n(4),n(14),n(30),n(44),n(20),n(3),i.default.supported&&!i.default.global.AudioContext.prototype.createConstantSource){var r=function(t){this.context=t;for(var e=t.createBuffer(1,128,t.sampleRate),n=e.getChannelData(0),i=0;i<n.length;i++)n[i]=1;this._bufferSource=t.createBufferSource(),this._bufferSource.channelCount=1,this._bufferSource.channelCountMode="explicit",this._bufferSource.buffer=e,this._bufferSource.loop=!0;var r=this._output=t.createGain();this.offset=r.gain,this._bufferSource.connect(r)};r.prototype.start=function(t){return this._bufferSource.start(t),this},r.prototype.stop=function(t){return this._bufferSource.stop(t),this},r.prototype.connect=function(){return this._output.connect.apply(this._output,arguments),this},r.prototype.disconnect=function(){return this._output.disconnect.apply(this._output,arguments),this},AudioContext.prototype.createConstantSource=function(){return new r(this)},i.default.Context.prototype.createConstantSource=function(){return new r(this)}}i.default.Signal=function(){var t=i.default.defaults(arguments,["value","units"],i.default.Signal);i.default.Param.call(this,t),this._constantSource=this.context.createConstantSource(),this._constantSource.start(0),this._param=this._constantSource.offset,this.value=t.value,this.output=this._constantSource,this.input=this._param=this.output.offset},i.default.extend(i.default.Signal,i.default.Param),i.default.Signal.defaults={value:0,units:i.default.Type.Default,convert:!0},i.default.Signal.prototype.connect=i.default.SignalBase.prototype.connect,i.default.Signal.prototype.disconnect=i.default.SignalBase.prototype.disconnect,i.default.Signal.prototype.getValueAtTime=function(t){return this._param.getValueAtTime?this._param.getValueAtTime(t):i.default.Param.prototype.getValueAtTime.call(this,t)},i.default.Signal.prototype.dispose=function(){return i.default.Param.prototype.dispose.call(this),this._constantSource.stop(),this._constantSource.disconnect(),this._constantSource=null,this},e.default=i.default.Signal},function(t,e,n){"use strict";n.r(e);var i=n(0);n(14),n(4),n(1),i.default.Gain=function(){var t=i.default.defaults(arguments,["gain","units"],i.default.Gain);i.default.AudioNode.call(this,t),this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new i.default.Param({param:this._gainNode.gain,units:t.units,value:t.gain,convert:t.convert}),this._readOnly("gain")},i.default.extend(i.default.Gain,i.default.AudioNode),i.default.Gain.defaults={gain:1,convert:!0},i.default.Gain.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},e.default=i.default.Gain},function(t,e,n){"use strict";n.r(e);var i=n(0);n(63),n(46),n(45),n(20),i.default.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Gain:"gain",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},i.default.prototype.toSeconds=function(t){return i.default.isNumber(t)?t:i.default.isUndef(t)?this.now():i.default.isString(t)||i.default.isObject(t)?new i.default.Time(t).toSeconds():t instanceof i.default.TimeBase?t.toSeconds():void 0},i.default.prototype.toFrequency=function(t){return i.default.isNumber(t)?t:i.default.isString(t)||i.default.isUndef(t)||i.default.isObject(t)?new i.default.Frequency(t).valueOf():t instanceof i.default.TimeBase?t.toFrequency():void 0},i.default.prototype.toTicks=function(t){return i.default.isNumber(t)||i.default.isString(t)||i.default.isObject(t)?new i.default.TransportTime(t).toTicks():i.default.isUndef(t)?i.default.Transport.ticks:t instanceof i.default.TimeBase?t.toTicks():void 0},e.default=i.default},function(t,e,n){"use strict";n.r(e);var i=n(0);n(14),n(3),n(30),i.default.Multiply=function(t){i.default.Signal.call(this),this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new i.default.Gain,this._param=this.input[1]=this.output.gain,this.value=i.default.defaultArg(t,0)},i.default.extend(i.default.Multiply,i.default.Signal),i.default.Multiply.prototype.dispose=function(){return i.default.Signal.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},e.default=i.default.Multiply},function(t,e,n){"use strict";n.r(e);var i=n(0);n(16),n(27),n(40),n(4),n(34),n(2),n(1),i.default.Source=function(t){t=i.default.defaultArg(t,i.default.Source.defaults),i.default.AudioNode.call(this),this._volume=this.output=new i.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new i.default.TimelineState(i.default.State.Stopped),this._state.memory=100,this._synced=!1,this._scheduled=[],this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=t.mute},i.default.extend(i.default.Source,i.default.AudioNode),i.default.Source.defaults={volume:0,mute:!1},Object.defineProperty(i.default.Source.prototype,"state",{get:function(){return this._synced?i.default.Transport.state===i.default.State.Started?this._state.getValueAtTime(i.default.Transport.seconds):i.default.State.Stopped:this._state.getValueAtTime(this.now())}}),Object.defineProperty(i.default.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),i.default.Source.prototype._start=i.default.noOp,i.default.Source.prototype.restart=i.default.noOp,i.default.Source.prototype._stop=i.default.noOp,i.default.Source.prototype.start=function(t,e,n){if(i.default.isUndef(t)&&this._synced?t=i.default.Transport.seconds:(t=this.toSeconds(t),t=Math.max(t,this.context.currentTime)),this._state.getValueAtTime(t)===i.default.State.Started)this._state.cancel(t),this._state.setStateAtTime(i.default.State.Started,t),this.restart(t,e,n);else if(this._state.setStateAtTime(i.default.State.Started,t),this._synced){var r=this._state.get(t);r.offset=i.default.defaultArg(e,0),r.duration=n;var o=i.default.Transport.schedule(function(t){this._start(t,e,n)}.bind(this),t);this._scheduled.push(o),i.default.Transport.state===i.default.State.Started&&this._syncedStart(this.now(),i.default.Transport.seconds)}else this._start.apply(this,arguments);return this},i.default.Source.prototype.stop=function(t){if(i.default.isUndef(t)&&this._synced?t=i.default.Transport.seconds:(t=this.toSeconds(t),t=Math.max(t,this.context.currentTime)),this._synced){var e=i.default.Transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop.apply(this,arguments);return this._state.cancel(t),this._state.setStateAtTime(i.default.State.Stopped,t),this},i.default.Source.prototype.sync=function(){return this._synced=!0,this._syncedStart=function(t,e){if(e>0){var n=this._state.get(e);if(n&&n.state===i.default.State.Started&&n.time!==e){var r,o=e-this.toSeconds(n.time);n.duration&&(r=this.toSeconds(n.duration)-o),this._start(t,this.toSeconds(n.offset)+o,r)}}}.bind(this),this._syncedStop=function(t){var e=i.default.Transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(e)===i.default.State.Started&&this._stop(t)}.bind(this),i.default.Transport.on("start loopStart",this._syncedStart),i.default.Transport.on("stop pause loopEnd",this._syncedStop),this},i.default.Source.prototype.unsync=function(){this._synced&&(i.default.Transport.off("stop pause loopEnd",this._syncedStop),i.default.Transport.off("start loopStart",this._syncedStart)),this._synced=!1;for(var t=0;t<this._scheduled.length;t++){var e=this._scheduled[t];i.default.Transport.clear(e)}return this._scheduled=[],this._state.cancel(0),this},i.default.Source.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this.unsync(),this._scheduled=null,this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null},e.default=i.default.Source},function(t,e,n){"use strict";n.r(e);var i=n(0);if(n(30),n(44),i.default.supported&&!i.default.global.AudioContext.prototype._native_createWaveShaper){var r=navigator.userAgent.toLowerCase();if(r.includes("safari")&&!r.includes("chrome")){var o=function(t){for(var e in this._internalNode=this.input=this.output=t._native_createWaveShaper(),this._curve=null,this._internalNode)this._defineProperty(this._internalNode,e)};Object.defineProperty(o.prototype,"curve",{get:function(){return this._curve},set:function(t){this._curve=t;var e=new Float32Array(t.length+1);e.set(t,1),e[0]=t[0],this._internalNode.curve=e}}),o.prototype._defineProperty=function(t,e){i.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return"function"==typeof t[e]?t[e].bind(t):t[e]},set:function(n){t[e]=n}})},i.default.global.AudioContext.prototype._native_createWaveShaper=i.default.global.AudioContext.prototype.createWaveShaper,i.default.global.AudioContext.prototype.createWaveShaper=function(){return new o(this)}}}i.default.WaveShaper=function(t,e){i.default.SignalBase.call(this),this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||i.default.isUndef(t)?this._curve=new Float32Array(i.default.defaultArg(t,1024)):i.default.isFunction(t)&&(this._curve=new Float32Array(i.default.defaultArg(e,1024)),this.setMap(t))},i.default.extend(i.default.WaveShaper,i.default.SignalBase),i.default.WaveShaper.prototype.setMap=function(t){for(var e=new Array(this._curve.length),n=0,i=this._curve.length;n<i;n++){var r=n/(i-1)*2-1;e[n]=t(r,n)}return this.curve=e,this},Object.defineProperty(i.default.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(i.default.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(!["none","2x","4x"].includes(t))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),i.default.WaveShaper.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},e.default=i.default.WaveShaper},function(t,e,n){"use strict";n.r(e);var i=n(0);n(23),n(1),i.default.Effect=function(){var t=i.default.defaults(arguments,["wet"],i.default.Effect);i.default.AudioNode.call(this),this.createInsOuts(1,1),this._dryWet=new i.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this.effectSend=new i.default.Gain,this.effectReturn=new i.default.Gain,i.default.connect(this.input,this._dryWet.a),i.default.connect(this.input,this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},i.default.extend(i.default.Effect,i.default.AudioNode),i.default.Effect.defaults={wet:1},i.default.Effect.prototype.connectEffect=function(t){return this.effectSend.chain(t,this.effectReturn),this},i.default.Effect.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.dispose(),this.effectSend=null,this.effectReturn.dispose(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},e.default=i.default.Effect},function(t,e,n){"use strict";n.r(e);var i=n(0);n(2),n(1),i.default.Filter=function(){var t=i.default.defaults(arguments,["frequency","type","rolloff"],i.default.Filter);i.default.AudioNode.call(this),this.createInsOuts(1,1),this._filters=[],this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=new i.default.Signal(0,i.default.Type.Cents),this.gain=new i.default.Signal({value:t.gain,convert:!0,type:i.default.Type.Decibels}),this.Q=new i.default.Signal(t.Q),this._type=t.type,this._rolloff=t.rolloff,this.rolloff=t.rolloff,this._readOnly(["detune","frequency","gain","Q"])},i.default.extend(i.default.Filter,i.default.AudioNode),i.default.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(i.default.Filter.prototype,"type",{get:function(){return this._type},set:function(t){if(-1===["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t))throw new TypeError("Tone.Filter: invalid type "+t);this._type=t;for(var e=0;e<this._filters.length;e++)this._filters[e].type=t}}),Object.defineProperty(i.default.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(t){t=parseInt(t,10);var e=[-12,-24,-48,-96].indexOf(t);if(-1===e)throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96");e+=1,this._rolloff=t,this.input.disconnect();for(var n=0;n<this._filters.length;n++)this._filters[n].disconnect(),this._filters[n]=null;this._filters=new Array(e);for(var r=0;r<e;r++){var o=this.context.createBiquadFilter();o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[r]=o}var a=[this.input].concat(this._filters).concat([this.output]);i.default.connectSeries.apply(i.default,a)}}),i.default.Filter.prototype.getFrequencyResponse=function(t){t=i.default.defaultArg(t,128);for(var e=new Float32Array(t).map((function(){return 1})),n=new Float32Array(t),r=0;r<t;r++){var o=19980*Math.pow(r/t,2)+20;n[r]=o}var a=new Float32Array(t),s=new Float32Array(t);return this._filters.forEach(function(){var t=this.context.createBiquadFilter();t.type=this._type,t.Q.value=this.Q.value,t.frequency.value=this.frequency.value,t.gain.value=this.gain.value,t.getFrequencyResponse(n,a,s),a.forEach((function(t,n){e[n]*=t}))}.bind(this)),e},i.default.Filter.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this);for(var t=0;t<this._filters.length;t++)this._filters[t].disconnect(),this._filters[t]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},e.default=i.default.Filter},function(t,e,n){"use strict";n.r(e);var i=n(0);n(1),i.default.Merge=function(t){t=i.default.defaultArg(t,2),i.default.AudioNode.call(this),this.createInsOuts(t,0),this._merger=this.output=this.context.createChannelMerger(t);for(var e=0;e<t;e++)this.input[e]=new i.default.Gain,this.input[e].connect(this._merger,0,e),this.input[e].channelCount=1,this.input[e].channelCountMode="explicit";this.left=this.input[0],this.right=this.input[1]},i.default.extend(i.default.Merge,i.default.AudioNode),i.default.Merge.prototype.dispose=function(){return this.input.forEach((function(t){t.dispose()})),i.default.AudioNode.prototype.dispose.call(this),this.left=null,this.right=null,this._merger.disconnect(),this._merger=null,this},e.default=i.default.Merge},function(t,e,n){"use strict";n.r(e);var i=n(0);n(35),n(4),i.default.supported&&(AudioBuffer.prototype.copyToChannel||(AudioBuffer.prototype.copyToChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var r=0;r<i.length;r++)i[r+n]=t[r]},AudioBuffer.prototype.copyFromChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var r=0;r<t.length;r++)t[r]=i[r+n]})),i.default.Buffer=function(){var t=i.default.defaults(arguments,["url","onload","onerror"],i.default.Buffer);i.default.call(this),this._buffer=null,this._reversed=t.reverse,this._xhr=null,this.onload=i.default.noOp,t.url instanceof AudioBuffer||t.url instanceof i.default.Buffer?(this.set(t.url),this.loaded||(this.onload=t.onload)):i.default.isString(t.url)&&this.load(t.url).then(t.onload).catch(t.onerror)},i.default.extend(i.default.Buffer),i.default.Buffer.defaults={url:void 0,reverse:!1,onload:i.default.noOp,onerror:i.default.noOp},i.default.Buffer.prototype.set=function(t){return t instanceof i.default.Buffer?t.loaded?this._buffer=t.get():t.onload=function(){this.set(t),this.onload(this)}.bind(this):this._buffer=t,this._reversed&&this._reverse(),this},i.default.Buffer.prototype.get=function(){return this._buffer},i.default.Buffer.prototype.load=function(t,e,n){return new Promise(function(r,o){this._xhr=i.default.Buffer.load(t,function(t){this._xhr=null,this.set(t),r(this),this.onload(this),e&&e(this)}.bind(this),function(t){this._xhr=null,o(t),n&&n(t)}.bind(this))}.bind(this))},i.default.Buffer.prototype.dispose=function(){return i.default.prototype.dispose.call(this),this._buffer=null,this._xhr&&(i.default.Buffer._removeFromDownloadQueue(this._xhr),this._xhr.abort(),this._xhr=null),this},Object.defineProperty(i.default.Buffer.prototype,"loaded",{get:function(){return this.length>0}}),Object.defineProperty(i.default.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),Object.defineProperty(i.default.Buffer.prototype,"length",{get:function(){return this._buffer?this._buffer.length:0}}),Object.defineProperty(i.default.Buffer.prototype,"numberOfChannels",{get:function(){return this._buffer?this._buffer.numberOfChannels:0}}),i.default.Buffer.prototype.fromArray=function(t){var e=t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,r=this.context.createBuffer(n,i,this.context.sampleRate);e||1!==n||(t=[t]);for(var o=0;o<n;o++)r.copyToChannel(t[o],o);return this._buffer=r,this},i.default.Buffer.prototype.toMono=function(t){if(i.default.isNumber(t))this.fromArray(this.toArray(t));else{for(var e=new Float32Array(this.length),n=this.numberOfChannels,r=0;r<n;r++)for(var o=this.toArray(r),a=0;a<o.length;a++)e[a]+=o[a];e=e.map((function(t){return t/n})),this.fromArray(e)}return this},i.default.Buffer.prototype.toArray=function(t){if(i.default.isNumber(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);for(var e=[],n=0;n<this.numberOfChannels;n++)e[n]=this.getChannelData(n);return e},i.default.Buffer.prototype.getChannelData=function(t){return this._buffer.getChannelData(t)},i.default.Buffer.prototype.slice=function(t,e){e=i.default.defaultArg(e,this.duration);for(var n=Math.floor(this.context.sampleRate*this.toSeconds(t)),r=Math.floor(this.context.sampleRate*this.toSeconds(e)),o=[],a=0;a<this.numberOfChannels;a++)o[a]=this.toArray(a).slice(n,r);return(new i.default.Buffer).fromArray(o)},i.default.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this.numberOfChannels;t++)Array.prototype.reverse.call(this.getChannelData(t));return this},Object.defineProperty(i.default.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),i.default.Emitter.mixin(i.default.Buffer),i.default.Buffer._downloadQueue=[],i.default.Buffer.baseUrl="",i.default.Buffer.fromArray=function(t){return(new i.default.Buffer).fromArray(t)},i.default.Buffer.fromUrl=function(t){var e=new i.default.Buffer;return e.load(t).then((function(){return e}))},i.default.Buffer._removeFromDownloadQueue=function(t){var e=i.default.Buffer._downloadQueue.indexOf(t);-1!==e&&i.default.Buffer._downloadQueue.splice(e,1)},i.default.Buffer.load=function(t,e,n){e=i.default.defaultArg(e,i.default.noOp);var r=t.match(/\[(.+\|?)+\]$/);if(r){for(var o=r[1].split("|"),a=o[0],s=0;s<o.length;s++)if(i.default.Buffer.supportsType(o[s])){a=o[s];break}t=t.replace(r[0],a)}function u(t){if(i.default.Buffer._removeFromDownloadQueue(f),i.default.Buffer.emit("error",t),!n)throw t;n(t)}function l(){for(var t=0,e=0;e<i.default.Buffer._downloadQueue.length;e++)t+=i.default.Buffer._downloadQueue[e].progress;i.default.Buffer.emit("progress",t/i.default.Buffer._downloadQueue.length)}var f=new XMLHttpRequest;return f.open("GET",i.default.Buffer.baseUrl+t,!0),f.responseType="arraybuffer",f.progress=0,i.default.Buffer._downloadQueue.push(f),f.addEventListener("load",(function(){200===f.status?i.default.context.decodeAudioData(f.response).then((function(t){f.progress=1,l(),e(t),i.default.Buffer._removeFromDownloadQueue(f),0===i.default.Buffer._downloadQueue.length&&i.default.Buffer.emit("load")})).catch((function(){i.default.Buffer._removeFromDownloadQueue(f),u("Tone.Buffer: could not decode audio data: "+t)})):u("Tone.Buffer: could not locate file: "+t)})),f.addEventListener("error",u),f.addEventListener("progress",(function(t){t.lengthComputable&&(f.progress=t.loaded/t.total*.95,l())})),f.send(),f},i.default.Buffer.cancelDownloads=function(){return i.default.Buffer._downloadQueue.slice().forEach((function(t){i.default.Buffer._removeFromDownloadQueue(t),t.abort()})),i.default.Buffer},i.default.Buffer.supportsType=function(t){var e=t.split(".");return e=e[e.length-1],""!==document.createElement("audio").canPlayType("audio/"+e)},i.default.loaded=function(){var t,e;function n(){i.default.Buffer.off("load",t),i.default.Buffer.off("error",e)}return new Promise((function(n,r){t=function(){n()},e=function(){r()},i.default.Buffer.on("load",t),i.default.Buffer.on("error",e)})).then(n).catch((function(t){throw n(),new Error(t)}))},e.default=i.default.Buffer},function(t,e,n){"use strict";n.r(e);var i=n(0);n(17),n(26),n(1),n(2),n(22),n(4),n(28),i.default.LFO=function(){var t=i.default.defaults(arguments,["frequency","min","max"],i.default.LFO);i.default.AudioNode.call(this),this._oscillator=new i.default.Oscillator({frequency:t.frequency,type:t.type}),this.frequency=this._oscillator.frequency,this.amplitude=this._oscillator.volume,this.amplitude.units=i.default.Type.NormalRange,this.amplitude.value=t.amplitude,this._stoppedSignal=new i.default.Signal(0,i.default.Type.AudioRange),this._zeros=new i.default.Zero,this._stoppedValue=0,this._a2g=new i.default.AudioToGain,this._scaler=this.output=new i.default.Scale(t.min,t.max),this._units=i.default.Type.Default,this.units=t.units,this._oscillator.chain(this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),this._readOnly(["amplitude","frequency"]),this.phase=t.phase},i.default.extend(i.default.LFO,i.default.AudioNode),i.default.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:i.default.Type.Default},i.default.LFO.prototype.start=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this},i.default.LFO.prototype.stop=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this},i.default.LFO.prototype.sync=function(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this},i.default.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this},Object.defineProperty(i.default.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t),this._scaler.min=t}}),Object.defineProperty(i.default.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t),this._scaler.max=t}}),Object.defineProperty(i.default.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(i.default.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(i.default.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}}),Object.defineProperty(i.default.LFO.prototype,"state",{get:function(){return this._oscillator.state}}),i.default.LFO.prototype.connect=function(t){return t.constructor!==i.default.Signal&&t.constructor!==i.default.Param||(this.convert=t.convert,this.units=t.units),i.default.SignalBase.prototype.connect.apply(this,arguments),this},i.default.LFO.prototype._fromUnits=i.default.Param.prototype._fromUnits,i.default.LFO.prototype._toUnits=i.default.Param.prototype._toUnits,i.default.LFO.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._zeros.dispose(),this._zeros=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},e.default=i.default.LFO},function(t,e,n){"use strict";n.r(e);var i=n(0);n(29),n(90),n(2),n(3),i.default.Subtract=function(t){i.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new i.default.Gain,this._neg=new i.default.Negate,this._param=this.input[1]=new i.default.Signal(t),this._param.chain(this._neg,this._sum)},i.default.extend(i.default.Subtract,i.default.Signal),i.default.Subtract.prototype.dispose=function(){return i.default.Signal.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this},e.default=i.default.Subtract},function(t,e,n){"use strict";n.r(e);var i=n(0);n(4),n(1),n(24),i.default.Param=function(){var t=i.default.defaults(arguments,["param","units","convert"],i.default.Param);i.default.AudioNode.call(this,t),this._param=this.input=t.param,this.units=t.units,this.convert=t.convert,this.overridden=!1,this._events=new i.default.Timeline(1e3),i.default.isDefined(t.value)&&this._param&&this.setValueAtTime(t.value,0)},i.default.extend(i.default.Param,i.default.AudioNode),i.default.Param.defaults={units:i.default.Type.Default,convert:!0,param:void 0},Object.defineProperty(i.default.Param.prototype,"value",{get:function(){var t=this.now();return this._toUnits(this.getValueAtTime(t))},set:function(t){this._initialValue=this._fromUnits(t),this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}}),Object.defineProperty(i.default.Param.prototype,"minValue",{get:function(){return this.units===i.default.Type.Time||this.units===i.default.Type.Frequency||this.units===i.default.Type.NormalRange||this.units===i.default.Type.Positive||this.units===i.default.Type.BPM?0:this.units===i.default.Type.AudioRange?-1:this.units===i.default.Type.Decibels?-1/0:this._param.minValue}}),Object.defineProperty(i.default.Param.prototype,"maxValue",{get:function(){return this.units===i.default.Type.NormalRange||this.units===i.default.Type.AudioRange?1:this._param.maxValue}}),i.default.Param.prototype._fromUnits=function(t){if(!this.convert&&!i.default.isUndef(this.convert)||this.overridden)return t;switch(this.units){case i.default.Type.Time:return this.toSeconds(t);case i.default.Type.Frequency:return this.toFrequency(t);case i.default.Type.Decibels:return i.default.dbToGain(t);case i.default.Type.NormalRange:return Math.min(Math.max(t,0),1);case i.default.Type.AudioRange:return Math.min(Math.max(t,-1),1);case i.default.Type.Positive:return Math.max(t,0);default:return t}},i.default.Param.prototype._toUnits=function(t){if(!this.convert&&!i.default.isUndef(this.convert))return t;switch(this.units){case i.default.Type.Decibels:return i.default.gainToDb(t);default:return t}},i.default.Param.prototype._minOutput=1e-5,i.default.Param.AutomationType={Linear:"linearRampToValueAtTime",Exponential:"exponentialRampToValueAtTime",Target:"setTargetAtTime",SetValue:"setValueAtTime",Cancel:"cancelScheduledValues"},i.default.Param.prototype.setValueAtTime=function(t,e){return e=this.toSeconds(e),t=this._fromUnits(t),this._events.add({type:i.default.Param.AutomationType.SetValue,value:t,time:e}),this.log(i.default.Param.AutomationType.SetValue,t,e),this._param.setValueAtTime(t,e),this},i.default.Param.prototype.getValueAtTime=function(t){t=this.toSeconds(t);var e=this._events.getAfter(t),n=this._events.get(t),r=i.default.defaultArg(this._initialValue,this._param.defaultValue),o=r;if(null===n)o=r;else if(n.type===i.default.Param.AutomationType.Target){var a,s=this._events.getBefore(n.time);a=null===s?r:s.value,o=this._exponentialApproach(n.time,a,n.value,n.constant,t)}else o=null===e?n.value:e.type===i.default.Param.AutomationType.Linear?this._linearInterpolate(n.time,n.value,e.time,e.value,t):e.type===i.default.Param.AutomationType.Exponential?this._exponentialInterpolate(n.time,n.value,e.time,e.value,t):n.value;return o},i.default.Param.prototype.setRampPoint=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===e&&(e=this._minOutput),this.setValueAtTime(this._toUnits(e),t),this},i.default.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),e=this.toSeconds(e),this._events.add({type:i.default.Param.AutomationType.Linear,value:t,time:e}),this.log(i.default.Param.AutomationType.Linear,t,e),this._param.linearRampToValueAtTime(t,e),this},i.default.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),e=this.toSeconds(e),this._events.add({type:i.default.Param.AutomationType.Exponential,time:e,value:t}),this.log(i.default.Param.AutomationType.Exponential,t,e),this._param.exponentialRampToValueAtTime(t,e),this},i.default.Param.prototype.exponentialRampTo=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this},i.default.Param.prototype.linearRampTo=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this},i.default.Param.prototype.targetRampTo=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this},i.default.Param.prototype.exponentialApproachValueAtTime=function(t,e,n){var i=Math.log(this.toSeconds(n)+1)/Math.log(200);return e=this.toSeconds(e),this.setTargetAtTime(t,e,i),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this},i.default.Param.prototype.setTargetAtTime=function(t,e,n){if(t=this._fromUnits(t),n<=0)throw new Error("timeConstant must be greater than 0");return e=this.toSeconds(e),this._events.add({type:i.default.Param.AutomationType.Target,value:t,time:e,constant:n}),this.log(i.default.Param.AutomationType.Target,t,e,n),this._param.setTargetAtTime(t,e,n),this},i.default.Param.prototype.setValueCurveAtTime=function(t,e,n,r){r=i.default.defaultArg(r,1),n=this.toSeconds(n),e=this.toSeconds(e),this.setValueAtTime(t[0]*r,e);for(var o=n/(t.length-1),a=1;a<t.length;a++)this.linearRampToValueAtTime(t[a]*r,e+a*o);return this},i.default.Param.prototype.cancelScheduledValues=function(t){return t=this.toSeconds(t),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(i.default.Param.AutomationType.Cancel,t),this},i.default.Param.prototype.cancelAndHoldAtTime=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);this.log("cancelAndHoldAtTime",t,"value="+e),this._param.cancelScheduledValues(t);var n=this._events.get(t),r=this._events.getAfter(t);return n&&n.time===t?r?this._events.cancel(r.time):this._events.cancel(t+this.sampleTime):r&&(this._events.cancel(r.time),r.type===i.default.Param.AutomationType.Linear?this.linearRampToValueAtTime(e,t):r.type===i.default.Param.AutomationType.Exponential&&this.exponentialRampToValueAtTime(e,t)),this._events.add({type:i.default.Param.AutomationType.SetValue,value:e,time:t}),this._param.setValueAtTime(e,t),this},i.default.Param.prototype.rampTo=function(t,e,n){return e=i.default.defaultArg(e,.1),this.units===i.default.Type.Frequency||this.units===i.default.Type.BPM||this.units===i.default.Type.Decibels?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this},i.default.Param.prototype._exponentialApproach=function(t,e,n,i,r){return n+(e-n)*Math.exp(-(r-t)/i)},i.default.Param.prototype._linearInterpolate=function(t,e,n,i,r){return e+(r-t)/(n-t)*(i-e)},i.default.Param.prototype._exponentialInterpolate=function(t,e,n,i,r){return e*Math.pow(i/e,(r-t)/(n-t))},i.default.Param.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._param=null,this._events=null,this},e.default=i.default.Param},function(t,e,n){"use strict";n.r(e);var i=n(0);n(8),n(19),n(10),n(23),i.default.StereoEffect=function(){i.default.AudioNode.call(this);var t=i.default.defaults(arguments,["wet"],i.default.Effect);this.createInsOuts(1,1),this._dryWet=new i.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this._split=new i.default.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new i.default.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,i.default.connect(this.input,this._split),i.default.connect(this.input,this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},i.default.extend(i.default.StereoEffect,i.default.Effect),i.default.StereoEffect.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},e.default=i.default.StereoEffect},function(t,e,n){"use strict";n.r(e);var i=n(0);n(83),n(4),n(24),n(35),n(3),n(81),n(80),n(56),i.default.Transport=function(){i.default.Emitter.call(this),i.default.getContext(function(){this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=r.defaults.PPQ,this._clock=new i.default.Clock({callback:this._processTick.bind(this),frequency:0}),this._bindClockEvents(),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=i.default.Type.BPM,this.bpm.value=r.defaults.bpm,this._readOnly("bpm"),this._timeSignature=r.defaults.timeSignature,this._scheduledEvents={},this._timeline=new i.default.Timeline,this._repeatedEvents=new i.default.IntervalTimeline,this._syncedSignals=[],this._swingTicks=r.defaults.PPQ/2,this._swingAmount=0,this.context.transport=this}.bind(this))},i.default.extend(i.default.Transport,i.default.Emitter),i.default.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192},i.default.Transport.prototype.isTransport=!0,i.default.Transport.prototype._processTick=function(t,e){if(this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){var n=e%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(n*Math.PI)*this._swingAmount;t+=i.default.Ticks(2*this._swingTicks/3).toSeconds()*r}this.loop&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._timeline.forEachAtTime(e,(function(e){e.invoke(t)}))},i.default.Transport.prototype.schedule=function(t,e){var n=new i.default.TransportEvent(this,{time:i.default.TransportTime(e),callback:t});return this._addEvent(n,this._timeline)},i.default.Transport.prototype.scheduleRepeat=function(t,e,n,r){var o=new i.default.TransportRepeatEvent(this,{callback:t,interval:i.default.Time(e),time:i.default.TransportTime(n),duration:i.default.Time(i.default.defaultArg(r,1/0))});return this._addEvent(o,this._repeatedEvents)},i.default.Transport.prototype.scheduleOnce=function(t,e){var n=new i.default.TransportEvent(this,{time:i.default.TransportTime(e),callback:t,once:!0});return this._addEvent(n,this._timeline)},i.default.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this},i.default.Transport.prototype._addEvent=function(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id},i.default.Transport.prototype.cancel=function(t){return t=i.default.defaultArg(t,0),t=this.toTicks(t),this._timeline.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this._repeatedEvents.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this},i.default.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(t,e){e=i.default.Ticks(e).toSeconds(),this.emit("start",t,e)}.bind(this)),this._clock.on("stop",function(t){this.emit("stop",t)}.bind(this)),this._clock.on("pause",function(t){this.emit("pause",t)}.bind(this))},Object.defineProperty(i.default.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),i.default.Transport.prototype.start=function(t,e){return i.default.isDefined(e)&&(e=this.toTicks(e)),this._clock.start(t,e),this},i.default.Transport.prototype.stop=function(t){return this._clock.stop(t),this},i.default.Transport.prototype.pause=function(t){return this._clock.pause(t),this},i.default.Transport.prototype.toggle=function(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!==i.default.State.Started?this.start(t):this.stop(t),this},Object.defineProperty(i.default.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){i.default.isArray(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}}),Object.defineProperty(i.default.Transport.prototype,"loopStart",{get:function(){return i.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(i.default.Transport.prototype,"loopEnd",{get:function(){return i.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t)}}),i.default.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(i.default.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(t){this._swingAmount=t}}),Object.defineProperty(i.default.Transport.prototype,"swingSubdivision",{get:function(){return i.default.Ticks(this._swingTicks).toNotation()},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(i.default.Transport.prototype,"position",{get:function(){var t=this.now(),e=this._clock.getTicksAtTime(t);return i.default.Ticks(e).toBarsBeatsSixteenths()},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(i.default.Transport.prototype,"seconds",{get:function(){return this._clock.seconds},set:function(t){var e=this.now(),n=this.bpm.timeToTicks(t,e);this.ticks=n}}),Object.defineProperty(i.default.Transport.prototype,"progress",{get:function(){if(this.loop){var t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}}),Object.defineProperty(i.default.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(t){if(this._clock.ticks!==t){var e=this.now();this.state===i.default.State.Started?(this.emit("stop",e),this._clock.setTicksAtTime(t,e),this.emit("start",e,this.seconds)):this._clock.setTicksAtTime(t,e)}}}),i.default.Transport.prototype.getTicksAtTime=function(t){return Math.round(this._clock.getTicksAtTime(t))},i.default.Transport.prototype.getSecondsAtTime=function(t){return this._clock.getSecondsAtTime(t)},Object.defineProperty(i.default.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){var e=this.bpm.value;this._ppq=t,this.bpm.value=e}}),i.default.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},i.default.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},i.default.Transport.prototype.nextSubdivision=function(t){if(t=this.toTicks(t),this.state!==i.default.State.Started)return 0;var e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)},i.default.Transport.prototype.syncSignal=function(t,e){if(!e){var n=this.now();e=0!==t.getValueAtTime(n)?t.getValueAtTime(n)/this.bpm.getValueAtTime(n):0}var r=new i.default.Gain(e);return this.bpm.chain(r,t._param),this._syncedSignals.push({ratio:r,signal:t,initial:t.value}),t.value=0,this},i.default.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;e>=0;e--){var n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this},i.default.Transport.prototype.dispose=function(){return i.default.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var r=i.default.Transport;i.default.Transport=new r,i.default.Context.on("init",(function(t){t.transport&&t.transport.isTransport?i.default.Transport=t.transport:i.default.Transport=new r})),i.default.Context.on("close",(function(t){t.transport&&t.transport.isTransport&&t.transport.dispose()})),e.default=i.default.Transport},function(t,e,n){"use strict";n.r(e);var i=n(0);n(2),n(6),n(16),n(64),i.default.Oscillator=function(){var t=i.default.defaults(arguments,["frequency","type"],i.default.Oscillator);i.default.Source.call(this,t),this._oscillator=null,this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this._wave=null,this._partials=t.partials,this._partialCount=t.partialCount,this._phase=t.phase,this._type=t.type,t.partialCount&&t.type!==i.default.Oscillator.Type.Custom&&(this._type=this.baseType+t.partialCount.toString()),this.phase=this._phase,this._readOnly(["frequency","detune"])},i.default.extend(i.default.Oscillator,i.default.Source),i.default.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[],partialCount:0},i.default.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},i.default.Oscillator.prototype._start=function(t){this.log("start",t);var e=new i.default.OscillatorNode;this._oscillator=e,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),t=this.toSeconds(t),this._oscillator.start(t)},i.default.Oscillator.prototype._stop=function(t){return this.log("stop",t),this._oscillator&&(t=this.toSeconds(t),this._oscillator.stop(t)),this},i.default.Oscillator.prototype.restart=function(t){return this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(this.toSeconds(t)),this},i.default.Oscillator.prototype.syncFrequency=function(){return i.default.Transport.syncSignal(this.frequency),this},i.default.Oscillator.prototype.unsyncFrequency=function(){return i.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(i.default.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=[i.default.Oscillator.Type.Sine,i.default.Oscillator.Type.Square,i.default.Oscillator.Type.Triangle,i.default.Oscillator.Type.Sawtooth].includes(t);if(0===this._phase&&e)this._wave=null,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{var n=this._getRealImaginary(t,this._phase),r=this.context.createPeriodicWave(n[0],n[1]);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}this._type=t}}),Object.defineProperty(i.default.Oscillator.prototype,"baseType",{get:function(){return this._type.replace(this.partialCount,"")},set:function(t){this.partialCount&&this._type!==i.default.Oscillator.Type.Custom&&t!==i.default.Oscillator.Type.Custom?this.type=t+this.partialCount:this.type=t}}),Object.defineProperty(i.default.Oscillator.prototype,"partialCount",{get:function(){return this._partialCount},set:function(t){var e=this._type,n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);n&&(e=n[1]),this._type!==i.default.Oscillator.Type.Custom&&(this.type=0===t?e:e+t.toString())}}),i.default.Oscillator.prototype.get=function(){var t=i.default.prototype.get.apply(this,arguments);return t.type!==i.default.Oscillator.Type.Custom&&delete t.partials,t},i.default.Oscillator.prototype._getRealImaginary=function(t,e){var n=2048,r=new Float32Array(n),o=new Float32Array(n),a=1;if(t===i.default.Oscillator.Type.Custom)a=this._partials.length+1,this._partialCount=this._partials.length,n=a;else{var s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);s?(a=parseInt(s[2])+1,this._partialCount=parseInt(s[2]),t=s[1],n=a=Math.max(a,2)):this._partialCount=0,this._partials=[]}for(var u=1;u<n;++u){var l,f=2/(u*Math.PI);switch(t){case i.default.Oscillator.Type.Sine:l=u<=a?1:0,this._partials[u-1]=l;break;case i.default.Oscillator.Type.Square:l=1&u?2*f:0,this._partials[u-1]=l;break;case i.default.Oscillator.Type.Sawtooth:l=f*(1&u?1:-1),this._partials[u-1]=l;break;case i.default.Oscillator.Type.Triangle:l=1&u?f*f*2*(u-1>>1&1?-1:1):0,this._partials[u-1]=l;break;case i.default.Oscillator.Type.Custom:l=this._partials[u-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+t)}0!==l?(r[u]=-l*Math.sin(e*u),o[u]=l*Math.cos(e*u)):(r[u]=0,o[u]=0)}return[r,o]},i.default.Oscillator.prototype._inverseFFT=function(t,e,n){for(var i=0,r=t.length,o=0;o<r;o++)i+=t[o]*Math.cos(o*n)+e[o]*Math.sin(o*n);return i},i.default.Oscillator.prototype._getInitialValue=function(){for(var t=this._getRealImaginary(this._type,0),e=t[0],n=t[1],i=0,r=2*Math.PI,o=0;o<8;o++)i=Math.max(this._inverseFFT(e,n,o/8*r),i);return-this._inverseFFT(e,n,this._phase)/i},Object.defineProperty(i.default.Oscillator.prototype,"partials",{get:function(){return this._partials},set:function(t){this._partials=t,this.type=i.default.Oscillator.Type.Custom}}),Object.defineProperty(i.default.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),i.default.Oscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.dispose(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},e.default=i.default.Oscillator},function(t,e,n){"use strict";n.r(e);var i=n(0);n(14),n(1),i.default.Delay=function(){var t=i.default.defaults(arguments,["delayTime","maxDelay"],i.default.Delay);i.default.AudioNode.call(this,t),this._maxDelay=Math.max(this.toSeconds(t.maxDelay),this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(this._maxDelay),this.delayTime=new i.default.Param({param:this._delayNode.delayTime,units:i.default.Type.Time,value:t.delayTime}),this._readOnly("delayTime")},i.default.extend(i.default.Delay,i.default.AudioNode),i.default.Delay.defaults={maxDelay:1,delayTime:0},Object.defineProperty(i.default.Delay.prototype,"maxDelay",{get:function(){return this._maxDelay}}),i.default.Delay.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this},e.default=i.default.Delay},function(t,e,n){"use strict";n.r(e);var i=n(0);n(3),n(1),i.default.Split=function(t){t=i.default.defaultArg(t,2),i.default.AudioNode.call(this),this.createInsOuts(0,t),this._splitter=this.input=this.context.createChannelSplitter(t);for(var e=0;e<t;e++)this.output[e]=new i.default.Gain,i.default.connect(this._splitter,this.output[e],e,0),this.output[e].channelCount=1,this.output[e].channelCountMode="explicit";this.left=this.output[0],this.right=this.output[1]},i.default.extend(i.default.Split,i.default.AudioNode),i.default.Split.prototype.dispose=function(){return this.output.forEach((function(t){t.dispose()})),i.default.AudioNode.prototype.dispose.call(this),this._splitter.disconnect(),this.left=null,this.right=null,this._splitter=null,this},e.default=i.default.Split},function(t,e,n){"use strict";n.r(e);var i=n(0),r=(n(35),n(24),n(44),["baseLatency","destination","currentTime","sampleRate","listener","state"]),o=["suspend","close","resume","getOutputTimestamp","createMediaElementSource","createMediaStreamSource","createMediaStreamDestination","createBuffer","decodeAudioData","createBufferSource","createConstantSource","createGain","createDelay","createBiquadFilter","createIIRFilter","createWaveShaper","createPanner","createConvolver","createDynamicsCompressor","createAnalyser","createScriptProcessor","createStereoPanner","createOscillator","createPeriodicWave","createChannelSplitter","createChannelMerger","audioWorklet"];i.default.Context=function(){i.default.Emitter.call(this);var t=i.default.defaults(arguments,["context"],i.default.Context);if(!t.context&&(t.context=new i.default.global.AudioContext,!t.context))throw new Error("could not create AudioContext. Possibly too many AudioContexts running already.");for(this._context=t.context;this._context.rawContext;)this._context=this._context.rawContext;r.forEach(function(t){this._defineProperty(this._context,t)}.bind(this)),o.forEach(function(t){this._defineMethod(this._context,t)}.bind(this)),this._latencyHint=t.latencyHint,this._constants={},this.lookAhead=t.lookAhead,this._computedUpdateInterval=0,this._ticker=new a(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this._timeouts=new i.default.Timeline,this._timeoutIds=0,this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=function(t){this.emit("statechange",t)}.bind(this)},i.default.extend(i.default.Context,i.default.Emitter),i.default.Emitter.mixin(i.default.Context),i.default.Context.defaults={clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.03},i.default.Context.prototype.isContext=!0,i.default.Context.prototype._defineProperty=function(t,e){i.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return t[e]},set:function(n){t[e]=n}})},i.default.Context.prototype._defineMethod=function(t,e){i.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return t[e].bind(t)}})},i.default.Context.prototype.now=function(){return this._context.currentTime+this.lookAhead},Object.defineProperty(i.default.Context.prototype,"destination",{get:function(){return this.master?this.master:this._context.destination}}),i.default.Context.prototype.resume=function(){return"suspended"===this._context.state&&this._context instanceof AudioContext?this._context.resume():Promise.resolve()},i.default.Context.prototype.close=function(){var t=Promise.resolve();return this!==i.default.global.TONE_AUDIO_CONTEXT&&(t=this.rawContext.close()),t.then(function(){i.default.Context.emit("close",this)}.bind(this))},i.default.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0),i=0;i<n.length;i++)n[i]=t;var r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=e,r.loop=!0,r.start(0),this._constants[t]=r,r},i.default.Context.prototype._timeoutLoop=function(){for(var t=this.now();this._timeouts&&this._timeouts.length&&this._timeouts.peek().time<=t;)this._timeouts.shift().callback()},i.default.Context.prototype.setTimeout=function(t,e){this._timeoutIds++;var n=this.now();return this._timeouts.add({callback:t,time:n+e,id:this._timeoutIds}),this._timeoutIds},i.default.Context.prototype.clearTimeout=function(t){return this._timeouts.forEach((function(e){e.id===t&&this.remove(e)})),this},Object.defineProperty(i.default.Context.prototype,"updateInterval",{get:function(){return this._ticker.updateInterval},set:function(t){this._ticker.updateInterval=t}}),Object.defineProperty(i.default.Context.prototype,"rawContext",{get:function(){return this._context}}),Object.defineProperty(i.default.Context.prototype,"clockSource",{get:function(){return this._ticker.type},set:function(t){this._ticker.type=t}}),Object.defineProperty(i.default.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(t){var e=t;if(this._latencyHint=t,i.default.isString(t))switch(t){case"interactive":e=.1,this._context.latencyHint=t;break;case"playback":e=.8,this._context.latencyHint=t;break;case"balanced":e=.25,this._context.latencyHint=t;break;case"fastest":this._context.latencyHint="interactive",e=.01}this.lookAhead=e,this.updateInterval=e/3}}),i.default.Context.prototype.dispose=function(){return this.close().then(function(){for(var t in i.default.Emitter.prototype.dispose.call(this),this._ticker.dispose(),this._ticker=null,this._timeouts.dispose(),this._timeouts=null,this._constants)this._constants[t].disconnect();this._constants=null}.bind(this))};var a=function(t,e,n){this._type=e,this._updateInterval=n,this._callback=i.default.defaultArg(t,i.default.noOp),this._createClock()};if(a.Type={Worker:"worker",Timeout:"timeout",Offline:"offline"},a.prototype._createWorker=function(){i.default.global.URL=i.default.global.URL||i.default.global.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n},a.prototype._createTimeout=function(){this._timeout=setTimeout(function(){this._createTimeout(),this._callback()}.bind(this),1e3*this._updateInterval)},a.prototype._createClock=function(){if(this._type===a.Type.Worker)try{this._createWorker()}catch(t){this._type=a.Type.Timeout,this._createClock()}else this._type===a.Type.Timeout&&this._createTimeout()},Object.defineProperty(a.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(t){this._updateInterval=Math.max(t,128/44100),this._type===a.Type.Worker&&this._worker.postMessage(Math.max(1e3*t,1))}}),Object.defineProperty(a.prototype,"type",{get:function(){return this._type},set:function(t){this._disposeClock(),this._type=t,this._createClock()}}),a.prototype._disposeClock=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._worker&&(this._worker.terminate(),this._worker.onmessage=null,this._worker=null)},a.prototype.dispose=function(){this._disposeClock(),this._callback=null},i.default.supported&&!i.default.initialized){if(i.default.global.TONE_AUDIO_CONTEXT||(i.default.global.TONE_AUDIO_CONTEXT=new i.default.Context),i.default.context=i.default.global.TONE_AUDIO_CONTEXT,!i.default.global.TONE_SILENCE_LOGGING){var s="v";"dev"===i.default.version&&(s="");var u=" * Tone.js "+s+i.default.version+" * ";console.log("%c"+u,"background: #000; color: #fff")}}else i.default.supported||i.default.global.TONE_SILENCE_LOGGING||console.warn("This browser does not support Tone.js");e.default=i.default.Context},function(t,e,n){"use strict";n.r(e);var i=n(0);n(4),n(40),i.default.Instrument=function(t){t=i.default.defaultArg(t,i.default.Instrument.defaults),i.default.AudioNode.call(this),this._volume=this.output=new i.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._scheduledEvents=[]},i.default.extend(i.default.Instrument,i.default.AudioNode),i.default.Instrument.defaults={volume:0},i.default.Instrument.prototype.triggerAttack=i.default.noOp,i.default.Instrument.prototype.triggerRelease=i.default.noOp,i.default.Instrument.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this},i.default.Instrument.prototype._syncMethod=function(t,e){var n=this["_original_"+t]=this[t];this[t]=function(){var t=Array.prototype.slice.call(arguments),r=t[e],o=i.default.Transport.schedule(function(i){t[e]=i,n.apply(this,t)}.bind(this),r);this._scheduledEvents.push(o)}.bind(this)},i.default.Instrument.prototype.unsync=function(){return this._scheduledEvents.forEach((function(t){i.default.Transport.clear(t)})),this._scheduledEvents=[],this._original_triggerAttack&&(this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this},i.default.Instrument.prototype.triggerAttackRelease=function(t,e,n,i){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(t,n,i),this.triggerRelease(n+e),this},i.default.Instrument.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this.unsync(),this._scheduledEvents=null,this},e.default=i.default.Instrument},function(t,e,n){"use strict";n.r(e);var i=n(0);n(7),n(2),i.default.AudioToGain=function(){i.default.SignalBase.call(this),this._norm=this.input=this.output=new i.default.WaveShaper((function(t){return(t+1)/2}))},i.default.extend(i.default.AudioToGain,i.default.SignalBase),i.default.AudioToGain.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=i.default.AudioToGain},function(t,e,n){"use strict";n.r(e);var i=n(0);n(2),n(13),n(89),n(3),n(1),i.default.CrossFade=function(t){i.default.AudioNode.call(this),this.createInsOuts(2,1),this.a=this.input[0]=new i.default.Gain,this.b=this.input[1]=new i.default.Gain,this.fade=new i.default.Signal(i.default.defaultArg(t,.5),i.default.Type.NormalRange),this._equalPowerA=new i.default.EqualPowerGain,this._equalPowerB=new i.default.EqualPowerGain,this._one=this.context.getConstant(1),this._invert=new i.default.Subtract,this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),i.default.connect(this._one,this._invert,0,0),this.fade.connect(this._invert,0,1),this._invert.chain(this._equalPowerA,this.a.gain),this._readOnly("fade")},i.default.extend(i.default.CrossFade,i.default.AudioNode),i.default.CrossFade.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this._one=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},e.default=i.default.CrossFade},function(t,e,n){"use strict";n.r(e);var i=n(0);i.default.Timeline=function(){var t=i.default.defaults(arguments,["memory"],i.default.Timeline);i.default.call(this),this._timeline=[],this.memory=t.memory},i.default.extend(i.default.Timeline),i.default.Timeline.defaults={memory:1/0},Object.defineProperty(i.default.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),i.default.Timeline.prototype.add=function(t){if(i.default.isUndef(t.time))throw new Error("Tone.Timeline: events must have a time attribute");t.time=t.time.valueOf();var e=this._search(t.time);if(this._timeline.splice(e+1,0,t),this.length>this.memory){var n=this.length-this.memory;this._timeline.splice(0,n)}return this},i.default.Timeline.prototype.remove=function(t){var e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this},i.default.Timeline.prototype.get=function(t,e){e=i.default.defaultArg(e,"time");var n=this._search(t,e);return-1!==n?this._timeline[n]:null},i.default.Timeline.prototype.peek=function(){return this._timeline[0]},i.default.Timeline.prototype.shift=function(){return this._timeline.shift()},i.default.Timeline.prototype.getAfter=function(t,e){e=i.default.defaultArg(e,"time");var n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null},i.default.Timeline.prototype.getBefore=function(t,e){e=i.default.defaultArg(e,"time");var n=this._timeline.length;if(n>0&&this._timeline[n-1][e]<t)return this._timeline[n-1];var r=this._search(t,e);return r-1>=0?this._timeline[r-1]:null},i.default.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){var e=this._search(t);if(e>=0)if(this._timeline[e].time===t){for(var n=e;n>=0&&this._timeline[n].time===t;n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},i.default.Timeline.prototype.cancelBefore=function(t){var e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this},i.default.Timeline.prototype.previousEvent=function(t){var e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null},i.default.Timeline.prototype._search=function(t,e){if(0===this._timeline.length)return-1;e=i.default.defaultArg(e,"time");var n=0,r=this._timeline.length,o=r;if(r>0&&this._timeline[r-1][e]<=t)return r-1;for(;n<o;){var a=Math.floor(n+(o-n)/2),s=this._timeline[a],u=this._timeline[a+1];if(s[e]===t){for(var l=a;l<this._timeline.length;l++)this._timeline[l][e]===t&&(a=l);return a}if(s[e]<t&&u[e]>t)return a;s[e]>t?o=a:n=a+1}return-1},i.default.Timeline.prototype._iterate=function(t,e,n){e=i.default.defaultArg(e,0),n=i.default.defaultArg(n,this._timeline.length-1),this._timeline.slice(e,n+1).forEach(function(e){t.call(this,e)}.bind(this))},i.default.Timeline.prototype.forEach=function(t){return this._iterate(t),this},i.default.Timeline.prototype.forEachBefore=function(t,e){var n=this._search(t);return-1!==n&&this._iterate(e,0,n),this},i.default.Timeline.prototype.forEachAfter=function(t,e){var n=this._search(t);return this._iterate(e,n+1),this},i.default.Timeline.prototype.forEachBetween=function(t,e,n){var i=this._search(t),r=this._search(e);return-1!==i&&-1!==r?(this._timeline[i].time!==t&&(i+=1),this._timeline[r].time===e&&(r-=1),this._iterate(n,i,r)):-1===i&&this._iterate(n,0,r),this},i.default.Timeline.prototype.forEachFrom=function(t,e){for(var n=this._search(t);n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this},i.default.Timeline.prototype.forEachAtTime=function(t,e){var n=this._search(t);return-1!==n&&this._iterate((function(n){n.time===t&&e.call(this,n)}),0,n),this},i.default.Timeline.prototype.dispose=function(){return i.default.prototype.dispose.call(this),this._timeline=null,this},e.default=i.default.Timeline},function(t,e,n){"use strict";n.r(e);var i=n(0);n(21),n(2),i.default.Monophonic=function(t){t=i.default.defaultArg(t,i.default.Monophonic.defaults),i.default.Instrument.call(this,t),this.portamento=t.portamento},i.default.extend(i.default.Monophonic,i.default.Instrument),i.default.Monophonic.defaults={portamento:0},i.default.Monophonic.prototype.triggerAttack=function(t,e,n){return this.log("triggerAttack",t,e,n),e=this.toSeconds(e),this._triggerEnvelopeAttack(e,n),this.setNote(t,e),this},i.default.Monophonic.prototype.triggerRelease=function(t){return this.log("triggerRelease",t),t=this.toSeconds(t),this._triggerEnvelopeRelease(t),this},i.default.Monophonic.prototype._triggerEnvelopeAttack=function(){},i.default.Monophonic.prototype._triggerEnvelopeRelease=function(){},i.default.Monophonic.prototype.getLevelAtTime=function(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)},i.default.Monophonic.prototype.setNote=function(t,e){if(e=this.toSeconds(e),this.portamento>0&&this.getLevelAtTime(e)>.05){var n=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(t,n,e)}else this.frequency.setValueAtTime(t,e);return this},e.default=i.default.Monophonic},function(t,e,n){"use strict";n.r(e);var i=n(0);n(29),n(5),n(2),i.default.Scale=function(t,e){i.default.SignalBase.call(this),this._outputMin=i.default.defaultArg(t,0),this._outputMax=i.default.defaultArg(e,1),this._scale=this.input=new i.default.Multiply(1),this._add=this.output=new i.default.Add(0),this._scale.connect(this._add),this._setRange()},i.default.extend(i.default.Scale,i.default.SignalBase),Object.defineProperty(i.default.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(i.default.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),i.default.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},i.default.Scale.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},e.default=i.default.Scale},function(t,e,n){"use strict";n.r(e);var i=n(0);n(2),n(3),n(1),i.default.Volume=function(){var t=i.default.defaults(arguments,["volume"],i.default.Volume);i.default.AudioNode.call(this,t),this.output=this.input=new i.default.Gain(t.volume,i.default.Type.Decibels),this._unmutedVolume=t.volume,this.volume=this.output.gain,this._readOnly("volume"),this.mute=t.mute},i.default.extend(i.default.Volume,i.default.AudioNode),i.default.Volume.defaults={volume:0,mute:!1},Object.defineProperty(i.default.Volume.prototype,"mute",{get:function(){return this.volume.value===-1/0},set:function(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}}),i.default.Volume.prototype.dispose=function(){return this.input.dispose(),i.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},e.default=i.default.Volume},function(t,e,n){"use strict";n.r(e);var i=n(0);n(3),n(30),i.default.Zero=function(){i.default.SignalBase.call(this),this._gain=this.input=this.output=new i.default.Gain,i.default.connect(this.context.getConstant(0),this._gain)},i.default.extend(i.default.Zero,i.default.SignalBase),i.default.Zero.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._gain.dispose(),this._gain=null,this},e.default=i.default.Zero},function(t,e,n){"use strict";n.r(e);var i=n(0);n(2),n(3),i.default.Add=function(t){i.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new i.default.Gain,this._param=this.input[1]=new i.default.Signal(t),this._param.connect(this._sum)},i.default.extend(i.default.Add,i.default.Signal),i.default.Add.prototype.dispose=function(){return i.default.Signal.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this},e.default=i.default.Add},function(t,e,n){"use strict";n.r(e);var i=n(0);n(1),i.default.SignalBase=function(){i.default.AudioNode.call(this)},i.default.extend(i.default.SignalBase,i.default.AudioNode),i.default.SignalBase.prototype.connect=function(t,e,n){return i.default.Signal&&i.default.Signal===t.constructor||i.default.Param&&i.default.Param===t.constructor?(t._param.cancelScheduledValues(0),t._param.setValueAtTime(0,0),t.overridden=!0):t instanceof AudioParam&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0)),i.default.AudioNode.prototype.connect.call(this,t,e,n),this},e.default=i.default.SignalBase},function(t,e,n){"use strict";n.r(e);var i=n(0);n(47),n(3),i.default.AmplitudeEnvelope=function(){i.default.Envelope.apply(this,arguments),this.input=this.output=new i.default.Gain,this._sig.connect(this.output.gain)},i.default.extend(i.default.AmplitudeEnvelope,i.default.Envelope),i.default.AmplitudeEnvelope.prototype.dispose=function(){return i.default.Envelope.prototype.dispose.call(this),this},e.default=i.default.AmplitudeEnvelope},function(t,e,n){"use strict";n.r(e);var i=n(0);n(11),n(6),n(3),n(1),i.default.BufferSource=function(){var t=i.default.defaults(arguments,["buffer","onload"],i.default.BufferSource);i.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._sourceStarted=!1,this._sourceStopped=!1,this._stopTime=-1,this._gainNode=this.output=new i.default.Gain(0),this._source=this.context.createBufferSource(),i.default.connect(this._source,this._gainNode),this._source.onended=this._onended.bind(this),this._buffer=new i.default.Buffer(t.buffer,t.onload),this.playbackRate=new i.default.Param({param:this._source.playbackRate,units:i.default.Type.Positive,value:t.playbackRate}),this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut,this.curve=t.curve,this._onendedTimeout=-1,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd},i.default.extend(i.default.BufferSource,i.default.AudioNode),i.default.BufferSource.defaults={onended:i.default.noOp,onload:i.default.noOp,loop:!1,loopStart:0,loopEnd:0,fadeIn:0,fadeOut:0,curve:"linear",playbackRate:1},Object.defineProperty(i.default.BufferSource.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),i.default.BufferSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&this._startTime<=t&&(-1===this._stopTime||t<this._stopTime)&&!this._sourceStopped?i.default.State.Started:i.default.State.Stopped},i.default.BufferSource.prototype.start=function(t,e,n,r){this.log("start",t,e,n,r),this.assert(-1===this._startTime,"can only be started once"),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),e=this.loop?i.default.defaultArg(e,this.loopStart):i.default.defaultArg(e,0),e=this.toSeconds(e),e=Math.max(e,0),r=i.default.defaultArg(r,1);var o=this.toSeconds(this.fadeIn);if(o>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this.curve?this._gainNode.gain.linearRampToValueAtTime(r,t+o):this._gainNode.gain.exponentialApproachValueAtTime(r,t,o)):this._gainNode.gain.setValueAtTime(r,t),this._startTime=t,i.default.isDefined(n)){var a=this.toSeconds(n);a=Math.max(a,0),this.stop(t+a)}if(this.loop){var s=this.loopEnd||this.buffer.duration,u=this.loopStart;e>=s&&(e=(e-u)%(s-u)+u)}return this._source.buffer=this.buffer.get(),this._source.loopEnd=this.loopEnd||this.buffer.duration,e<this.buffer.duration&&(this._sourceStarted=!0,this._source.start(t,e)),this},i.default.BufferSource.prototype.stop=function(t){this.log("stop",t),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),-1!==this._stopTime&&this.cancelStop();var e=this.toSeconds(this.fadeOut);return this._stopTime=t+e,e>0?"linear"===this.curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),i.default.context.clearTimeout(this._onendedTimeout),this._onendedTimeout=i.default.context.setTimeout(this._onended.bind(this),this._stopTime-this.now()),this},i.default.BufferSource.prototype.cancelStop=function(){if(-1!==this._startTime&&!this._sourceStopped){var t=this.toSeconds(this.fadeIn);this._gainNode.gain.cancelScheduledValues(this._startTime+t+this.sampleTime),this.context.clearTimeout(this._onendedTimeout),this._stopTime=-1}return this},i.default.BufferSource.prototype._onended=function(){if(!this._sourceStopped){this._sourceStopped=!0;var t="exponential"===this.curve?2*this.fadeOut:0;this._sourceStarted&&-1!==this._stopTime&&this._source.stop(this._stopTime+t),this.onended(this),setTimeout(function(){this._source&&(this._source.disconnect(),this._gainNode.disconnect())}.bind(this),1e3*t+100)}},Object.defineProperty(i.default.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(t){this._source.loopStart=this.toSeconds(t)}}),Object.defineProperty(i.default.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(t){this._source.loopEnd=this.toSeconds(t)}}),Object.defineProperty(i.default.BufferSource.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(i.default.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(t){this._source.loop=t,this.cancelStop()}}),i.default.BufferSource.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,i.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._source.onended=null,this._source.disconnect(),this._source=null,this._gainNode.dispose(),this._gainNode=null,this._buffer.dispose(),this._buffer=null,this._startTime=-1,this.playbackRate=null,i.default.context.clearTimeout(this._onendedTimeout)),this},e.default=i.default.BufferSource},function(t,e,n){"use strict";n.r(e);var i=n(0);n(8),n(2),n(5),n(3),i.default.FeedbackEffect=function(){var t=i.default.defaults(arguments,["feedback"],i.default.FeedbackEffect);i.default.Effect.call(this,t),this._feedbackGain=new i.default.Gain(t.feedback,i.default.Type.NormalRange),this.feedback=this._feedbackGain.gain,this.effectReturn.chain(this._feedbackGain,this.effectSend),this._readOnly(["feedback"])},i.default.extend(i.default.FeedbackEffect,i.default.Effect),i.default.FeedbackEffect.defaults={feedback:.125},i.default.FeedbackEffect.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this._feedbackGain.dispose(),this._feedbackGain=null,this.feedback=null,this},e.default=i.default.FeedbackEffect},function(t,e,n){"use strict";n.r(e);var i=n(0);n(24),n(4),i.default.TimelineState=function(t){i.default.Timeline.call(this),this._initial=t},i.default.extend(i.default.TimelineState,i.default.Timeline),i.default.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);return null!==e?e.state:this._initial},i.default.TimelineState.prototype.setStateAtTime=function(t,e){return this.add({state:t,time:e}),this},i.default.TimelineState.prototype.getLastState=function(t,e){e=this.toSeconds(e);for(var n=this._search(e);n>=0;n--){var i=this._timeline[n];if(i.state===t)return i}},i.default.TimelineState.prototype.getNextState=function(t,e){e=this.toSeconds(e);var n=this._search(e);if(-1!==n)for(var i=n;i<this._timeline.length;i++){var r=this._timeline[i];if(r.state===t)return r}},e.default=i.default.TimelineState},function(t,e,n){"use strict";n.r(e);var i=n(0);i.default.Emitter=function(){i.default.call(this),this._events={}},i.default.extend(i.default.Emitter),i.default.Emitter.prototype.on=function(t,e){for(var n=t.split(/\W+/),i=0;i<n.length;i++){var r=n[i];this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(e)}return this},i.default.Emitter.prototype.once=function(t,e){var n=function(){e.apply(this,arguments),this.off(t,n)}.bind(this);return this.on(t,n),this},i.default.Emitter.prototype.off=function(t,e){for(var n=t.split(/\W+/),r=0;r<n.length;r++)if(t=n[r],this._events.hasOwnProperty(t))if(i.default.isUndef(e))this._events[t]=[];else for(var o=this._events[t],a=0;a<o.length;a++)o[a]===e&&o.splice(a,1);return this},i.default.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var n=this._events[t].slice(0),i=0,r=n.length;i<r;i++)n[i].apply(this,e)}return this},i.default.Emitter.mixin=function(t){var e=["on","once","off","emit"];t._events={};for(var n=0;n<e.length;n++){var r=e[n],o=i.default.Emitter.prototype[r];t[r]=o}return i.default.Emitter},i.default.Emitter.prototype.dispose=function(){return i.default.prototype.dispose.call(this),this._events=null,this},e.default=i.default.Emitter},function(t,e,n){"use strict";n.r(e);var i=n(0);n(1),n(44),i.default.supported&&(AnalyserNode.prototype.getFloatTimeDomainData||(AnalyserNode.prototype.getFloatTimeDomainData=function(t){var e=new Uint8Array(t.length);this.getByteTimeDomainData(e);for(var n=0;n<e.length;n++)t[n]=(e[n]-128)/128})),i.default.Analyser=function(){var t=i.default.defaults(arguments,["type","size"],i.default.Analyser);i.default.AudioNode.call(this),this._analyser=this.input=this.output=this.context.createAnalyser(),this._type=t.type,this._buffer=null,this.size=t.size,this.type=t.type},i.default.extend(i.default.Analyser,i.default.AudioNode),i.default.Analyser.defaults={size:1024,type:"fft",smoothing:.8},i.default.Analyser.Type={Waveform:"waveform",FFT:"fft"},i.default.Analyser.prototype.getValue=function(){return this._type===i.default.Analyser.Type.FFT?this._analyser.getFloatFrequencyData(this._buffer):this._type===i.default.Analyser.Type.Waveform&&this._analyser.getFloatTimeDomainData(this._buffer),this._buffer},Object.defineProperty(i.default.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(t){this._analyser.fftSize=2*t,this._buffer=new Float32Array(t)}}),Object.defineProperty(i.default.Analyser.prototype,"type",{get:function(){return this._type},set:function(t){if(t!==i.default.Analyser.Type.Waveform&&t!==i.default.Analyser.Type.FFT)throw new TypeError("Tone.Analyser: invalid type: "+t);this._type=t}}),Object.defineProperty(i.default.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(t){this._analyser.smoothingTimeConstant=t}}),i.default.Analyser.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._analyser.disconnect(),this._analyser=null,this._buffer=null},e.default=i.default.Analyser},function(t,e,n){"use strict";n.r(e);var i=n(0);n(6),n(17),n(50),n(69),n(49),n(68),n(67),i.default.OmniOscillator=function(){var t=i.default.defaults(arguments,["frequency","type"],i.default.OmniOscillator);i.default.Source.call(this,t),this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=t.type,this._readOnly(["frequency","detune"]),this.set(t)},i.default.extend(i.default.OmniOscillator,i.default.Source),i.default.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var r="PulseOscillator",o="PWMOscillator",a="FMOscillator",s="AMOscillator",u="FatOscillator";i.default.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)},i.default.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)},i.default.OmniOscillator.prototype.restart=function(t){this._oscillator.restart(t)},Object.defineProperty(i.default.OmniOscillator.prototype,"type",{get:function(){var t="";return this._sourceType===a?t="fm":this._sourceType===s?t="am":this._sourceType===u&&(t="fat"),t+this._oscillator.type},set:function(t){"fm"===t.substr(0,2)?(this._createNewOscillator(a),this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator(s),this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator(u),this._oscillator.type=t.substr(3)):"pwm"===t?this._createNewOscillator(o):"pulse"===t?this._createNewOscillator(r):(this._createNewOscillator("Oscillator"),this._oscillator.type=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(t){this._oscillator.partials=t}}),Object.defineProperty(i.default.OmniOscillator.prototype,"partialCount",{get:function(){return this._oscillator.partialCount},set:function(t){this._oscillator.partialCount=t}}),i.default.OmniOscillator.prototype.set=function(t,e){return"type"===t?this.type=e:i.default.isObject(t)&&t.hasOwnProperty("type")&&(this.type=t.type),i.default.prototype.set.apply(this,arguments),this},i.default.OmniOscillator.prototype.get=function(t){var e=this._oscillator.get(t);return e.type=this.type,e},i.default.OmniOscillator.prototype._createNewOscillator=function(t){if(t!==this._sourceType){this._sourceType=t;var e=i.default[t],n=this.now();if(null!==this._oscillator){var r=this._oscillator;r.stop(n),this.context.setTimeout((function(){r.dispose(),r=null}),this.blockTime)}this._oscillator=new e,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===i.default.State.Started&&this._oscillator.start(n)}},Object.defineProperty(i.default.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}});var l={PulseOscillator:"pulse",PWMOscillator:"pwm",Oscillator:"oscillator",FMOscillator:"fm",AMOscillator:"am",FatOscillator:"fat"};Object.defineProperty(i.default.OmniOscillator.prototype,"sourceType",{get:function(){return l[this._sourceType]},set:function(t){var e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),t===l.FMOscillator?this.type="fm"+e:t===l.AMOscillator?this.type="am"+e:t===l.FatOscillator?this.type="fat"+e:t===l.Oscillator?this.type=e:t===l.PulseOscillator?this.type="pulse":t===l.PWMOscillator&&(this.type="pwm")}}),Object.defineProperty(i.default.OmniOscillator.prototype,"baseType",{get:function(){return this._oscillator.baseType},set:function(t){this.sourceType!==l.PulseOscillator&&this.sourceType!==l.PWMOscillator&&(this._oscillator.baseType=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"width",{get:function(){return this._sourceType===r?this._oscillator.width:void 0}}),Object.defineProperty(i.default.OmniOscillator.prototype,"count",{get:function(){return this._sourceType===u?this._oscillator.count:void 0},set:function(t){this._sourceType===u&&(this._oscillator.count=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"spread",{get:function(){return this._sourceType===u?this._oscillator.spread:void 0},set:function(t){this._sourceType===u&&(this._oscillator.spread=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"modulationType",{get:function(){return this._sourceType===a||this._sourceType===s?this._oscillator.modulationType:void 0},set:function(t){this._sourceType!==a&&this._sourceType!==s||(this._oscillator.modulationType=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"modulationIndex",{get:function(){return this._sourceType===a?this._oscillator.modulationIndex:void 0}}),Object.defineProperty(i.default.OmniOscillator.prototype,"harmonicity",{get:function(){return this._sourceType===a||this._sourceType===s?this._oscillator.harmonicity:void 0}}),Object.defineProperty(i.default.OmniOscillator.prototype,"modulationFrequency",{get:function(){return this._sourceType===o?this._oscillator.modulationFrequency:void 0}}),i.default.OmniOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},e.default=i.default.OmniOscillator},function(t,e,n){"use strict";n.r(e);var i=n(0);n(31),n(37),n(25),i.default.Synth=function(t){t=i.default.defaultArg(t,i.default.Synth.defaults),i.default.Monophonic.call(this,t),this.oscillator=new i.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new i.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","frequency","detune","envelope"])},i.default.extend(i.default.Synth,i.default.Monophonic),i.default.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},i.default.Synth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this},i.default.Synth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release)),this},i.default.Synth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},e.default=i.default.Synth},function(t,e,n){"use strict";n.r(e);var i=n(0);n(6),n(11),n(32),i.default.Noise=function(){var t=i.default.defaults(arguments,["type"],i.default.Noise);i.default.Source.call(this,t),this._source=null,this._type=t.type,this._playbackRate=t.playbackRate},i.default.extend(i.default.Noise,i.default.Source),i.default.Noise.defaults={type:"white",playbackRate:1},Object.defineProperty(i.default.Noise.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t){if(!(t in r))throw new TypeError("Tone.Noise: invalid type: "+t);if(this._type=t,this.state===i.default.State.Started){var e=this.now();this._stop(e),this._start(e)}}}}),Object.defineProperty(i.default.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),i.default.Noise.prototype._start=function(t){var e=r[this._type];this._source=new i.default.BufferSource(e).connect(this.output),this._source.loop=!0,this._source.playbackRate.value=this._playbackRate,this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))},i.default.Noise.prototype._stop=function(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)},i.default.Noise.prototype.restart=function(t){return this._stop(t),this._start(t),this},i.default.Noise.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var r={},o={};Object.defineProperty(r,"pink",{get:function(){if(!o.pink){for(var t=[],e=0;e<2;e++){var n,r,a,s,u,l,f,c=new Float32Array(220500);t[e]=c,n=r=a=s=u=l=f=0;for(var h=0;h<220500;h++){var d=2*Math.random()-1;n=.99886*n+.0555179*d,r=.99332*r+.0750759*d,a=.969*a+.153852*d,s=.8665*s+.3104856*d,u=.55*u+.5329522*d,l=-.7616*l-.016898*d,c[h]=n+r+a+s+u+l+f+.5362*d,c[h]*=.11,f=.115926*d}}o.pink=(new i.default.Buffer).fromArray(t)}return o.pink}}),Object.defineProperty(r,"brown",{get:function(){if(!o.brown){for(var t=[],e=0;e<2;e++){var n=new Float32Array(220500);t[e]=n;for(var r=0,a=0;a<220500;a++){var s=2*Math.random()-1;n[a]=(r+.02*s)/1.02,r=n[a],n[a]*=3.5}}o.brown=(new i.default.Buffer).fromArray(t)}return o.brown}}),Object.defineProperty(r,"white",{get:function(){if(!o.white){for(var t=[],e=0;e<2;e++){var n=new Float32Array(220500);t[e]=n;for(var r=0;r<220500;r++)n[r]=2*Math.random()-1}o.white=(new i.default.Buffer).fromArray(t)}return o.white}}),e.default=i.default.Noise},function(t,e,n){"use strict";n.r(e);var i=n(0);n(27),n(20),n(1),i.default.Master=function(){i.default.AudioNode.call(this),i.default.getContext(function(){this.createInsOuts(1,0),this._volume=this.output=new i.default.Volume,this.volume=this._volume.volume,this._readOnly("volume"),i.default.connectSeries(this.input,this.output,this.context.destination),this.context.master=this}.bind(this))},i.default.extend(i.default.Master,i.default.AudioNode),i.default.Master.defaults={volume:0,mute:!1},i.default.Master.prototype.isMaster=!0,Object.defineProperty(i.default.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),i.default.Master.prototype.chain=function(){this.input.disconnect();var t=Array.from(arguments);t.unshift(this.input),t.push(this.output),i.default.connectSeries.apply(void 0,t)},i.default.Master.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},i.default.AudioNode.prototype.toMaster=function(){return this.connect(this.context.master),this};var r=i.default.Master;i.default.Master=new r,i.default.Context.on("init",(function(t){t.master&&t.master.isMaster?i.default.Master=t.master:i.default.Master=new r})),i.default.Context.on("close",(function(t){t.master&&t.master.isMaster&&t.master.dispose()})),e.default=i.default.Master},function(t,e,n){"use strict";n.r(e);var i=n(0);n(86),n(47),i.default.FrequencyEnvelope=function(){var t=i.default.defaults(arguments,["attack","decay","sustain","release"],i.default.Envelope);t=i.default.defaultArg(t,i.default.FrequencyEnvelope.defaults),i.default.ScaledEnvelope.call(this,t),this._octaves=t.octaves,this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this.exponent=t.exponent},i.default.extend(i.default.FrequencyEnvelope,i.default.Envelope),i.default.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:1},Object.defineProperty(i.default.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(t){this._scale.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(i.default.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._scale.max=this.baseFrequency*Math.pow(2,t)}}),Object.defineProperty(i.default.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),i.default.FrequencyEnvelope.prototype.dispose=function(){return i.default.ScaledEnvelope.prototype.dispose.call(this),this},e.default=i.default.FrequencyEnvelope},function(t,e,n){"use strict";n.r(e);var i=n(0);n(26),n(61),i.default.ScaleExp=function(t,e,n){i.default.SignalBase.call(this),this._scale=this.output=new i.default.Scale(t,e),this._exp=this.input=new i.default.Pow(i.default.defaultArg(n,2)),this._exp.connect(this._scale)},i.default.extend(i.default.ScaleExp,i.default.SignalBase),Object.defineProperty(i.default.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),Object.defineProperty(i.default.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(i.default.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),i.default.ScaleExp.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=i.default.ScaleExp},function(t,e,n){"use strict";n.r(e);var i=n(0);n(14),n(1),i.default.Compressor=function(){var t=i.default.defaults(arguments,["threshold","ratio"],i.default.Compressor);i.default.AudioNode.call(this),this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=new i.default.Param({param:this._compressor.threshold,units:i.default.Type.Decibels,convert:!1}),this.attack=new i.default.Param(this._compressor.attack,i.default.Type.Time),this.release=new i.default.Param(this._compressor.release,i.default.Type.Time),this.knee=new i.default.Param({param:this._compressor.knee,units:i.default.Type.Decibels,convert:!1}),this.ratio=new i.default.Param({param:this._compressor.ratio,convert:!1}),this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(t)},i.default.extend(i.default.Compressor,i.default.AudioNode),i.default.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},i.default.Compressor.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold.dispose(),this.threshold=null,this.ratio.dispose(),this.ratio=null,this.knee.dispose(),this.knee=null,this},e.default=i.default.Compressor},function(t,e,n){"use strict";var i=n(0);if(n(92),i.default.supported){!i.default.global.hasOwnProperty("AudioContext")&&i.default.global.hasOwnProperty("webkitAudioContext")&&(i.default.global.AudioContext=i.default.global.webkitAudioContext),AudioContext.prototype.close||(AudioContext.prototype.close=function(){return i.default.isFunction(this.suspend)&&this.suspend(),Promise.resolve()}),AudioContext.prototype.resume||(AudioContext.prototype.resume=function(){var t=this.createBuffer(1,1,this.sampleRate),e=this.createBufferSource();return e.buffer=t,e.connect(this.destination),e.start(0),Promise.resolve()}),!AudioContext.prototype.createGain&&AudioContext.prototype.createGainNode&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),!AudioContext.prototype.createDelay&&AudioContext.prototype.createDelayNode&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode);var r=!1,o=new OfflineAudioContext(1,1,44100),a=new Uint32Array([1179011410,48,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,8,0,0,0,0]).buffer;try{var s=o.decodeAudioData(a);s&&i.default.isFunction(s.then)&&(r=!0)}catch(t){r=!1}r||(AudioContext.prototype._native_decodeAudioData=AudioContext.prototype.decodeAudioData,AudioContext.prototype.decodeAudioData=function(t){return new Promise(function(e,n){this._native_decodeAudioData(t,e,n)}.bind(this))})}},function(t,e,n){"use strict";n.r(e);var i=n(0);n(63),i.default.TransportTime=function(t,e){if(!(this instanceof i.default.TransportTime))return new i.default.TransportTime(t,e);i.default.Time.call(this,t,e)},i.default.extend(i.default.TransportTime,i.default.Time),i.default.TransportTime.prototype._now=function(){return i.default.Transport.seconds},e.default=i.default.TransportTime},function(t,e,n){"use strict";n.r(e);var i=n(0);n(62),i.default.Frequency=function(t,e){if(!(this instanceof i.default.Frequency))return new i.default.Frequency(t,e);i.default.TimeBase.call(this,t,e)},i.default.extend(i.default.Frequency,i.default.TimeBase),i.default.Frequency.prototype._expressions=Object.assign({},i.default.TimeBase.prototype._expressions,{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method:function(t){return"midi"===this._defaultUnits?t:i.default.Frequency.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(t,e){var n=r[t.toLowerCase()]+12*(parseInt(e)+1);return"midi"===this._defaultUnits?n:i.default.Frequency.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}}}),i.default.Frequency.prototype.transpose=function(t){return new this.constructor(this.valueOf()*i.default.intervalToFrequencyRatio(t))},i.default.Frequency.prototype.harmonize=function(t){return t.map(function(t){return this.transpose(t)}.bind(this))},i.default.Frequency.prototype.toMidi=function(){return i.default.Frequency.ftom(this.valueOf())},i.default.Frequency.prototype.toNote=function(){var t=this.toFrequency(),e=Math.log2(t/i.default.Frequency.A4),n=Math.round(12*e)+57,r=Math.floor(n/12);return r<0&&(n+=-12*r),o[n%12]+r.toString()},i.default.Frequency.prototype.toSeconds=function(){return 1/i.default.TimeBase.prototype.toSeconds.call(this)},i.default.Frequency.prototype.toFrequency=function(){return i.default.TimeBase.prototype.toFrequency.call(this)},i.default.Frequency.prototype.toTicks=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*i.default.Transport.PPQ)},i.default.Frequency.prototype._noArg=function(){return 0},i.default.Frequency.prototype._frequencyToUnits=function(t){return t},i.default.Frequency.prototype._ticksToUnits=function(t){return 1/(60*t/(i.default.Transport.bpm.value*i.default.Transport.PPQ))},i.default.Frequency.prototype._beatsToUnits=function(t){return 1/i.default.TimeBase.prototype._beatsToUnits.call(this,t)},i.default.Frequency.prototype._secondsToUnits=function(t){return 1/t},i.default.Frequency.prototype._defaultUnits="hz";var r={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},o=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];i.default.Frequency.A4=440,i.default.Frequency.mtof=function(t){return i.default.Frequency.A4*Math.pow(2,(t-69)/12)},i.default.Frequency.ftom=function(t){return 69+Math.round(12*Math.log2(t/i.default.Frequency.A4))},e.default=i.default.Frequency},function(t,e,n){"use strict";n.r(e);var i=n(0);n(2),n(61),n(4),n(1),i.default.Envelope=function(){var t=i.default.defaults(arguments,["attack","decay","sustain","release"],i.default.Envelope);i.default.AudioNode.call(this),this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this._attackCurve="linear",this._releaseCurve="exponential",this._sig=this.output=new i.default.Signal(0),this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve},i.default.extend(i.default.Envelope,i.default.AudioNode),i.default.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",decayCurve:"exponential",releaseCurve:"exponential"},Object.defineProperty(i.default.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}}),i.default.Envelope.prototype._getCurve=function(t,e){if(i.default.isString(t))return t;if(i.default.isArray(t))for(var n in i.default.Envelope.Type)if(i.default.Envelope.Type[n][e]===t)return n},i.default.Envelope.prototype._setCurve=function(t,e,n){if(i.default.Envelope.Type.hasOwnProperty(n)){var r=i.default.Envelope.Type[n];i.default.isObject(r)?this[t]=r[e]:this[t]=r}else{if(!i.default.isArray(n))throw new Error("Tone.Envelope: invalid curve: "+n);this[t]=n}},Object.defineProperty(i.default.Envelope.prototype,"attackCurve",{get:function(){return this._getCurve(this._attackCurve,"In")},set:function(t){this._setCurve("_attackCurve","In",t)}}),Object.defineProperty(i.default.Envelope.prototype,"releaseCurve",{get:function(){return this._getCurve(this._releaseCurve,"Out")},set:function(t){this._setCurve("_releaseCurve","Out",t)}}),Object.defineProperty(i.default.Envelope.prototype,"decayCurve",{get:function(){return this._decayCurve},set:function(t){if(!["linear","exponential"].includes(t))throw new Error("Tone.Envelope: invalid curve: "+t);this._decayCurve=t}}),i.default.Envelope.prototype.triggerAttack=function(t,e){this.log("triggerAttack",t,e),t=this.toSeconds(t);var n=this.toSeconds(this.attack),r=this.toSeconds(this.decay);e=i.default.defaultArg(e,1);var o=this.getValueAtTime(t);if(o>0&&(n=(1-o)/(1/n)),0===n)this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else if(n>0){this._sig.cancelAndHoldAtTime(t);for(var a=this._attackCurve,s=1;s<a.length;s++)if(a[s-1]<=o&&o<=a[s]){(a=this._attackCurve.slice(s))[0]=o;break}this._sig.setValueCurveAtTime(a,t,n,e)}if(r){var u=e*this.sustain,l=t+n;this.log("decay",l),"linear"===this._decayCurve?this._sig.linearRampTo(u,r,l+this.sampleTime):"exponential"===this._decayCurve&&this._sig.exponentialApproachValueAtTime(u,l,r)}return this},i.default.Envelope.prototype.triggerRelease=function(t){this.log("triggerRelease",t),t=this.toSeconds(t);var e=this.getValueAtTime(t);if(e>0){var n=this.toSeconds(this.release);if("linear"===this._releaseCurve)this._sig.linearRampTo(0,n,t);else if("exponential"===this._releaseCurve)this._sig.targetRampTo(0,n,t);else{var r=this._releaseCurve;i.default.isArray(r)&&(this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(r,t,n,e))}}return this},i.default.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)},i.default.Envelope.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this},i.default.Envelope.prototype.cancel=function(t){return this._sig.cancelScheduledValues(t),this},i.default.Envelope.prototype.connect=i.default.SignalBase.prototype.connect,function(){var t,e,n=[];for(t=0;t<128;t++)n[t]=Math.sin(t/127*(Math.PI/2));var r=[];for(t=0;t<127;t++){e=t/127;var o=Math.sin(e*(2*Math.PI)*6.4-Math.PI/2)+1;r[t]=o/10+.83*e}r[127]=1;var a=[];for(t=0;t<128;t++)a[t]=Math.ceil(t/127*5)/5;var s=[];for(t=0;t<128;t++)e=t/127,s[t]=.5*(1-Math.cos(Math.PI*e));var u,l=[];for(t=0;t<128;t++){e=t/127;var f=4*Math.pow(e,3)+.2,c=Math.cos(f*Math.PI*2*e);l[t]=Math.abs(c*(1-e))}function h(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=1-t[n];return e}i.default.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:h(l),Out:l},cosine:{In:n,Out:(u=n,u.slice(0).reverse())},step:{In:a,Out:h(a)},ripple:{In:r,Out:h(r)},sine:{In:s,Out:h(s)}}}(),i.default.Envelope.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this._attackCurve=null,this._releaseCurve=null,this},e.default=i.default.Envelope},function(t,e,n){"use strict";n.r(e);var i=n(0);if(n(23),n(10),n(19),n(7),n(28),n(3),n(2),n(20),i.default.supported&&!i.default.global.AudioContext.prototype.createStereoPanner){var r=function(t){this.context=t,this.pan=new i.default.Signal(0,i.default.Type.AudioRange);var e=new i.default.WaveShaper((function(t){return i.default.equalPowerScale((t+1)/2)}),4096),n=new i.default.WaveShaper((function(t){return i.default.equalPowerScale(1-(t+1)/2)}),4096),r=new i.default.Gain,o=new i.default.Gain,a=this.input=new i.default.Split;a._splitter.channelCountMode="explicit",(new i.default.Zero).fan(e,n);var s=this.output=new i.default.Merge;a.left.chain(r,s.left),a.right.chain(o,s.right),this.pan.chain(n,r.gain),this.pan.chain(e,o.gain)};r.prototype.disconnect=function(){this.output.disconnect.apply(this.output,arguments)},r.prototype.connect=function(){this.output.connect.apply(this.output,arguments)},AudioContext.prototype.createStereoPanner=function(){return new r(this)},i.default.Context.prototype.createStereoPanner=function(){return new r(this)}}n(22),n(1),i.default.Panner=function(){var t=i.default.defaults(arguments,["pan"],i.default.Panner);i.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=this._panner.pan,this.pan.value=t.pan,this._readOnly("pan")},i.default.extend(i.default.Panner,i.default.AudioNode),i.default.Panner.defaults={pan:0},i.default.Panner.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable("pan"),this._panner.disconnect(),this._panner=null,this.pan=null,this},e.default=i.default.Panner},function(t,e,n){"use strict";n.r(e);var i=n(0);n(6),n(17),n(5),n(3),i.default.FMOscillator=function(){var t=i.default.defaults(arguments,["frequency","type","modulationType"],i.default.FMOscillator);i.default.Source.call(this,t),this._carrier=new i.default.Oscillator(t.frequency,t.type),this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=this._carrier.detune,this.detune.value=t.detune,this.modulationIndex=new i.default.Multiply(t.modulationIndex),this.modulationIndex.units=i.default.Type.Positive,this._modulator=new i.default.Oscillator(t.frequency,t.modulationType),this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this._modulationNode=new i.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),this.phase=t.phase,this._readOnly(["modulationIndex","frequency","detune","harmonicity"])},i.default.extend(i.default.FMOscillator,i.default.Source),i.default.FMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationIndex:2,modulationType:"square",harmonicity:1},i.default.FMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},i.default.FMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},i.default.FMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(i.default.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),i.default.FMOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._writable(["modulationIndex","frequency","detune","harmonicity"]),this.frequency.dispose(),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this.modulationIndex.dispose(),this.modulationIndex=null,this},e.default=i.default.FMOscillator},function(t,e,n){"use strict";n.r(e);var i=n(0);n(6),n(17),n(2),n(7),n(3),i.default.PulseOscillator=function(){var t=i.default.defaults(arguments,["frequency","width"],i.default.Oscillator);i.default.Source.call(this,t),this.width=new i.default.Signal(t.width,i.default.Type.NormalRange),this._widthGate=new i.default.Gain(0),this._sawtooth=new i.default.Oscillator({frequency:t.frequency,detune:t.detune,type:"sawtooth",phase:t.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new i.default.WaveShaper((function(t){return t<0?-1:1})),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},i.default.extend(i.default.PulseOscillator,i.default.Source),i.default.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},i.default.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t),this._sawtooth.start(t),this._widthGate.gain.setValueAtTime(1,t)},i.default.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._sawtooth.stop(t),this._widthGate.gain.setValueAtTime(0,t)},i.default.PulseOscillator.prototype.restart=function(t){this._sawtooth.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)},Object.defineProperty(i.default.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}}),Object.defineProperty(i.default.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),Object.defineProperty(i.default.PulseOscillator.prototype,"baseType",{get:function(){return"pulse"}}),Object.defineProperty(i.default.PulseOscillator.prototype,"partials",{get:function(){return[]}}),i.default.PulseOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.dispose(),this._widthGate=null,this._thresh.dispose(),this._thresh=null,this.frequency=null,this.detune=null,this},e.default=i.default.PulseOscillator},function(t,e,n){"use strict";n.r(e);var i=n(0);n(16),n(4),n(34),i.default.Event=function(){var t=i.default.defaults(arguments,["callback","value"],i.default.Event);i.default.call(this),this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._state=new i.default.TimelineState(i.default.State.Stopped),this._playbackRate=1,this._startOffset=0,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate},i.default.extend(i.default.Event),i.default.Event.defaults={callback:i.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},i.default.Event.prototype._rescheduleEvents=function(t){return t=i.default.defaultArg(t,-1),this._state.forEachFrom(t,function(t){var e;if(t.state===i.default.State.Started){i.default.isDefined(t.id)&&i.default.Transport.clear(t.id);var n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||i.default.isNumber(this._loop)&&this._loop>1){e=1/0,i.default.isNumber(this._loop)&&(e=this._loop*this._getLoopDuration());var r=this._state.getAfter(n);null!==r&&(e=Math.min(e,r.time-n)),e!==1/0&&(this._state.setStateAtTime(i.default.State.Stopped,n+e+1),e=i.default.Ticks(e));var o=i.default.Ticks(this._getLoopDuration());t.id=i.default.Transport.scheduleRepeat(this._tick.bind(this),o,i.default.Ticks(n),e)}else t.id=i.default.Transport.schedule(this._tick.bind(this),i.default.Ticks(n))}}.bind(this)),this},Object.defineProperty(i.default.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(i.default.Transport.ticks)}}),Object.defineProperty(i.default.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),Object.defineProperty(i.default.Event.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t}}),Object.defineProperty(i.default.Event.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t}}),i.default.Event.prototype.start=function(t){return t=this.toTicks(t),this._state.getValueAtTime(t)===i.default.State.Stopped&&(this._state.add({state:i.default.State.Started,time:t,id:void 0}),this._rescheduleEvents(t)),this},i.default.Event.prototype.stop=function(t){if(this.cancel(t),t=this.toTicks(t),this._state.getValueAtTime(t)===i.default.State.Started){this._state.setStateAtTime(i.default.State.Stopped,t);var e=this._state.getBefore(t),n=t;null!==e&&(n=e.time),this._rescheduleEvents(n)}return this},i.default.Event.prototype.cancel=function(t){return t=i.default.defaultArg(t,-1/0),t=this.toTicks(t),this._state.forEachFrom(t,(function(t){i.default.Transport.clear(t.id)})),this._state.cancel(t),this},i.default.Event.prototype._tick=function(t){var e=i.default.Transport.getTicksAtTime(t);if(!this.mute&&this._state.getValueAtTime(e)===i.default.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var n=.02;i.default.isBoolean(this.humanize)||(n=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*n}this.callback(t,this.value)}},i.default.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(i.default.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(i.default.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(i.default.Event.prototype,"loopEnd",{get:function(){return i.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(i.default.Event.prototype,"loopStart",{get:function(){return i.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(i.default.Event.prototype,"progress",{get:function(){if(this._loop){var t=i.default.Transport.ticks,e=this._state.get(t);if(null!==e&&e.state===i.default.State.Started){var n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}}),i.default.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},e.default=i.default.Event},function(t,e,n){"use strict";n.r(e);var i=n(0);n(2),n(13),n(29),n(10),n(3),n(1),i.default.MidSideMerge=function(){i.default.AudioNode.call(this),this.createInsOuts(2,0),this.mid=this.input[0]=new i.default.Gain,this._left=new i.default.Add,this._timesTwoLeft=new i.default.Multiply(Math.SQRT1_2),this.side=this.input[1]=new i.default.Gain,this._right=new i.default.Subtract,this._timesTwoRight=new i.default.Multiply(Math.SQRT1_2),this._merge=this.output=new i.default.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._timesTwoLeft),this._right.connect(this._timesTwoRight),this._timesTwoLeft.connect(this._merge,0,0),this._timesTwoRight.connect(this._merge,0,1)},i.default.extend(i.default.MidSideMerge,i.default.AudioNode),i.default.MidSideMerge.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._left.dispose(),this._left=null,this._timesTwoLeft.dispose(),this._timesTwoLeft=null,this._right.dispose(),this._right=null,this._timesTwoRight.dispose(),this._timesTwoRight=null,this._merge.dispose(),this._merge=null,this},e.default=i.default.MidSideMerge},function(t,e,n){"use strict";n.r(e);var i=n(0);n(29),n(13),n(2),n(19),n(1),i.default.MidSideSplit=function(){i.default.AudioNode.call(this),this.createInsOuts(0,2),this._split=this.input=new i.default.Split,this._midAdd=new i.default.Add,this.mid=this.output[0]=new i.default.Multiply(Math.SQRT1_2),this._sideSubtract=new i.default.Subtract,this.side=this.output[1]=new i.default.Multiply(Math.SQRT1_2),this._split.connect(this._midAdd,0,0),this._split.connect(this._midAdd,1,1),this._split.connect(this._sideSubtract,0,0),this._split.connect(this._sideSubtract,1,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)},i.default.extend(i.default.MidSideSplit,i.default.AudioNode),i.default.MidSideSplit.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midAdd.dispose(),this._midAdd=null,this._sideSubtract.dispose(),this._sideSubtract=null,this._split.dispose(),this._split=null,this},e.default=i.default.MidSideSplit},function(t,e,n){"use strict";n.r(e);var i=n(0);n(2),n(9),n(1),n(59),i.default.LowpassCombFilter=function(){var t=i.default.defaults(arguments,["delayTime","resonance","dampening"],i.default.LowpassCombFilter);i.default.AudioNode.call(this),this._combFilter=this.output=new i.default.FeedbackCombFilter(t.delayTime,t.resonance),this.delayTime=this._combFilter.delayTime,this._lowpass=this.input=new i.default.Filter({frequency:t.dampening,type:"lowpass",Q:0,rolloff:-12}),this.dampening=this._lowpass.frequency,this.resonance=this._combFilter.resonance,this._lowpass.connect(this._combFilter),this._readOnly(["dampening","resonance","delayTime"])},i.default.extend(i.default.LowpassCombFilter,i.default.AudioNode),i.default.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},i.default.LowpassCombFilter.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this._combFilter.dispose(),this._combFilter=null,this.resonance=null,this.delayTime=null,this._lowpass.dispose(),this._lowpass=null,this.dampening=null,this},e.default=i.default.LowpassCombFilter},function(t,e,n){"use strict";n.r(e);var i=n(0);n(45),i.default.Ticks=function(t,e){if(!(this instanceof i.default.Ticks))return new i.default.Ticks(t,e);i.default.TransportTime.call(this,t,e)},i.default.extend(i.default.Ticks,i.default.TransportTime),i.default.Ticks.prototype._defaultUnits="i",i.default.Ticks.prototype._now=function(){return i.default.Transport.ticks},i.default.Ticks.prototype._beatsToUnits=function(t){return this._getPPQ()*t},i.default.Ticks.prototype._secondsToUnits=function(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())},i.default.Ticks.prototype._ticksToUnits=function(t){return t},i.default.Ticks.prototype.toTicks=function(){return this.valueOf()},i.default.Ticks.prototype.toSeconds=function(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())},e.default=i.default.Ticks},function(t,e,n){"use strict";n.r(e);var i=n(0);n(55),i.default.TransportEvent=function(t,e){e=i.default.defaultArg(e,i.default.TransportEvent.defaults),i.default.call(this),this.Transport=t,this.id=i.default.TransportEvent._eventId++,this.time=i.default.Ticks(e.time),this.callback=e.callback,this._once=e.once},i.default.extend(i.default.TransportEvent),i.default.TransportEvent.defaults={once:!1,callback:i.default.noOp},i.default.TransportEvent._eventId=0,i.default.TransportEvent.prototype.invoke=function(t){this.callback&&(this.callback(t),this._once&&this.Transport&&this.Transport.clear(this.id))},i.default.TransportEvent.prototype.dispose=function(){return i.default.prototype.dispose.call(this),this.Transport=null,this.callback=null,this.time=null,this},e.default=i.default.TransportEvent},function(t,e,n){"use strict";n.r(e);var i=n(0);n(82),n(34),n(24),n(14),i.default.TickSource=function(){var t=i.default.defaults(arguments,["frequency"],i.default.TickSource);this.frequency=new i.default.TickSignal(t.frequency),this._readOnly("frequency"),this._state=new i.default.TimelineState(i.default.State.Stopped),this._state.setStateAtTime(i.default.State.Stopped,0),this._tickOffset=new i.default.Timeline,this.setTicksAtTime(0,0)},i.default.extend(i.default.TickSource),i.default.TickSource.defaults={frequency:1},Object.defineProperty(i.default.TickSource.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),i.default.TickSource.prototype.start=function(t,e){return t=this.toSeconds(t),this._state.getValueAtTime(t)!==i.default.State.Started&&(this._state.setStateAtTime(i.default.State.Started,t),i.default.isDefined(e)&&this.setTicksAtTime(e,t)),this},i.default.TickSource.prototype.stop=function(t){if(t=this.toSeconds(t),this._state.getValueAtTime(t)===i.default.State.Stopped){var e=this._state.get(t);e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime(i.default.State.Stopped,t),this.setTicksAtTime(0,t),this},i.default.TickSource.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===i.default.State.Started&&this._state.setStateAtTime(i.default.State.Paused,t),this},i.default.TickSource.prototype.cancel=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this},i.default.TickSource.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(i.default.State.Stopped,t),n={state:i.default.State.Paused,time:t};this._state.add(n);var r=e,o=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=r.time,n=this._tickOffset.get(t.time);n.time>=r.time&&(o=n.ticks,e=n.time),r.state===i.default.State.Started&&t.state!==i.default.State.Started&&(o+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),r=t}.bind(this)),this._state.remove(n),o},Object.defineProperty(i.default.TickSource.prototype,"ticks",{get:function(){return this.getTicksAtTime(this.now())},set:function(t){this.setTicksAtTime(t,this.now())}}),Object.defineProperty(i.default.TickSource.prototype,"seconds",{get:function(){return this.getSecondsAtTime(this.now())},set:function(t){var e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}}),i.default.TickSource.prototype.getSecondsAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(i.default.State.Stopped,t),n={state:i.default.State.Paused,time:t};this._state.add(n);var r=e,o=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=r.time,n=this._tickOffset.get(t.time);n.time>=r.time&&(o=n.seconds,e=n.time),r.state===i.default.State.Started&&t.state!==i.default.State.Started&&(o+=t.time-e),r=t}.bind(this)),this._state.remove(n),o},i.default.TickSource.prototype.setTicksAtTime=function(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({time:e,ticks:t,seconds:this.frequency.getDurationOfTicks(t,e)}),this},i.default.TickSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},i.default.TickSource.prototype.getTimeOfTick=function(t,e){e=i.default.defaultArg(e,this.now());var n=this._tickOffset.get(e),r=this._state.get(e),o=Math.max(n.time,r.time),a=this.frequency.getTicksAtTime(o)+t-n.ticks;return this.frequency.getTimeOfTick(a)},i.default.TickSource.prototype.forEachTickBetween=function(t,e,n){var r=this._state.get(t);if(this._state.forEachBetween(t,e,function(e){r.state===i.default.State.Started&&e.state!==i.default.State.Started&&this.forEachTickBetween(Math.max(r.time,t),e.time-this.sampleTime,n),r=e}.bind(this)),t=Math.max(r.time,t),r.state===i.default.State.Started&&this._state){var o=this.frequency.getTicksAtTime(t),a=(o-this.frequency.getTicksAtTime(r.time))%1;0!==a&&(a=1-a);for(var s=this.frequency.getTimeOfTick(o+a),u=null;s<e&&this._state;){try{n(s,Math.round(this.getTicksAtTime(s)))}catch(t){u=t;break}this._state&&(s+=this.frequency.getDurationOfTicks(1,s))}}if(u)throw u;return this},i.default.TickSource.prototype.dispose=function(){return i.default.Param.prototype.dispose.call(this),this._state.dispose(),this._state=null,this._tickOffset.dispose(),this._tickOffset=null,this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this},e.default=i.default.TickSource},function(t,e,n){"use strict";n.r(e);var i=n(0);n(87),n(13),n(2),n(4),n(18),n(1),i.default.Follower=function(){var t=i.default.defaults(arguments,["smoothing"],i.default.Follower);i.default.AudioNode.call(this),this.createInsOuts(1,1),this._abs=new i.default.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=0,this._sub=new i.default.Subtract,this._delay=new i.default.Delay(this.blockTime),this._smoothing=t.smoothing,i.default.connect(this.input,this._delay),i.default.connect(this.input,this._sub,0,1),this._sub.chain(this._abs,this._filter,this.output),this.smoothing=t.smoothing},i.default.extend(i.default.Follower,i.default.AudioNode),i.default.Follower.defaults={smoothing:.05},Object.defineProperty(i.default.Follower.prototype,"smoothing",{get:function(){return this._smoothing},set:function(t){this._smoothing=t,this._filter.frequency.value=.5*i.default.Time(t).toFrequency()}}),i.default.Follower.prototype.connect=i.default.SignalBase.prototype.connect,i.default.Follower.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._delay.dispose(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this},e.default=i.default.Follower},function(t,e,n){"use strict";n.r(e);var i=n(0);n(42),n(2),n(14),n(18),n(3),n(1),i.default.FeedbackCombFilter=function(){var t=i.default.defaults(arguments,["delayTime","resonance"],i.default.FeedbackCombFilter);i.default.AudioNode.call(this),this._delay=this.input=this.output=new i.default.Delay(t.delayTime),this.delayTime=this._delay.delayTime,this._feedback=new i.default.Gain(t.resonance,i.default.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._feedback,this._delay),this._readOnly(["resonance","delayTime"])},i.default.extend(i.default.FeedbackCombFilter,i.default.AudioNode),i.default.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},i.default.FeedbackCombFilter.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.dispose(),this._delay=null,this.delayTime=null,this._feedback.dispose(),this._feedback=null,this.resonance=null,this},e.default=i.default.FeedbackCombFilter},function(t,e,n){"use strict";n.r(e);var i=n(0);n(9),n(2),n(3),n(1),i.default.MultibandSplit=function(){var t=i.default.defaults(arguments,["lowFrequency","highFrequency"],i.default.MultibandSplit);i.default.AudioNode.call(this),this.input=new i.default.Gain,this.output=new Array(3),this.low=this.output[0]=new i.default.Filter(0,"lowpass"),this._lowMidFilter=new i.default.Filter(0,"highpass"),this.mid=this.output[1]=new i.default.Filter(0,"lowpass"),this.high=this.output[2]=new i.default.Filter(0,"highpass"),this.lowFrequency=new i.default.Signal(t.lowFrequency,i.default.Type.Frequency),this.highFrequency=new i.default.Signal(t.highFrequency,i.default.Type.Frequency),this.Q=new i.default.Signal(t.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},i.default.extend(i.default.MultibandSplit,i.default.AudioNode),i.default.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},i.default.MultibandSplit.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},e.default=i.default.MultibandSplit},function(t,e,n){"use strict";n.r(e);var i=n(0);n(7),i.default.Pow=function(t){i.default.SignalBase.call(this),this._exp=i.default.defaultArg(t,1),this._expScaler=this.input=this.output=new i.default.WaveShaper(this._expFunc(this._exp),8192)},i.default.extend(i.default.Pow,i.default.SignalBase),Object.defineProperty(i.default.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),i.default.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},i.default.Pow.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},e.default=i.default.Pow},function(t,e,n){"use strict";n.r(e);var i=n(0);i.default.TimeBase=function(t,e){if(!(this instanceof i.default.TimeBase))return new i.default.TimeBase(t,e);if(this._val=t,this._units=e,i.default.isUndef(this._units)&&i.default.isString(this._val)&&parseFloat(this._val)==this._val&&"+"!==this._val.charAt(0))this._val=parseFloat(this._val),this._units=this._defaultUnits;else if(t&&t.constructor===this.constructor)this._val=t._val,this._units=t._units;else if(t instanceof i.default.TimeBase)switch(this._defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break;default:throw new Error("Unrecognized default units "+this._defaultUnits)}},i.default.extend(i.default.TimeBase),i.default.TimeBase.prototype._expressions={n:{regexp:/^(\d+)n(\.?)$/i,method:function(t,e){var n="."===e?1.5:1;return 1===(t=parseInt(t))?this._beatsToUnits(this._getTimeSignature())*n:this._beatsToUnits(4/t)*n}},t:{regexp:/^(\d+)t$/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m$/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._getTimeSignature())}},i:{regexp:/^(\d+)i$/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz$/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/,method:function(t,e,n){var i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i}},s:{regexp:/^(\d+(?:\.\d+)?)s$/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples$/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)$/,method:function(t){return this._expressions[this._defaultUnits].method.call(this,t)}}},i.default.TimeBase.prototype._defaultUnits="s",i.default.TimeBase.prototype._getBpm=function(){return i.default.Transport?i.default.Transport.bpm.value:120},i.default.TimeBase.prototype._getTimeSignature=function(){return i.default.Transport?i.default.Transport.timeSignature:4},i.default.TimeBase.prototype._getPPQ=function(){return i.default.Transport?i.default.Transport.PPQ:192},i.default.TimeBase.prototype._now=function(){return this.now()},i.default.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},i.default.TimeBase.prototype._beatsToUnits=function(t){return 60/this._getBpm()*t},i.default.TimeBase.prototype._secondsToUnits=function(t){return t},i.default.TimeBase.prototype._ticksToUnits=function(t){return t*(this._beatsToUnits(1)/this._getPPQ())},i.default.TimeBase.prototype._noArg=function(){return this._now()},i.default.TimeBase.prototype.valueOf=function(){if(i.default.isUndef(this._val))return this._noArg();if(i.default.isString(this._val)&&i.default.isUndef(this._units)){for(var t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(i.default.isObject(this._val)){var e=0;for(var n in this._val){var r=this._val[n];e+=new this.constructor(n).valueOf()*r}return e}if(i.default.isDefined(this._units)){var o=this._expressions[this._units],a=this._val.toString().trim().match(o.regexp);return a?o.method.apply(this,a.slice(1)):o.method.call(this,parseFloat(this._val))}return this._val},i.default.TimeBase.prototype.toSeconds=function(){return this.valueOf()},i.default.TimeBase.prototype.toFrequency=function(){return 1/this.toSeconds()},i.default.TimeBase.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},i.default.TimeBase.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},i.default.TimeBase.prototype.dispose=function(){this._val=null,this._units=null},e.default=i.default.TimeBase},function(t,e,n){"use strict";n.r(e);var i=n(0);n(62),n(46),i.default.Time=function(t,e){if(!(this instanceof i.default.Time))return new i.default.Time(t,e);i.default.TimeBase.call(this,t,e)},i.default.extend(i.default.Time,i.default.TimeBase),i.default.Time.prototype._expressions=Object.assign({},i.default.TimeBase.prototype._expressions,{quantize:{regexp:/^@(.+)/,method:function(t){if(i.default.Transport){var e=new this.constructor(t);return this._secondsToUnits(i.default.Transport.nextSubdivision(e))}return 0}},now:{regexp:/^\+(.+)/,method:function(t){return this._now()+new this.constructor(t)}}}),i.default.Time.prototype.quantize=function(t,e){e=i.default.defaultArg(e,1);var n=new this.constructor(t),r=this.valueOf();return r+(Math.round(r/n)*n-r)*e},i.default.Time.prototype.toNotation=function(){for(var t=this.toSeconds(),e=["1m"],n=1;n<8;n++){var r=Math.pow(2,n);e.push(r+"n."),e.push(r+"n"),e.push(r+"t")}e.push("0");var o=e[0],a=i.default.Time(e[0]).toSeconds();return e.forEach((function(e){var n=i.default.Time(e).toSeconds();Math.abs(n-t)<Math.abs(a-t)&&(o=e,a=n)})),o},i.default.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;e=parseFloat(e.toFixed(4));var n=Math.floor(e/this._getTimeSignature()),i=e%1*4;return e=Math.floor(e)%this._getTimeSignature(),(i=i.toString()).length>3&&(i=parseFloat(parseFloat(i).toFixed(3))),[n,e,i].join(":")},i.default.Time.prototype.toTicks=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())},i.default.Time.prototype.toSeconds=function(){return this.valueOf()},i.default.Time.prototype.toMidi=function(){return i.default.Frequency.ftom(this.toFrequency())},e.default=i.default.Time},function(t,e,n){"use strict";n.r(e);var i=n(0);n(11),n(6),n(3),n(1),i.default.supported&&(OscillatorNode.prototype.setPeriodicWave||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioContext.prototype.createPeriodicWave||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable)),i.default.OscillatorNode=function(){var t=i.default.defaults(arguments,["frequency","type"],i.default.OscillatorNode);i.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._stopTime=-1,this._gainNode=this.output=new i.default.Gain(0),this._oscillator=this.context.createOscillator(),i.default.connect(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new i.default.Param({param:this._oscillator.frequency,units:i.default.Type.Frequency,value:t.frequency}),this.detune=new i.default.Param({param:this._oscillator.detune,units:i.default.Type.Cents,value:t.detune}),this._gain=1},i.default.extend(i.default.OscillatorNode,i.default.AudioNode),i.default.OscillatorNode.defaults={frequency:440,detune:0,type:"sine",onended:i.default.noOp},Object.defineProperty(i.default.OscillatorNode.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),i.default.OscillatorNode.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?i.default.State.Started:i.default.State.Stopped},i.default.OscillatorNode.prototype.start=function(t){if(this.log("start",t),-1!==this._startTime)throw new Error("cannot call OscillatorNode.start more than once");return this._startTime=this.toSeconds(t),this._startTime=Math.max(this._startTime,this.context.currentTime),this._oscillator.start(this._startTime),this._gainNode.gain.setValueAtTime(1,this._startTime),this},i.default.OscillatorNode.prototype.setPeriodicWave=function(t){return this._oscillator.setPeriodicWave(t),this},i.default.OscillatorNode.prototype.stop=function(t){return this.log("stop",t),this.assert(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop(),this._stopTime=this.toSeconds(t),this._stopTime=Math.max(this._stopTime,this.context.currentTime),this._stopTime>this._startTime?(this._gainNode.gain.setValueAtTime(0,this._stopTime),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(function(){this._oscillator.stop(this.now()),this.onended(),setTimeout(function(){this._oscillator&&(this._oscillator.disconnect(),this._gainNode.disconnect())}.bind(this),100)}.bind(this),this._stopTime-this.context.currentTime)):this._gainNode.gain.cancelScheduledValues(this._startTime),this},i.default.OscillatorNode.prototype.cancelStop=function(){return-1!==this._startTime&&(this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1),this},Object.defineProperty(i.default.OscillatorNode.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t}}),i.default.OscillatorNode.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,this.context.clearTimeout(this._timeout),i.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._oscillator.disconnect(),this._oscillator=null,this._gainNode.dispose(),this._gainNode=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null),this},e.default=i.default.OscillatorNode},function(t,e,n){"use strict";n.r(e);var i=n(0);n(11),n(6),n(57),n(32),i.default.Player=function(t){var e;t instanceof i.default.Buffer&&t.loaded?(t=t.get(),e=i.default.Player.defaults):e=i.default.defaults(arguments,["url","onload"],i.default.Player),i.default.Source.call(this,e),this.autostart=e.autostart,this._buffer=new i.default.Buffer({url:e.url,onload:this._onload.bind(this,e.onload),reverse:e.reverse}),t instanceof AudioBuffer&&this._buffer.set(t),this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this._activeSources=[],this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut},i.default.extend(i.default.Player,i.default.Source),i.default.Player.defaults={onload:i.default.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,reverse:!1,fadeIn:0,fadeOut:0},i.default.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e))},i.default.Player.prototype._onload=function(t){(t=i.default.defaultArg(t,i.default.noOp))(this),this.autostart&&this.start()},i.default.Player.prototype._onSourceEnd=function(t){var e=this._activeSources.indexOf(t);this._activeSources.splice(e,1),0!==this._activeSources.length||this._synced||this._state.setStateAtTime(i.default.State.Stopped,i.default.now())},i.default.Player.prototype._start=function(t,e,n){e=this._loop?i.default.defaultArg(e,this._loopStart):i.default.defaultArg(e,0),e=this.toSeconds(e),this._synced&&(e*=this._playbackRate);var r=i.default.defaultArg(n,Math.max(this._buffer.duration-e,0));r=this.toSeconds(r),r/=this._playbackRate,t=this.toSeconds(t);var o=new i.default.BufferSource({buffer:this._buffer,loop:this._loop,loopStart:this._loopStart,loopEnd:this._loopEnd,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate,fadeIn:this.fadeIn,fadeOut:this.fadeOut}).connect(this.output);return this._loop||this._synced||this._state.setStateAtTime(i.default.State.Stopped,t+r),this._activeSources.push(o),this._loop&&i.default.isUndef(n)?o.start(t,e):o.start(t,e,r-this.toSeconds(this.fadeOut)),this},i.default.Player.prototype._stop=function(t){return t=this.toSeconds(t),this._activeSources.forEach((function(e){e.stop(t)})),this},i.default.Player.prototype.restart=function(t,e,n){return this._stop(t),this._start(t,e,n),this},i.default.Player.prototype.seek=function(t,e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===i.default.State.Started&&(t=this.toSeconds(t),this._stop(e),this._start(e,t)),this},i.default.Player.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(i.default.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=t,this._activeSources.forEach((function(e){e.loopStart=t}))}}),Object.defineProperty(i.default.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=t,this._activeSources.forEach((function(e){e.loopEnd=t}))}}),Object.defineProperty(i.default.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(i.default.Player.prototype,"loop",{get:function(){return this._loop},set:function(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((function(e){e.loop=t})),t)){var e=this._state.getNextState(i.default.State.Stopped,this.now());e&&this._state.cancel(e.time)}}}),Object.defineProperty(i.default.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t;var e=this.now(),n=this._state.getNextState(i.default.State.Stopped,e);n&&this._state.cancel(n.time),this._activeSources.forEach((function(n){n.cancelStop(),n.playbackRate.setValueAtTime(t,e)}))}}),Object.defineProperty(i.default.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}}),Object.defineProperty(i.default.Player.prototype,"loaded",{get:function(){return this._buffer.loaded}}),i.default.Player.prototype.dispose=function(){return this._activeSources.forEach((function(t){t.dispose()})),this._activeSources=null,i.default.Source.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this},e.default=i.default.Player},function(t,e,n){"use strict";n.r(e);var i=n(0);n(31),n(41),n(37),n(2),n(9),n(25),i.default.MonoSynth=function(t){t=i.default.defaultArg(t,i.default.MonoSynth.defaults),i.default.Monophonic.call(this,t),this.oscillator=new i.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new i.default.Filter(t.filter),this.filter.frequency.value=5e3,this.filterEnvelope=new i.default.FrequencyEnvelope(t.filterEnvelope),this.envelope=new i.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},i.default.extend(i.default.MonoSynth,i.default.Monophonic),i.default.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}},i.default.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.envelope.attack+this.envelope.decay),this},i.default.MonoSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},i.default.MonoSynth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},e.default=i.default.MonoSynth},function(t,e,n){"use strict";n.r(e);var i=n(0);n(6),n(17),n(5),n(3),i.default.FatOscillator=function(){var t=i.default.defaults(arguments,["frequency","type","spread"],i.default.FatOscillator);i.default.Source.call(this,t),this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this._oscillators=[],this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,this._readOnly(["frequency","detune"])},i.default.extend(i.default.FatOscillator,i.default.Source),i.default.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth",partials:[],partialCount:0},i.default.FatOscillator.prototype._start=function(t){t=this.toSeconds(t),this._forEach((function(e){e.start(t)}))},i.default.FatOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._forEach((function(e){e.stop(t)}))},i.default.FatOscillator.prototype.restart=function(t){t=this.toSeconds(t),this._forEach((function(e){e.restart(t)}))},i.default.FatOscillator.prototype._forEach=function(t){for(var e=0;e<this._oscillators.length;e++)t.call(this,this._oscillators[e],e)},Object.defineProperty(i.default.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._forEach((function(e){e.type=t}))}}),Object.defineProperty(i.default.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(t){if(this._spread=t,this._oscillators.length>1){var e=-t/2,n=t/(this._oscillators.length-1);this._forEach((function(t,i){t.detune.value=e+n*i}))}}}),Object.defineProperty(i.default.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(t){if(t=Math.max(t,1),this._oscillators.length!==t){this._forEach((function(t){t.dispose()})),this._oscillators=[];for(var e=0;e<t;e++){var n=new i.default.Oscillator;this.type===i.default.Oscillator.Type.Custom?n.partials=this._partials:n.type=this._type,n.partialCount=this._partialCount,n.phase=this._phase+e/t*360,n.volume.value=-6-1.1*t,this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,this.state===i.default.State.Started&&this._forEach((function(t){t.start()}))}}}),Object.defineProperty(i.default.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(t){this._phase=t,this._forEach((function(e){e.phase=t}))}}),Object.defineProperty(i.default.FatOscillator.prototype,"baseType",{get:function(){return this._oscillators[0].baseType},set:function(t){this._forEach((function(e){e.baseType=t})),this._type=this._oscillators[0].type}}),Object.defineProperty(i.default.FatOscillator.prototype,"partials",{get:function(){return this._oscillators[0].partials},set:function(t){this._partials=t,this._type=i.default.Oscillator.Type.Custom,this._forEach((function(e){e.partials=t}))}}),Object.defineProperty(i.default.FatOscillator.prototype,"partialCount",{get:function(){return this._oscillators[0].partialCount},set:function(t){this._partialCount=t,this._forEach((function(e){e.partialCount=t})),this._type=this._oscillators[0].type}}),i.default.FatOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._forEach((function(t){t.dispose()})),this._oscillators=null,this._partials=null,this},e.default=i.default.FatOscillator},function(t,e,n){"use strict";n.r(e);var i=n(0);n(6),n(17),n(5),n(3),n(22),i.default.AMOscillator=function(){var t=i.default.defaults(arguments,["frequency","type","modulationType"],i.default.AMOscillator);i.default.Source.call(this,t),this._carrier=new i.default.Oscillator(t.frequency,t.type),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this.detune.value=t.detune,this._modulator=new i.default.Oscillator(t.frequency,t.modulationType),this._modulationScale=new i.default.AudioToGain,this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this._modulationNode=new i.default.Gain(0),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.connect(this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this.phase=t.phase,this._readOnly(["frequency","detune","harmonicity"])},i.default.extend(i.default.AMOscillator,i.default.Oscillator),i.default.AMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationType:"square",harmonicity:1},i.default.AMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},i.default.AMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},i.default.AMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(i.default.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),i.default.AMOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune","harmonicity"]),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this._modulationScale.dispose(),this._modulationScale=null,this},e.default=i.default.AMOscillator},function(t,e,n){"use strict";n.r(e);var i=n(0);n(6),n(50),n(17),n(5),i.default.PWMOscillator=function(){var t=i.default.defaults(arguments,["frequency","modulationFrequency"],i.default.PWMOscillator);i.default.Source.call(this,t),this._pulse=new i.default.PulseOscillator(t.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new i.default.Oscillator({frequency:t.frequency,detune:t.detune,phase:t.phase}),this._scale=new i.default.Multiply(2),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},i.default.extend(i.default.PWMOscillator,i.default.Source),i.default.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4},i.default.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)},i.default.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)},i.default.PWMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._pulse.restart(t)},Object.defineProperty(i.default.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(i.default.PWMOscillator.prototype,"baseType",{get:function(){return"pwm"}}),Object.defineProperty(i.default.PWMOscillator.prototype,"partials",{get:function(){return[]}}),Object.defineProperty(i.default.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}}),i.default.PWMOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},e.default=i.default.PWMOscillator},function(t,e,n){"use strict";n.r(e);var i=n(0);n(51),n(4),n(16),i.default.Part=function(){var t=i.default.defaults(arguments,["callback","events"],i.default.Part);i.default.Event.call(this,t),this._events=[];for(var e=0;e<t.events.length;e++)Array.isArray(t.events[e])?this.add(t.events[e][0],t.events[e][1]):this.add(t.events[e])},i.default.extend(i.default.Part,i.default.Event),i.default.Part.defaults={callback:i.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1,events:[]},i.default.Part.prototype.start=function(t,e){var n=this.toTicks(t);return this._state.getValueAtTime(n)!==i.default.State.Started&&(e=this._loop?i.default.defaultArg(e,this._loopStart):i.default.defaultArg(e,0),e=this.toTicks(e),this._state.add({state:i.default.State.Started,time:n,offset:e}),this._forEach((function(t){this._startNote(t,n,e)}))),this},i.default.Part.prototype._startNote=function(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(i.default.Ticks(e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(i.default.Ticks(e))):t.startOffset>=n&&t.start(i.default.Ticks(e))},Object.defineProperty(i.default.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach((function(t){t.startOffset+=this._startOffset}))}}),i.default.Part.prototype.stop=function(t){var e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime(i.default.State.Stopped,e),this._forEach((function(e){e.stop(t)})),this},i.default.Part.prototype.at=function(t,e){t=i.default.TransportTime(t);for(var n=i.default.Ticks(1).toSeconds(),r=0;r<this._events.length;r++){var o=this._events[r];if(Math.abs(t.toTicks()-o.startOffset)<n)return i.default.isDefined(e)&&(o.value=e),o}return i.default.isDefined(e)?(this.add(t,e),this._events[this._events.length-1]):null},i.default.Part.prototype.add=function(t,e){var n;return t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),e instanceof i.default.Event?(n=e).callback=this._tick.bind(this):n=new i.default.Event({callback:this._tick.bind(this),value:e}),n.startOffset=t,n.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(n),this._restartEvent(n),this},i.default.Part.prototype._restartEvent=function(t){this._state.forEach(function(e){e.state===i.default.State.Started?this._startNote(t,e.time,e.offset):t.stop(i.default.Ticks(e.time))}.bind(this))},i.default.Part.prototype.remove=function(t,e){t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t);for(var n=this._events.length-1;n>=0;n--){var r=this._events[n];r.startOffset===t&&(i.default.isUndef(e)||i.default.isDefined(e)&&r.value===e)&&(this._events.splice(n,1),r.dispose())}return this},i.default.Part.prototype.removeAll=function(){return this._forEach((function(t){t.dispose()})),this._events=[],this},i.default.Part.prototype.cancel=function(t){return this._forEach((function(e){e.cancel(t)})),this._state.cancel(this.toTicks(t)),this},i.default.Part.prototype._forEach=function(t,e){if(this._events){e=i.default.defaultArg(e,this);for(var n=this._events.length-1;n>=0;n--){var r=this._events[n];r instanceof i.default.Part?r._forEach(t,e):t.call(e,r)}}return this},i.default.Part.prototype._setAll=function(t,e){this._forEach((function(n){n[t]=e}))},i.default.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},i.default.Part.prototype._testLoopBoundries=function(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):t.state===i.default.State.Stopped&&this._restartEvent(t)},Object.defineProperty(i.default.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(i.default.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(i.default.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._forEach((function(e){e._loopStart=this._loopStart,e._loopEnd=this._loopEnd,e.loop=t,this._testLoopBoundries(e)}))}}),Object.defineProperty(i.default.Part.prototype,"loopEnd",{get:function(){return i.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((function(e){e.loopEnd=t,this._testLoopBoundries(e)}))}}),Object.defineProperty(i.default.Part.prototype,"loopStart",{get:function(){return i.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}}),Object.defineProperty(i.default.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(i.default.Part.prototype,"length",{get:function(){return this._events.length}}),i.default.Part.prototype.dispose=function(){return i.default.Event.prototype.dispose.call(this),this.removeAll(),this.callback=null,this._events=null,this},e.default=i.default.Part},function(t,e,n){"use strict";n.r(e);var i=n(0);n(51),i.default.Loop=function(){var t=i.default.defaults(arguments,["callback","interval"],i.default.Loop);i.default.call(this),this._event=new i.default.Event({callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations},i.default.extend(i.default.Loop),i.default.Loop.defaults={interval:"4n",callback:i.default.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1},i.default.Loop.prototype.start=function(t){return this._event.start(t),this},i.default.Loop.prototype.stop=function(t){return this._event.stop(t),this},i.default.Loop.prototype.cancel=function(t){return this._event.cancel(t),this},i.default.Loop.prototype._tick=function(t){this.callback(t)},Object.defineProperty(i.default.Loop.prototype,"state",{get:function(){return this._event.state}}),Object.defineProperty(i.default.Loop.prototype,"progress",{get:function(){return this._event.progress}}),Object.defineProperty(i.default.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(t){this._event.loopEnd=t}}),Object.defineProperty(i.default.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(t){this._event.playbackRate=t}}),Object.defineProperty(i.default.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(t){this._event.humanize=t}}),Object.defineProperty(i.default.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(t){this._event.probability=t}}),Object.defineProperty(i.default.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(t){this._event.mute=t}}),Object.defineProperty(i.default.Loop.prototype,"iterations",{get:function(){return!0===this._event.loop?1/0:this._event.loop},set:function(t){this._event.loop=t===1/0||t}}),i.default.Loop.prototype.dispose=function(){this._event.dispose(),this._event=null,this.callback=null},e.default=i.default.Loop},function(t,e,n){"use strict";n.r(e);var i=n(0);n(15),n(33),i.default.StereoXFeedbackEffect=function(){var t=i.default.defaults(arguments,["feedback"],i.default.FeedbackEffect);i.default.StereoEffect.call(this,t),this.feedback=new i.default.Signal(t.feedback,i.default.Type.NormalRange),this._feedbackLR=new i.default.Gain,this._feedbackRL=new i.default.Gain,this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},i.default.extend(i.default.StereoXFeedbackEffect,i.default.StereoEffect),i.default.StereoXFeedbackEffect.prototype.dispose=function(){return i.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.dispose(),this._feedbackLR=null,this._feedbackRL.dispose(),this._feedbackRL=null,this},e.default=i.default.StereoXFeedbackEffect},function(t,e,n){"use strict";n.r(e);var i=n(0);n(8),n(53),n(52),i.default.MidSideEffect=function(){i.default.Effect.apply(this,arguments),this._midSideSplit=new i.default.MidSideSplit,this._midSideMerge=new i.default.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},i.default.extend(i.default.MidSideEffect,i.default.Effect),i.default.MidSideEffect.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},e.default=i.default.MidSideEffect},function(t,e,n){"use strict";n.r(e);var i=n(0);n(11),n(8),i.default.Convolver=function(){var t=i.default.defaults(arguments,["url","onload"],i.default.Convolver);i.default.Effect.call(this,t),this._convolver=this.context.createConvolver(),this._buffer=new i.default.Buffer(t.url,function(e){this.buffer=e.get(),t.onload()}.bind(this)),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.connectEffect(this._convolver)},i.default.extend(i.default.Convolver,i.default.Effect),i.default.Convolver.defaults={onload:i.default.noOp,normalize:!0},Object.defineProperty(i.default.Convolver.prototype,"buffer",{get:function(){return this._buffer.length?this._buffer:null},set:function(t){this._buffer.set(t),this._convolver.buffer&&(this.effectSend.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.connectEffect(this._convolver)),this._convolver.buffer=this._buffer.get()}}),Object.defineProperty(i.default.Convolver.prototype,"normalize",{get:function(){return this._convolver.normalize},set:function(t){this._convolver.normalize=t}}),i.default.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t,e&&e()}.bind(this))},i.default.Convolver.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this._convolver.disconnect(),this._convolver=null,this},e.default=i.default.Convolver},function(t,e,n){"use strict";n.r(e);var i=n(0);n(7),n(5),n(13),i.default.Modulo=function(t){i.default.SignalBase.call(this),this.createInsOuts(1,0),this._shaper=new i.default.WaveShaper(Math.pow(2,16)),this._multiply=new i.default.Multiply,this._subtract=this.output=new i.default.Subtract,this._modSignal=new i.default.Signal(t),i.default.connect(this.input,this._shaper),i.default.connect(this.input,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(t)},i.default.extend(i.default.Modulo,i.default.SignalBase),i.default.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap((function(e){return Math.floor((e+1e-4)/t)}))},Object.defineProperty(i.default.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),i.default.Modulo.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},e.default=i.default.Modulo},function(t,e,n){"use strict";n.r(e);var i=n(0);n(20),n(92),i.default.OfflineContext=function(t,e,n){var r=new OfflineAudioContext(t,e*n,n);i.default.Context.call(this,{context:r,clockSource:"offline",lookAhead:0,updateInterval:128/n}),this._duration=e,this._currentTime=0},i.default.extend(i.default.OfflineContext,i.default.Context),i.default.OfflineContext.prototype.now=function(){return this._currentTime},i.default.OfflineContext.prototype.resume=function(){return Promise.resolve()},i.default.OfflineContext.prototype.render=function(){for(;this._duration-this._currentTime>=0;)this.emit("tick"),this._currentTime+=.005;return this._context.startRendering()},i.default.OfflineContext.prototype.close=function(){return this._context=null,Promise.resolve()},e.default=i.default.OfflineContext},function(t,e,n){"use strict";n.r(e);var i=n(0);n(16),n(11),n(76),n(40),i.default.Offline=function(t,e){var n=i.default.context.sampleRate,r=i.default.context,o=new i.default.OfflineContext(2,e,n);i.default.context=o;var a=t(i.default.Transport),s=null;return s=a&&i.default.isFunction(a.then)?a.then((function(){return o.render()})):o.render(),i.default.context=r,s.then((function(t){return new i.default.Buffer(t)}))},e.default=i.default.Offline},function(t,e,n){"use strict";n.r(e);var i=n(0);n(11),i.default.Buffers=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var n=i.default.defaults(e,["onload","baseUrl"],i.default.Buffers);for(var r in i.default.call(this),this._buffers={},this.baseUrl=n.baseUrl,this._loadingCount=0,t)this._loadingCount++,this.add(r,t[r],this._bufferLoaded.bind(this,n.onload))},i.default.extend(i.default.Buffers),i.default.Buffers.defaults={onload:i.default.noOp,baseUrl:""},i.default.Buffers.prototype.has=function(t){return this._buffers.hasOwnProperty(t)},i.default.Buffers.prototype.get=function(t){if(this.has(t))return this._buffers[t];throw new Error("Tone.Buffers: no buffer named "+t)},i.default.Buffers.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(i.default.Buffers.prototype,"loaded",{get:function(){var t=!0;for(var e in this._buffers){var n=this.get(e);t=t&&n.loaded}return t}}),i.default.Buffers.prototype.add=function(t,e,n){return n=i.default.defaultArg(n,i.default.noOp),e instanceof i.default.Buffer?(this._buffers[t]=e,n(this)):e instanceof AudioBuffer?(this._buffers[t]=new i.default.Buffer(e),n(this)):i.default.isString(e)&&(this._buffers[t]=new i.default.Buffer(this.baseUrl+e,n)),this},i.default.Buffers.prototype.dispose=function(){for(var t in i.default.prototype.dispose.call(this),this._buffers)this._buffers[t].dispose();return this._buffers=null,this},e.default=i.default.Buffers},function(t,e,n){"use strict";n.r(e);var i=n(0);i.default.CtrlPattern=function(){var t=i.default.defaults(arguments,["values","type"],i.default.CtrlPattern);i.default.call(this),this.values=t.values,this.index=0,this._type=null,this._shuffled=null,this._direction=null,this.type=t.type},i.default.extend(i.default.CtrlPattern),i.default.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"},i.default.CtrlPattern.defaults={type:i.default.CtrlPattern.Type.Up,values:[]},Object.defineProperty(i.default.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var t=this.values[this.index];return this.type===i.default.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),t=this.values[this._shuffled[this.index]]),t}}}),Object.defineProperty(i.default.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._shuffled=null,this._type===i.default.CtrlPattern.Type.Up||this._type===i.default.CtrlPattern.Type.UpDown||this._type===i.default.CtrlPattern.Type.RandomOnce||this._type===i.default.CtrlPattern.Type.AlternateUp?this.index=0:this._type!==i.default.CtrlPattern.Type.Down&&this._type!==i.default.CtrlPattern.Type.DownUp&&this._type!==i.default.CtrlPattern.Type.AlternateDown||(this.index=this.values.length-1),this._type===i.default.CtrlPattern.Type.UpDown||this._type===i.default.CtrlPattern.Type.AlternateUp?this._direction=i.default.CtrlPattern.Type.Up:this._type!==i.default.CtrlPattern.Type.DownUp&&this._type!==i.default.CtrlPattern.Type.AlternateDown||(this._direction=i.default.CtrlPattern.Type.Down),this._type===i.default.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===i.default.CtrlPattern.Type.Random&&(this.index=Math.floor(Math.random()*this.values.length))}}),i.default.CtrlPattern.prototype.next=function(){var t=this.type;return t===i.default.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):t===i.default.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):t===i.default.CtrlPattern.Type.UpDown||t===i.default.CtrlPattern.Type.DownUp?(this._direction===i.default.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=i.default.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=i.default.CtrlPattern.Type.Down)):t===i.default.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):t===i.default.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):t===i.default.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):t===i.default.CtrlPattern.Type.AlternateUp?(this._direction===i.default.CtrlPattern.Type.Up?(this.index+=2,this._direction=i.default.CtrlPattern.Type.Down):(this.index-=1,this._direction=i.default.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=i.default.CtrlPattern.Type.Up)):t===i.default.CtrlPattern.Type.AlternateDown&&(this._direction===i.default.CtrlPattern.Type.Up?(this.index+=1,this._direction=i.default.CtrlPattern.Type.Down):(this.index-=2,this._direction=i.default.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=i.default.CtrlPattern.Type.Down)),this.value},i.default.CtrlPattern.prototype._shuffleValues=function(){var t=[];this._shuffled=[];for(var e=0;e<this.values.length;e++)t[e]=e;for(;t.length>0;){var n=t.splice(Math.floor(t.length*Math.random()),1);this._shuffled.push(n[0])}},i.default.CtrlPattern.prototype.dispose=function(){this._shuffled=null,this.values=null},e.default=i.default.CtrlPattern},function(t,e,n){"use strict";n.r(e);var i=n(0);n(56),n(55),i.default.TransportRepeatEvent=function(t,e){i.default.TransportEvent.call(this,t,e),e=i.default.defaultArg(e,i.default.TransportRepeatEvent.defaults),this.duration=i.default.Ticks(e.duration),this._interval=i.default.Ticks(e.interval),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this),this.Transport.on("start loopStart",this._boundRestart),this._restart()},i.default.extend(i.default.TransportRepeatEvent,i.default.TransportEvent),i.default.TransportRepeatEvent.defaults={duration:1/0,interval:1},i.default.TransportRepeatEvent.prototype.invoke=function(t){this._createEvents(t),i.default.TransportEvent.prototype.invoke.call(this,t)},i.default.TransportRepeatEvent.prototype._createEvents=function(t){var e=this.Transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),i.default.Ticks(this._nextTick)))},i.default.TransportRepeatEvent.prototype._restart=function(t){this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this._nextTick=this.time;var e=this.Transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.Transport.scheduleOnce(this.invoke.bind(this),i.default.Ticks(this._nextTick)),this._nextTick+=this._interval,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),i.default.Ticks(this._nextTick))},i.default.TransportRepeatEvent.prototype.dispose=function(){return this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this.Transport.off("start loopStart",this._boundRestart),this._boundCreateEvents=null,i.default.TransportEvent.prototype.dispose.call(this),this.duration=null,this._interval=null,this},e.default=i.default.TransportRepeatEvent},function(t,e,n){"use strict";n.r(e);var i=n(0);n(4),i.default.IntervalTimeline=function(){i.default.call(this),this._root=null,this._length=0},i.default.extend(i.default.IntervalTimeline),i.default.IntervalTimeline.prototype.add=function(t){if(i.default.isUndef(t.time)||i.default.isUndef(t.duration))throw new Error("Tone.IntervalTimeline: events must have time and duration parameters");t.time=t.time.valueOf();var e=new r(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this},i.default.IntervalTimeline.prototype.remove=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var n=0;n<e.length;n++){var i=e[n];if(i.event===t){this._removeNode(i),this._length--;break}}}return this},Object.defineProperty(i.default.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),i.default.IntervalTimeline.prototype.cancel=function(t){return this.forEachFrom(t,function(t){this.remove(t)}.bind(this)),this},i.default.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},i.default.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},i.default.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,n;if(t.getBalance()>0)if(null===t.left.right)(e=t.left).right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)(e=t.right).left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(n)}t.dispose()},i.default.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,n=t.isLeftChild(),i=t.right;t.right=i.left,i.left=t,null!==e?n?e.left=i:e.right=i:this._setRoot(i)},i.default.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,n=t.isLeftChild(),i=t.left;t.left=i.right,i.right=t,null!==e?n?e.left=i:e.right=i:this._setRoot(i)},i.default.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();e>1?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))},i.default.IntervalTimeline.prototype.get=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),e.length>0){for(var n=e[0],i=1;i<e.length;i++)e[i].low>n.low&&(n=e[i]);return n.event}}return null},i.default.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];this._root.traverse((function(t){e.push(t)}));for(var n=0;n<e.length;n++){var i=e[n].event;i&&t(i)}}return this},i.default.IntervalTimeline.prototype.forEachAtTime=function(t,e){if(null!==this._root){var n=[];this._root.search(t,n);for(var i=n.length-1;i>=0;i--){var r=n[i].event;r&&e(r)}}return this},i.default.IntervalTimeline.prototype.forEachFrom=function(t,e){if(null!==this._root){var n=[];this._root.searchAfter(t,n);for(var i=n.length-1;i>=0;i--)e(n[i].event)}return this},i.default.IntervalTimeline.prototype.dispose=function(){var t=[];null!==this._root&&this._root.traverse((function(e){t.push(e)}));for(var e=0;e<t.length;e++)t[e].dispose();return t=null,this._root=null,this};var r=function(t,e,n){this.event=n,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};r.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},r.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},r.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},r.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},r.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},r.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},r.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},r.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(r.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(r.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),r.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},e.default=i.default.IntervalTimeline},function(t,e,n){"use strict";n.r(e);var i=n(0);function r(t){return function(e,n){n=this.toSeconds(n),t.apply(this,arguments);var i=this._events.get(n),r=this._events.previousEvent(i),o=this._getTicksUntilEvent(r,n);return i.ticks=Math.max(o,0),this}}n(2),i.default.TickSignal=function(t){t=i.default.defaultArg(t,1),i.default.Signal.call(this,{units:i.default.Type.Ticks,value:t}),this._events.memory=1/0,this.cancelScheduledValues(0),this._events.add({type:i.default.Param.AutomationType.SetValue,time:0,value:t})},i.default.extend(i.default.TickSignal,i.default.Signal),i.default.TickSignal.prototype.setValueAtTime=r(i.default.Signal.prototype.setValueAtTime),i.default.TickSignal.prototype.linearRampToValueAtTime=r(i.default.Signal.prototype.linearRampToValueAtTime),i.default.TickSignal.prototype.setTargetAtTime=function(t,e,n){e=this.toSeconds(e),this.setRampPoint(e),t=this._fromUnits(t);for(var i=this._events.get(e),r=Math.round(Math.max(1/n,1)),o=0;o<=r;o++){var a=n*o+e,s=this._exponentialApproach(i.time,i.value,t,n,a);this.linearRampToValueAtTime(this._toUnits(s),a)}return this},i.default.TickSignal.prototype.exponentialRampToValueAtTime=function(t,e){e=this.toSeconds(e),t=this._fromUnits(t);for(var n=this._events.get(e),i=Math.round(Math.max(10*(e-n.time),1)),r=(e-n.time)/i,o=0;o<=i;o++){var a=r*o+n.time,s=this._exponentialInterpolate(n.time,n.value,e,t,a);this.linearRampToValueAtTime(this._toUnits(s),a)}return this},i.default.TickSignal.prototype._getTicksUntilEvent=function(t,e){if(null===t)t={ticks:0,time:0};else if(i.default.isUndef(t.ticks)){var n=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(n,t.time)}var r=this.getValueAtTime(t.time),o=this.getValueAtTime(e);return this._events.get(e).time===e&&this._events.get(e).type===i.default.Param.AutomationType.SetValue&&(o=this.getValueAtTime(e-this.sampleTime)),.5*(e-t.time)*(r+o)+t.ticks},i.default.TickSignal.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._events.get(t);return Math.max(this._getTicksUntilEvent(e,t),0)},i.default.TickSignal.prototype.getDurationOfTicks=function(t,e){e=this.toSeconds(e);var n=this.getTicksAtTime(e);return this.getTimeOfTick(n+t)-e},i.default.TickSignal.prototype.getTimeOfTick=function(t){var e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&n.type===i.default.Param.AutomationType.Linear&&e.value!==n.value){var r=this.getValueAtTime(e.time),o=(this.getValueAtTime(n.time)-r)/(n.time-e.time),a=Math.sqrt(Math.pow(r,2)-2*o*(e.ticks-t)),s=(-r+a)/o;return(s>0?s:(-r-a)/o)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue},i.default.TickSignal.prototype.ticksToTime=function(t,e){return e=this.toSeconds(e),new i.default.Time(this.getDurationOfTicks(t,e))},i.default.TickSignal.prototype.timeToTicks=function(t,e){e=this.toSeconds(e),t=this.toSeconds(t);var n=this.getTicksAtTime(e),r=this.getTicksAtTime(e+t);return new i.default.Ticks(r-n)},e.default=i.default.TickSignal},function(t,e,n){"use strict";n.r(e);var i=n(0);n(57),n(34),n(35),n(20),i.default.Clock=function(){var t=i.default.defaults(arguments,["callback","frequency"],i.default.Clock);i.default.Emitter.call(this),this.callback=t.callback,this._nextTick=0,this._tickSource=new i.default.TickSource(t.frequency),this._lastUpdate=0,this.frequency=this._tickSource.frequency,this._readOnly("frequency"),this._state=new i.default.TimelineState(i.default.State.Stopped),this._state.setStateAtTime(i.default.State.Stopped,0),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},i.default.extend(i.default.Clock,i.default.Emitter),i.default.Clock.defaults={callback:i.default.noOp,frequency:1},Object.defineProperty(i.default.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),i.default.Clock.prototype.start=function(t,e){return this.context.resume(),t=this.toSeconds(t),this._state.getValueAtTime(t)!==i.default.State.Started&&(this._state.setStateAtTime(i.default.State.Started,t),this._tickSource.start(t,e),t<this._lastUpdate&&this.emit("start",t,e)),this},i.default.Clock.prototype.stop=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._state.setStateAtTime(i.default.State.Stopped,t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this},i.default.Clock.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===i.default.State.Started&&(this._state.setStateAtTime(i.default.State.Paused,t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this},Object.defineProperty(i.default.Clock.prototype,"ticks",{get:function(){return Math.ceil(this.getTicksAtTime(this.now()))},set:function(t){this._tickSource.ticks=t}}),Object.defineProperty(i.default.Clock.prototype,"seconds",{get:function(){return this._tickSource.seconds},set:function(t){this._tickSource.seconds=t}}),i.default.Clock.prototype.getSecondsAtTime=function(t){return this._tickSource.getSecondsAtTime(t)},i.default.Clock.prototype.setTicksAtTime=function(t,e){return this._tickSource.setTicksAtTime(t,e),this},i.default.Clock.prototype.getTicksAtTime=function(t){return this._tickSource.getTicksAtTime(t)},i.default.Clock.prototype.nextTickTime=function(t,e){e=this.toSeconds(e);var n=this.getTicksAtTime(e);return this._tickSource.getTimeOfTick(n+t,e)},i.default.Clock.prototype._loop=function(){var t=this._lastUpdate,e=this.now();this._lastUpdate=e,t!==e&&(this._state.forEachBetween(t,e,function(t){switch(t.state){case i.default.State.Started:var e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case i.default.State.Stopped:0!==t.time&&this.emit("stop",t.time);break;case i.default.State.Paused:this.emit("pause",t.time)}}.bind(this)),this._tickSource.forEachTickBetween(t,e,function(t,e){this.callback(t,e)}.bind(this)))},i.default.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},i.default.Clock.prototype.dispose=function(){i.default.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this._tickSource.dispose(),this._tickSource=null,this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},e.default=i.default.Clock},function(t,e,n){"use strict";n.r(e);var i=n(0);n(2),n(5),n(7),i.default.GreaterThanZero=function(){i.default.SignalBase.call(this),this._thresh=this.output=new i.default.WaveShaper((function(t){return t<=0?0:1}),127),this._scale=this.input=new i.default.Multiply(1e4),this._scale.connect(this._thresh)},i.default.extend(i.default.GreaterThanZero,i.default.SignalBase),i.default.GreaterThanZero.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},e.default=i.default.GreaterThanZero},function(t,e,n){"use strict";n.r(e);var i=n(0);n(84),n(13),n(2),i.default.GreaterThan=function(t){i.default.Signal.call(this),this.createInsOuts(2,0),this._param=this.input[0]=new i.default.Subtract(t),this.input[1]=this._param.input[1],this._gtz=this.output=new i.default.GreaterThanZero,this._param.connect(this._gtz)},i.default.extend(i.default.GreaterThan,i.default.Signal),i.default.GreaterThan.prototype.dispose=function(){return i.default.Signal.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this},e.default=i.default.GreaterThan},function(t,e,n){"use strict";n.r(e);var i=n(0);n(47),n(26),i.default.ScaledEnvelope=function(){var t=i.default.defaults(arguments,["attack","decay","sustain","release"],i.default.Envelope);i.default.Envelope.call(this,t),t=i.default.defaultArg(t,i.default.ScaledEnvelope.defaults),this._exp=this.output=new i.default.Pow(t.exponent),this._scale=this.output=new i.default.Scale(t.min,t.max),this._sig.chain(this._exp,this._scale)},i.default.extend(i.default.ScaledEnvelope,i.default.Envelope),i.default.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(i.default.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(i.default.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),Object.defineProperty(i.default.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),i.default.ScaledEnvelope.prototype.dispose=function(){return i.default.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=i.default.ScaledEnvelope},function(t,e,n){"use strict";n.r(e);var i=n(0);n(7),n(30),i.default.Abs=function(){i.default.SignalBase.call(this),this._abs=this.input=this.output=new i.default.WaveShaper((function(t){return Math.abs(t)<.001?0:Math.abs(t)}),1024)},i.default.extend(i.default.Abs,i.default.SignalBase),i.default.Abs.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},e.default=i.default.Abs},function(t,e,n){"use strict";n.r(e);var i=n(0);n(3),n(1),i.default.Solo=function(){var t=i.default.defaults(arguments,["solo"],i.default.Solo);i.default.AudioNode.call(this),this.input=this.output=new i.default.Gain,this._soloBind=this._soloed.bind(this),this.context.on("solo",this._soloBind),this.solo=t.solo},i.default.extend(i.default.Solo,i.default.AudioNode),i.default.Solo.defaults={solo:!1},Object.defineProperty(i.default.Solo.prototype,"solo",{get:function(){return this._isSoloed()},set:function(t){t?this._addSolo():this._removeSolo(),this.context.emit("solo",this)}}),Object.defineProperty(i.default.Solo.prototype,"muted",{get:function(){return 0===this.input.gain.value}}),i.default.Solo.prototype._addSolo=function(){i.default.isArray(this.context._currentSolo)||(this.context._currentSolo=[]),this._isSoloed()||this.context._currentSolo.push(this)},i.default.Solo.prototype._removeSolo=function(){if(this._isSoloed()){var t=this.context._currentSolo.indexOf(this);this.context._currentSolo.splice(t,1)}},i.default.Solo.prototype._isSoloed=function(){return!!i.default.isArray(this.context._currentSolo)&&0!==this.context._currentSolo.length&&-1!==this.context._currentSolo.indexOf(this)},i.default.Solo.prototype._noSolos=function(){return!i.default.isArray(this.context._currentSolo)||0===this.context._currentSolo.length},i.default.Solo.prototype._soloed=function(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0},i.default.Solo.prototype.dispose=function(){return this.context.off("solo",this._soloBind),this._removeSolo(),this._soloBind=null,i.default.AudioNode.prototype.dispose.call(this),this},e.default=i.default.Solo},function(t,e,n){"use strict";n.r(e);var i=n(0);n(7),i.default.EqualPowerGain=function(){i.default.SignalBase.call(this),this._eqPower=this.input=this.output=new i.default.WaveShaper(function(t){return Math.abs(t)<.001?0:i.default.equalPowerScale(t)}.bind(this),4096)},i.default.extend(i.default.EqualPowerGain,i.default.SignalBase),i.default.EqualPowerGain.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},e.default=i.default.EqualPowerGain},function(t,e,n){"use strict";n.r(e);var i=n(0);n(5),n(2),i.default.Negate=function(){i.default.SignalBase.call(this),this._multiply=this.input=this.output=new i.default.Multiply(-1)},i.default.extend(i.default.Negate,i.default.SignalBase),i.default.Negate.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},e.default=i.default.Negate},function(t,e,n){"use strict";n.r(e);var i=n(0);n(48),n(27),n(1),i.default.PanVol=function(){var t=i.default.defaults(arguments,["pan","volume"],i.default.PanVol);i.default.AudioNode.call(this),this._panner=this.input=new i.default.Panner(t.pan),this.pan=this._panner.pan,this._volume=this.output=new i.default.Volume(t.volume),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,this._readOnly(["pan","volume"])},i.default.extend(i.default.PanVol,i.default.AudioNode),i.default.PanVol.defaults={pan:0,volume:0,mute:!1},Object.defineProperty(i.default.PanVol.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),i.default.PanVol.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this},e.default=i.default.PanVol},function(t,e,n){"use strict";var i=n(0);if(i.default.supported){!i.default.global.hasOwnProperty("OfflineAudioContext")&&i.default.global.hasOwnProperty("webkitOfflineAudioContext")&&(i.default.global.OfflineAudioContext=i.default.global.webkitOfflineAudioContext);var r=new OfflineAudioContext(1,1,44100).startRendering();r&&i.default.isFunction(r.then)||(OfflineAudioContext.prototype._native_startRendering=OfflineAudioContext.prototype.startRendering,OfflineAudioContext.prototype.startRendering=function(){return new Promise(function(t){this.oncomplete=function(e){t(e.renderedBuffer)},this._native_startRendering()}.bind(this))})}},function(t,e,n){"use strict";e.a="13.8.25"},function(t,e,n){"use strict";n.r(e);var i=n(0);n(46),i.default.Midi=function(t,e){if(!(this instanceof i.default.Midi))return new i.default.Midi(t,e);i.default.Frequency.call(this,t,e)},i.default.extend(i.default.Midi,i.default.Frequency),i.default.Midi.prototype._defaultUnits="midi",i.default.Midi.prototype._frequencyToUnits=function(t){return i.default.Frequency.ftom(i.default.Frequency.prototype._frequencyToUnits.call(this,t))},i.default.Midi.prototype._ticksToUnits=function(t){return i.default.Frequency.ftom(i.default.Frequency.prototype._ticksToUnits.call(this,t))},i.default.Midi.prototype._beatsToUnits=function(t){return i.default.Frequency.ftom(i.default.Frequency.prototype._beatsToUnits.call(this,t))},i.default.Midi.prototype._secondsToUnits=function(t){return i.default.Frequency.ftom(i.default.Frequency.prototype._secondsToUnits.call(this,t))},i.default.Midi.prototype.toMidi=function(){return this.valueOf()},i.default.Midi.prototype.toFrequency=function(){return i.default.Frequency.mtof(this.toMidi())},i.default.Midi.prototype.transpose=function(t){return new this.constructor(this.toMidi()+t)},e.default=i.default.Midi},function(t,e,n){"use strict";n.r(e);var i=n(0);n(27),n(1),i.default.UserMedia=function(){var t=i.default.defaults(arguments,["volume"],i.default.UserMedia);i.default.AudioNode.call(this),this._mediaStream=null,this._stream=null,this._device=null,this._volume=this.output=new i.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this.mute=t.mute},i.default.extend(i.default.UserMedia,i.default.AudioNode),i.default.UserMedia.defaults={volume:0,mute:!1},i.default.UserMedia.prototype.open=function(t){return this.state===i.default.State.Started&&this.close(),i.default.UserMedia.enumerateDevices().then(function(e){var n;if(i.default.isNumber(t))n=e[t];else if(!(n=e.find((function(e){return e.label===t||e.deviceId===t})))&&e.length>0)n=e[0];else if(!n&&i.default.isDefined(t))throw new Error("Tone.UserMedia: no matching device: "+t);this._device=n;var r={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};return n&&(r.audio.deviceId=n.deviceId),navigator.mediaDevices.getUserMedia(r).then(function(t){return this._stream||(this._stream=t,this._mediaStream=this.context.createMediaStreamSource(t),i.default.connect(this._mediaStream,this.output)),this}.bind(this))}.bind(this))},i.default.UserMedia.prototype.close=function(){return this._stream&&(this._stream.getAudioTracks().forEach((function(t){t.stop()})),this._stream=null,this._mediaStream.disconnect(),this._mediaStream=null),this._device=null,this},i.default.UserMedia.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then((function(t){return t.filter((function(t){return"audioinput"===t.kind}))}))},Object.defineProperty(i.default.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?i.default.State.Started:i.default.State.Stopped}}),Object.defineProperty(i.default.UserMedia.prototype,"deviceId",{get:function(){return this._device?this._device.deviceId:null}}),Object.defineProperty(i.default.UserMedia.prototype,"groupId",{get:function(){return this._device?this._device.groupId:null}}),Object.defineProperty(i.default.UserMedia.prototype,"label",{get:function(){return this._device?this._device.label:null}}),Object.defineProperty(i.default.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),i.default.UserMedia.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this.close(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this},Object.defineProperty(i.default.UserMedia,"supported",{get:function(){return i.default.isDefined(navigator.mediaDevices)&&i.default.isFunction(navigator.mediaDevices.getUserMedia)}}),e.default=i.default.UserMedia},function(t,e,n){"use strict";n.r(e);var i=n(0);n(65),n(27),n(1),i.default.Players=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var n=i.default.defaults(e,["onload"],i.default.Players);for(var r in i.default.AudioNode.call(this,n),this._volume=this.output=new i.default.Volume(n.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=n.mute,this._players={},this._loadingCount=0,this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,t)this._loadingCount++,this.add(r,t[r],this._bufferLoaded.bind(this,n.onload))},i.default.extend(i.default.Players,i.default.AudioNode),i.default.Players.defaults={volume:0,mute:!1,onload:i.default.noOp,fadeIn:0,fadeOut:0},i.default.Players.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(i.default.Players.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),Object.defineProperty(i.default.Players.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=t,this._forEach((function(e){e.fadeIn=t}))}}),Object.defineProperty(i.default.Players.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=t,this._forEach((function(e){e.fadeOut=t}))}}),Object.defineProperty(i.default.Players.prototype,"state",{get:function(){var t=!1;return this._forEach((function(e){t=t||e.state===i.default.State.Started})),t?i.default.State.Started:i.default.State.Stopped}}),i.default.Players.prototype.has=function(t){return this._players.hasOwnProperty(t)},i.default.Players.prototype.get=function(t){if(this.has(t))return this._players[t];throw new Error("Tone.Players: no player named "+t)},i.default.Players.prototype._forEach=function(t){for(var e in this._players)t(this._players[e],e);return this},Object.defineProperty(i.default.Players.prototype,"loaded",{get:function(){var t=!0;return this._forEach((function(e){t=t&&e.loaded})),t}}),i.default.Players.prototype.add=function(t,e,n){return this._players[t]=new i.default.Player(e,n).connect(this.output),this._players[t].fadeIn=this._fadeIn,this._players[t].fadeOut=this._fadeOut,this},i.default.Players.prototype.stopAll=function(t){this._forEach((function(e){e.stop(t)}))},i.default.Players.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable("volume"),this.volume=null,this.output=null,this._forEach((function(t){t.dispose()})),this._players=null,this},e.default=i.default.Players},function(t,e,n){"use strict";n.r(e);var i=n(0);n(6),n(11),n(32),i.default.GrainPlayer=function(){var t=i.default.defaults(arguments,["url","onload"],i.default.GrainPlayer);i.default.Source.call(this,t),this.buffer=new i.default.Buffer(t.url,t.onload.bind(void 0,this)),this._clock=new i.default.Clock(this._tick.bind(this),t.grainSize),this._loopStart=0,this._loopEnd=0,this._activeSources=[],this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))},i.default.extend(i.default.GrainPlayer,i.default.Source),i.default.GrainPlayer.defaults={onload:i.default.noOp,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1},i.default.GrainPlayer.prototype._start=function(t,e,n){e=i.default.defaultArg(e,0),e=this.toSeconds(e),t=this.toSeconds(t),this._offset=e,this._clock.start(t),n&&this.stop(t+this.toSeconds(n))},i.default.GrainPlayer.prototype._stop=function(t){this._clock.stop(t)},i.default.GrainPlayer.prototype._onstop=function(t){this._activeSources.forEach((function(e){e.fadeOut=0,e.stop(t)}))},i.default.GrainPlayer.prototype._tick=function(t){if(!this.loop&&this._offset>this.buffer.duration)this.stop(t);else{var e=this._offset<this._overlap?0:this._overlap,n=new i.default.BufferSource({buffer:this.buffer,fadeIn:e,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:i.default.intervalToFrequencyRatio(this.detune/100)}).connect(this.output);n.start(t,this._offset),this._offset+=this.grainSize,n.stop(t+this.grainSize/this.playbackRate),this._activeSources.push(n),n.onended=function(){var t=this._activeSources.indexOf(n);-1!==t&&this._activeSources.splice(t,1)}.bind(this)}},Object.defineProperty(i.default.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this.grainSize=this._grainSize}}),Object.defineProperty(i.default.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=this.toSeconds(t)}}),Object.defineProperty(i.default.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=this.toSeconds(t)}}),Object.defineProperty(i.default.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(t){this.buffer.reverse=t}}),Object.defineProperty(i.default.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(t){this._grainSize=this.toSeconds(t),this._clock.frequency.value=this._playbackRate/this._grainSize}}),Object.defineProperty(i.default.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(t){this._overlap=this.toSeconds(t)}}),Object.defineProperty(i.default.GrainPlayer.prototype,"loaded",{get:function(){return this.buffer.loaded}}),i.default.GrainPlayer.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this.buffer.dispose(),this.buffer=null,this._clock.dispose(),this._clock=null,this._activeSources.forEach((function(t){t.dispose()})),this._activeSources=null,this},e.default=i.default.GrainPlayer},function(t,e,n){"use strict";n.r(e);var i=n(0);n(16),n(2),n(45),i.default.TransportTimelineSignal=function(){i.default.Signal.apply(this,arguments),this.output=this._outputSig=new i.default.Signal(this._initialValue),this._lastVal=this.value,this._synced=i.default.Transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._bindAnchorValue=this._anchorValue.bind(this),i.default.Transport.on("start stop pause",this._bindAnchorValue),this._events.memory=1/0},i.default.extend(i.default.TransportTimelineSignal,i.default.Signal),i.default.TransportTimelineSignal.prototype._onTick=function(t){var e=this.getValueAtTime(i.default.Transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._outputSig.linearRampToValueAtTime(e,t))},i.default.TransportTimelineSignal.prototype._anchorValue=function(t){var e=this.getValueAtTime(i.default.Transport.seconds);return this._lastVal=e,this._outputSig.cancelScheduledValues(t),this._outputSig.setValueAtTime(e,t),this},i.default.TransportTimelineSignal.prototype.getValueAtTime=function(t){return t=i.default.TransportTime(t),i.default.Signal.prototype.getValueAtTime.call(this,t)},i.default.TransportTimelineSignal.prototype.setValueAtTime=function(t,e){return e=i.default.TransportTime(e),i.default.Signal.prototype.setValueAtTime.call(this,t,e),this},i.default.TransportTimelineSignal.prototype.linearRampToValueAtTime=function(t,e){return e=i.default.TransportTime(e),i.default.Signal.prototype.linearRampToValueAtTime.call(this,t,e),this},i.default.TransportTimelineSignal.prototype.exponentialRampToValueAtTime=function(t,e){return e=i.default.TransportTime(e),i.default.Signal.prototype.exponentialRampToValueAtTime.call(this,t,e),this},i.default.TransportTimelineSignal.prototype.setTargetAtTime=function(t,e,n){return e=i.default.TransportTime(e),i.default.Signal.prototype.setTargetAtTime.call(this,t,e,n),this},i.default.TransportTimelineSignal.prototype.cancelScheduledValues=function(t){return t=i.default.TransportTime(t),i.default.Signal.prototype.cancelScheduledValues.call(this,t),this},i.default.TransportTimelineSignal.prototype.setValueCurveAtTime=function(t,e,n,r){return e=i.default.TransportTime(e),n=i.default.TransportTime(n),i.default.Signal.prototype.setValueCurveAtTime.call(this,t,e,n,r),this},i.default.TransportTimelineSignal.prototype.cancelAndHoldAtTime=function(t){return i.default.Signal.prototype.cancelAndHoldAtTime.call(this,i.default.TransportTime(t))},i.default.TransportTimelineSignal.prototype.dispose=function(){i.default.Transport.clear(this._synced),i.default.Transport.off("start stop pause",this._syncedCallback),this._events.cancel(0),i.default.Signal.prototype.dispose.call(this),this._outputSig.dispose(),this._outputSig=null},e.default=i.default.TransportTimelineSignal},function(t,e,n){"use strict";n.r(e);var i=n(0);n(29),n(5),i.default.Normalize=function(t,e){i.default.SignalBase.call(this),this._inputMin=i.default.defaultArg(t,0),this._inputMax=i.default.defaultArg(e,1),this._sub=this.input=new i.default.Add(0),this._div=this.output=new i.default.Multiply(1),this._sub.connect(this._div),this._setRange()},i.default.extend(i.default.Normalize,i.default.SignalBase),Object.defineProperty(i.default.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t,this._setRange()}}),Object.defineProperty(i.default.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t,this._setRange()}}),i.default.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},i.default.Normalize.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},e.default=i.default.Normalize},function(t,e,n){"use strict";n.r(e);var i=n(0);n(7),n(2),i.default.GainToAudio=function(){i.default.SignalBase.call(this),this._norm=this.input=this.output=new i.default.WaveShaper((function(t){return 2*Math.abs(t)-1}))},i.default.extend(i.default.GainToAudio,i.default.SignalBase),i.default.GainToAudio.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=i.default.GainToAudio},function(t,e,n){"use strict";n.r(e);var i=n(0);n(21),n(78),n(32),i.default.Sampler=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var n=i.default.defaults(e,["onload","baseUrl"],i.default.Sampler);i.default.Instrument.call(this,n);var r={};for(var o in t)if(i.default.isNote(o))r[i.default.Frequency(o).toMidi()]=t[o];else{if(isNaN(parseFloat(o)))throw new Error("Tone.Sampler: url keys must be the note's pitch");r[o]=t[o]}this._buffers=new i.default.Buffers(r,n.onload,n.baseUrl),this._activeSources={},this.attack=n.attack,this.release=n.release,this.curve=n.curve},i.default.extend(i.default.Sampler,i.default.Instrument),i.default.Sampler.defaults={attack:0,release:.1,onload:i.default.noOp,baseUrl:"",curve:"exponential"},i.default.Sampler.prototype._findClosest=function(t){for(var e=0;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: "+t)},i.default.Sampler.prototype.triggerAttack=function(t,e,n){this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var o=i.default.Frequency(t[r]).toMidi(),a=this._findClosest(o),s=o-a,u=this._buffers.get(s),l=i.default.intervalToFrequencyRatio(a),f=new i.default.BufferSource({buffer:u,playbackRate:l,fadeIn:this.attack,fadeOut:this.release,curve:this.curve}).connect(this.output);f.start(e,0,u.duration/l,n),i.default.isArray(this._activeSources[o])||(this._activeSources[o]=[]),this._activeSources[o].push(f),f.onended=function(){if(this._activeSources&&this._activeSources[o]){var t=this._activeSources[o].indexOf(f);-1!==t&&this._activeSources[o].splice(t,1)}}.bind(this)}return this},i.default.Sampler.prototype.triggerRelease=function(t,e){this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=i.default.Frequency(t[n]).toMidi();this._activeSources[r]&&this._activeSources[r].length&&(e=this.toSeconds(e),this._activeSources[r].forEach((function(t){t.stop(e)})),this._activeSources[r]=[])}return this},i.default.Sampler.prototype.releaseAll=function(t){for(var e in t=this.toSeconds(t),this._activeSources)for(var n=this._activeSources[e];n.length;)n.shift().stop(t);return this},i.default.Sampler.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},i.default.Sampler.prototype.triggerAttackRelease=function(t,e,n,r){if(n=this.toSeconds(n),this.triggerAttack(t,n,r),i.default.isArray(e)&&i.default.isArray(t))for(var o=0;o<t.length;o++){var a=e[Math.min(o,e.length-1)];this.triggerRelease(t[o],n+this.toSeconds(a))}else this.triggerRelease(t,n+this.toSeconds(e));return this},i.default.Sampler.prototype.add=function(t,e,n){if(i.default.isNote(t)){var r=i.default.Frequency(t).toMidi();this._buffers.add(r,e,n)}else{if(isNaN(parseFloat(t)))throw new Error("Tone.Sampler: note must be the note's pitch. Instead got "+t);this._buffers.add(t,e,n)}},Object.defineProperty(i.default.Sampler.prototype,"loaded",{get:function(){return this._buffers.loaded}}),i.default.Sampler.prototype.dispose=function(){for(var t in i.default.Instrument.prototype.dispose.call(this),this._buffers.dispose(),this._buffers=null,this._activeSources)this._activeSources[t].forEach((function(t){t.dispose()}));return this._activeSources=null,this},e.default=i.default.Sampler},function(t,e,n){"use strict";n.r(e);var i=n(0);n(38),n(6),i.default.PolySynth=function(){var t=i.default.defaults(arguments,["polyphony","voice"],i.default.PolySynth);i.default.Instrument.call(this,t),(t=i.default.defaultArg(t,i.default.Instrument.defaults)).polyphony=Math.min(i.default.PolySynth.MAX_POLYPHONY,t.polyphony),this.voices=new Array(t.polyphony),this.assert(t.polyphony>0,"polyphony must be greater than 0"),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this._readOnly("detune");for(var e=0;e<t.polyphony;e++){var n=new t.voice(arguments[2],arguments[3]);if(!(n instanceof i.default.Monophonic))throw new Error("Synth constructor must be instance of Tone.Monophonic");this.voices[e]=n,n.index=e,n.connect(this.output),n.hasOwnProperty("detune")&&this.detune.connect(n.detune)}},i.default.extend(i.default.PolySynth,i.default.Instrument),i.default.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:i.default.Synth},i.default.PolySynth.prototype._getClosestVoice=function(t,e){return this.voices.find((function(n){if(Math.abs(n.frequency.getValueAtTime(t)-i.default.Frequency(e))<1e-4&&n.getLevelAtTime(t)>1e-5)return n}))||this.voices.slice().sort(function(e,n){var i=e.getLevelAtTime(t+this.blockTime),r=n.getLevelAtTime(t+this.blockTime);return i<1e-5&&(i=0),r<1e-5&&(r=0),i-r}.bind(this))[0]},i.default.PolySynth.prototype.triggerAttack=function(t,e,n){return Array.isArray(t)||(t=[t]),e=this.toSeconds(e),t.forEach(function(t){var i=this._getClosestVoice(e,t);i.triggerAttack(t,e,n),this.log("triggerAttack",i.index,t)}.bind(this)),this},i.default.PolySynth.prototype.triggerRelease=function(t,e){return Array.isArray(t)||(t=[t]),e=this.toSeconds(e),t.forEach(function(t){var n=this._getClosestVoice(e,t);this.log("triggerRelease",n.index,t),n.triggerRelease(e)}.bind(this)),this},i.default.PolySynth.prototype.triggerAttackRelease=function(t,e,n,r){if(n=this.toSeconds(n),this.triggerAttack(t,n,r),i.default.isArray(e)&&i.default.isArray(t))for(var o=0;o<t.length;o++){var a=e[Math.min(o,e.length-1)];this.triggerRelease(t[o],n+this.toSeconds(a))}else this.triggerRelease(t,n+this.toSeconds(e));return this},i.default.PolySynth.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},i.default.PolySynth.prototype.set=function(t,e,n){for(var i=0;i<this.voices.length;i++)this.voices[i].set(t,e,n);return this},i.default.PolySynth.prototype.get=function(t){return this.voices[0].get(t)},i.default.PolySynth.prototype.releaseAll=function(t){return t=this.toSeconds(t),this.voices.forEach((function(e){e.triggerRelease(t)})),this},i.default.PolySynth.prototype.dispose=function(){return i.default.Instrument.prototype.dispose.call(this),this.voices.forEach((function(t){t.dispose()})),this._writable("detune"),this.detune.dispose(),this.detune=null,this.voices=null,this},i.default.PolySynth.MAX_POLYPHONY=20,e.default=i.default.PolySynth},function(t,e,n){"use strict";n.r(e);var i=n(0);n(21),n(39),n(54),i.default.PluckSynth=function(t){t=i.default.defaultArg(t,i.default.PluckSynth.defaults),i.default.Instrument.call(this,t),this._noise=new i.default.Noise("pink"),this.attackNoise=t.attackNoise,this._lfcf=new i.default.LowpassCombFilter({resonance:t.resonance,dampening:t.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},i.default.extend(i.default.PluckSynth,i.default.Instrument),i.default.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.7},i.default.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t),e=this.toSeconds(e);var n=1/t;return this._lfcf.delayTime.setValueAtTime(n,e),this._noise.start(e),this._noise.stop(e+n*this.attackNoise),this},i.default.PluckSynth.prototype.dispose=function(){return i.default.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},e.default=i.default.PluckSynth},function(t,e,n){"use strict";n.r(e);var i=n(0);n(31),n(41),n(39),n(2),n(9),n(21),i.default.NoiseSynth=function(t){t=i.default.defaultArg(t,i.default.NoiseSynth.defaults),i.default.Instrument.call(this,t),this.noise=new i.default.Noise(t.noise),this.envelope=new i.default.AmplitudeEnvelope(t.envelope),this.noise.chain(this.envelope,this.output),this._readOnly(["noise","envelope"])},i.default.extend(i.default.NoiseSynth,i.default.Instrument),i.default.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}},i.default.NoiseSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.envelope.attack+this.envelope.decay),this},i.default.NoiseSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.envelope.release),this},i.default.NoiseSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},i.default.NoiseSynth.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this},i.default.NoiseSynth.prototype.dispose=function(){return i.default.Instrument.prototype.dispose.call(this),this._writable(["noise","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this},e.default=i.default.NoiseSynth},function(t,e,n){"use strict";n.r(e);var i=n(0),r=(n(21),n(49),n(9),n(41),n(31),n(3),n(26),n(5),[1,1.483,1.932,2.546,2.63,3.897]);i.default.MetalSynth=function(t){t=i.default.defaultArg(t,i.default.MetalSynth.defaults),i.default.Instrument.call(this,t),this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this._oscillators=[],this._freqMultipliers=[],this._amplitue=new i.default.Gain(0).connect(this.output),this._highpass=new i.default.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue),this._octaves=t.octaves,this._filterFreqScaler=new i.default.Scale(t.resonance,7e3),this.envelope=new i.default.Envelope({attack:t.envelope.attack,attackCurve:"linear",decay:t.envelope.decay,sustain:0,release:t.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitue.gain);for(var e=0;e<r.length;e++){var n=new i.default.FMOscillator({type:"square",modulationType:"square",harmonicity:t.harmonicity,modulationIndex:t.modulationIndex});n.connect(this._highpass),this._oscillators[e]=n;var o=new i.default.Multiply(r[e]);this._freqMultipliers[e]=o,this.frequency.chain(o,n.frequency)}this.octaves=t.octaves},i.default.extend(i.default.MetalSynth,i.default.Instrument),i.default.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5},i.default.MetalSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),e=i.default.defaultArg(e,1),this.envelope.triggerAttack(t,e),this._oscillators.forEach((function(e){e.start(t)})),0===this.envelope.sustain&&this._oscillators.forEach(function(e){e.stop(t+this.envelope.attack+this.envelope.decay)}.bind(this)),this},i.default.MetalSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this._oscillators.forEach(function(e){e.stop(t+this.envelope.release)}.bind(this)),this},i.default.MetalSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},i.default.MetalSynth.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this},Object.defineProperty(i.default.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].modulationIndex.value=t}}),Object.defineProperty(i.default.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].harmonicity.value=t}}),Object.defineProperty(i.default.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(t){this._filterFreqScaler.min=t,this.octaves=this._octaves}}),Object.defineProperty(i.default.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}}),i.default.MetalSynth.prototype.dispose=function(){i.default.Instrument.prototype.dispose.call(this);for(var t=0;t<this._oscillators.length;t++)this._oscillators[t].dispose(),this._freqMultipliers[t].dispose();this._oscillators=null,this._freqMultipliers=null,this.frequency.dispose(),this.frequency=null,this._filterFreqScaler.dispose(),this._filterFreqScaler=null,this._amplitue.dispose(),this._amplitue=null,this.envelope.dispose(),this.envelope=null,this._highpass.dispose(),this._highpass=null},e.default=i.default.MetalSynth},function(t,e,n){"use strict";n.r(e);var i=n(0);n(37),n(21),n(31),i.default.MembraneSynth=function(t){t=i.default.defaultArg(t,i.default.MembraneSynth.defaults),i.default.Instrument.call(this,t),this.oscillator=new i.default.OmniOscillator(t.oscillator),this.envelope=new i.default.AmplitudeEnvelope(t.envelope),this.octaves=t.octaves,this.pitchDecay=t.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},i.default.extend(i.default.MembraneSynth,i.default.Instrument),i.default.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},i.default.MembraneSynth.prototype.triggerAttack=function(t,e,n){e=this.toSeconds(e);var i=(t=this.toFrequency(t))*this.octaves;return this.oscillator.frequency.setValueAtTime(i,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,n),this.oscillator.start(e),0===this.envelope.sustain&&this.oscillator.stop(e+this.envelope.attack+this.envelope.decay),this},i.default.MembraneSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},i.default.MembraneSynth.prototype.dispose=function(){return i.default.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},e.default=i.default.MembraneSynth},function(t,e,n){"use strict";n.r(e);var i=n(0);n(38),n(2),n(5),n(25),i.default.FMSynth=function(t){t=i.default.defaultArg(t,i.default.FMSynth.defaults),i.default.Monophonic.call(this,t),this._carrier=new i.default.Synth(t.carrier),this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new i.default.Synth(t.modulator),this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new i.default.Signal(440,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this.modulationIndex=new i.default.Multiply(t.modulationIndex),this.modulationIndex.units=i.default.Type.Positive,this._modulationNode=new i.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])},i.default.extend(i.default.FMSynth,i.default.Monophonic),i.default.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},i.default.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},i.default.FMSynth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},i.default.FMSynth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=i.default.FMSynth},function(t,e,n){"use strict";n.r(e);var i=n(0);n(66),n(12),n(2),n(5),n(25),n(14),i.default.DuoSynth=function(t){t=i.default.defaultArg(t,i.default.DuoSynth.defaults),i.default.Monophonic.call(this,t),this.voice0=new i.default.MonoSynth(t.voice0),this.voice0.volume.value=-10,this.voice1=new i.default.MonoSynth(t.voice1),this.voice1.volume.value=-10,this._vibrato=new i.default.LFO(t.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new i.default.Gain(t.vibratoAmount,i.default.Type.Positive),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new i.default.Signal(440,i.default.Type.Frequency),this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},i.default.extend(i.default.DuoSynth,i.default.Monophonic),i.default.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},i.default.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e),this},i.default.DuoSynth.prototype._triggerEnvelopeRelease=function(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this},i.default.DuoSynth.prototype.getLevelAtTime=function(t){return(this.voice0.getLevelAtTime(t)+this.voice1.getLevelAtTime(t))/2},i.default.DuoSynth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibratoGain.dispose(),this._vibratoGain=null,this._vibrato=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},e.default=i.default.DuoSynth},function(t,e,n){"use strict";n.r(e);var i=n(0);n(38),n(2),n(5),n(25),n(22),n(3),i.default.AMSynth=function(t){t=i.default.defaultArg(t,i.default.AMSynth.defaults),i.default.Monophonic.call(this,t),this._carrier=new i.default.Synth,this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator.set(t.oscillator),this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new i.default.Synth,this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new i.default.Signal(440,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this._modulationScale=new i.default.AudioToGain,this._modulationNode=new i.default.Gain,this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])},i.default.extend(i.default.AMSynth,i.default.Monophonic),i.default.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},i.default.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},i.default.AMSynth.prototype._triggerEnvelopeRelease=function(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},i.default.AMSynth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=i.default.AMSynth},function(t,e,n){"use strict";n.r(e);var i=n(0);n(70),n(16),i.default.Sequence=function(){var t=i.default.defaults(arguments,["callback","events","subdivision"],i.default.Sequence),e=t.events;if(delete t.events,i.default.Part.call(this,t),this._subdivision=this.toTicks(t.subdivision),i.default.isUndef(t.loopEnd)&&i.default.isDefined(e)&&(this._loopEnd=e.length*this._subdivision),this._loop=!0,i.default.isDefined(e))for(var n=0;n<e.length;n++)this.add(n,e[n])},i.default.extend(i.default.Sequence,i.default.Part),i.default.Sequence.defaults={subdivision:"4n"},Object.defineProperty(i.default.Sequence.prototype,"subdivision",{get:function(){return i.default.Ticks(this._subdivision).toSeconds()}}),i.default.Sequence.prototype.at=function(t,e){return i.default.isArray(e)&&this.remove(t),i.default.Part.prototype.at.call(this,this._indexTime(t),e)},i.default.Sequence.prototype.add=function(t,e){if(null===e)return this;if(i.default.isArray(e)){var n=Math.round(this._subdivision/e.length);e=new i.default.Sequence(this._tick.bind(this),e,i.default.Ticks(n))}return i.default.Part.prototype.add.call(this,this._indexTime(t),e),this},i.default.Sequence.prototype.remove=function(t,e){return i.default.Part.prototype.remove.call(this,this._indexTime(t),e),this},i.default.Sequence.prototype._indexTime=function(t){return t instanceof i.default.TransportTime?t:i.default.Ticks(t*this._subdivision+this.startOffset).toSeconds()},i.default.Sequence.prototype.dispose=function(){return i.default.Part.prototype.dispose.call(this),this},e.default=i.default.Sequence},function(t,e,n){"use strict";n.r(e);var i=n(0);n(71),n(79),i.default.Pattern=function(){var t=i.default.defaults(arguments,["callback","values","pattern"],i.default.Pattern);i.default.Loop.call(this,t),this._pattern=new i.default.CtrlPattern({values:t.values,type:t.pattern,index:t.index})},i.default.extend(i.default.Pattern,i.default.Loop),i.default.Pattern.defaults={pattern:i.default.CtrlPattern.Type.Up,callback:i.default.noOp,values:[]},i.default.Pattern.prototype._tick=function(t){this.callback(t,this._pattern.value),this._pattern.next()},Object.defineProperty(i.default.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(t){this._pattern.index=t}}),Object.defineProperty(i.default.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(t){this._pattern.values=t}}),Object.defineProperty(i.default.Pattern.prototype,"value",{get:function(){return this._pattern.value}}),Object.defineProperty(i.default.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(t){this._pattern.type=t}}),i.default.Pattern.prototype.dispose=function(){i.default.Loop.prototype.dispose.call(this),this._pattern.dispose(),this._pattern=null},e.default=i.default.Pattern},function(t,e,n){"use strict";n.r(e);var i=n(0);n(8),n(18),n(12),i.default.Vibrato=function(){var t=i.default.defaults(arguments,["frequency","depth"],i.default.Vibrato);i.default.Effect.call(this,t),this._delayNode=new i.default.Delay(0,t.maxDelay),this._lfo=new i.default.LFO({type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,this._readOnly(["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)},i.default.extend(i.default.Vibrato,i.default.Effect),i.default.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"},Object.defineProperty(i.default.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),i.default.Vibrato.prototype.dispose=function(){i.default.Effect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._lfo.dispose(),this._lfo=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null},e.default=i.default.Vibrato},function(t,e,n){"use strict";n.r(e);var i=n(0);n(12),n(15),i.default.Tremolo=function(){var t=i.default.defaults(arguments,["frequency","depth"],i.default.Tremolo);i.default.StereoEffect.call(this,t),this._lfoL=new i.default.LFO({phase:t.spread,min:1,max:0}),this._lfoR=new i.default.LFO({phase:t.spread,min:1,max:0}),this._amplitudeL=new i.default.Gain,this._amplitudeR=new i.default.Gain,this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.depth=new i.default.Signal(t.depth,i.default.Type.NormalRange),this._readOnly(["frequency","depth"]),this.effectSendL.chain(this._amplitudeL,this.effectReturnL),this.effectSendR.chain(this._amplitudeR,this.effectReturnR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.type=t.type,this.spread=t.spread},i.default.extend(i.default.Tremolo,i.default.StereoEffect),i.default.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180},i.default.Tremolo.prototype.start=function(t){return this._lfoL.start(t),this._lfoR.start(t),this},i.default.Tremolo.prototype.stop=function(t){return this._lfoL.stop(t),this._lfoR.stop(t),this},i.default.Tremolo.prototype.sync=function(t){return this._lfoL.sync(t),this._lfoR.sync(t),i.default.Transport.syncSignal(this.frequency),this},i.default.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),i.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(i.default.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(i.default.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),i.default.Tremolo.prototype.dispose=function(){return i.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this},e.default=i.default.Tremolo},function(t,e,n){"use strict";n.r(e);var i=n(0);n(73),n(2),n(5),n(13),i.default.StereoWidener=function(){var t=i.default.defaults(arguments,["width"],i.default.StereoWidener);i.default.MidSideEffect.call(this,t),this.width=new i.default.Signal(t.width,i.default.Type.NormalRange),this._readOnly(["width"]),this._twoTimesWidthMid=new i.default.Multiply(2),this._twoTimesWidthSide=new i.default.Multiply(2),this._midMult=new i.default.Multiply,this._twoTimesWidthMid.connect(this._midMult,0,1),this.midSend.chain(this._midMult,this.midReturn),this._oneMinusWidth=new i.default.Subtract,this._oneMinusWidth.connect(this._twoTimesWidthMid),i.default.connect(this.context.getConstant(1),this._oneMinusWidth,0,0),this.width.connect(this._oneMinusWidth,0,1),this._sideMult=new i.default.Multiply,this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult,0,1),this.sideSend.chain(this._sideMult,this.sideReturn)},i.default.extend(i.default.StereoWidener,i.default.MidSideEffect),i.default.StereoWidener.defaults={width:.5},i.default.StereoWidener.prototype.dispose=function(){return i.default.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._twoTimesWidthMid.dispose(),this._twoTimesWidthMid=null,this._twoTimesWidthSide.dispose(),this._twoTimesWidthSide=null,this._oneMinusWidth.dispose(),this._oneMinusWidth=null,this},e.default=i.default.StereoWidener},function(t,e,n){"use strict";n.r(e);var i=n(0);n(15),n(33),n(3),i.default.StereoFeedbackEffect=function(){var t=i.default.defaults(arguments,["feedback"],i.default.FeedbackEffect);i.default.StereoEffect.call(this,t),this.feedback=new i.default.Signal(t.feedback,i.default.Type.NormalRange),this._feedbackL=new i.default.Gain,this._feedbackR=new i.default.Gain,this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},i.default.extend(i.default.StereoFeedbackEffect,i.default.StereoEffect),i.default.StereoFeedbackEffect.prototype.dispose=function(){return i.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.dispose(),this._feedbackL=null,this._feedbackR.dispose(),this._feedbackR=null,this},e.default=i.default.StereoFeedbackEffect},function(t,e,n){"use strict";n.r(e);var i=n(0);n(77),n(9),n(10),n(39),n(3),n(74),i.default.Reverb=function(){var t=i.default.defaults(arguments,["decay"],i.default.Reverb);i.default.Effect.call(this,t),this._convolver=this.context.createConvolver(),this.decay=t.decay,this.preDelay=t.preDelay,this.connectEffect(this._convolver)},i.default.extend(i.default.Reverb,i.default.Effect),i.default.Reverb.defaults={decay:1.5,preDelay:.01},i.default.Reverb.prototype.generate=function(){return i.default.Offline(function(){var t=new i.default.Noise,e=new i.default.Noise,n=new i.default.Merge;t.connect(n.left),e.connect(n.right);var r=(new i.default.Gain).toMaster();n.connect(r),t.start(0),e.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this.preDelay),r.gain.exponentialApproachValueAtTime(0,this.preDelay,this.decay+this.preDelay)}.bind(this),this.decay+this.preDelay).then(function(t){return this._convolver.buffer=t.get(),this}.bind(this))},i.default.Reverb.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this},e.default=i.default.Reverb},function(t,e,n){"use strict";n.r(e);var i=n(0);n(12),n(23),n(2),n(33),n(18),i.default.PitchShift=function(){var t=i.default.defaults(arguments,["pitch"],i.default.PitchShift);i.default.FeedbackEffect.call(this,t),this._frequency=new i.default.Signal(0),this._delayA=new i.default.Delay(0,1),this._lfoA=new i.default.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new i.default.Delay(0,1),this._lfoB=new i.default.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new i.default.CrossFade,this._crossFadeLFO=new i.default.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new i.default.Delay(t.delayTime),this.delayTime=this._feedbackDelay.delayTime,this._readOnly("delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);var e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize},i.default.extend(i.default.PitchShift,i.default.FeedbackEffect),i.default.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0},Object.defineProperty(i.default.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(t){this._pitch=t;var e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=i.default.intervalToFrequencyRatio(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=i.default.intervalToFrequencyRatio(t)-1),this._frequency.value=e*(1.2/this._windowSize)}}),Object.defineProperty(i.default.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}}),i.default.PitchShift.prototype.dispose=function(){return i.default.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this},e.default=i.default.PitchShift},function(t,e,n){"use strict";n.r(e);var i=n(0);n(72),n(2),n(18),i.default.PingPongDelay=function(){var t=i.default.defaults(arguments,["delayTime","feedback"],i.default.PingPongDelay);i.default.StereoXFeedbackEffect.call(this,t),this._leftDelay=new i.default.Delay(0,t.maxDelayTime),this._rightDelay=new i.default.Delay(0,t.maxDelayTime),this._rightPreDelay=new i.default.Delay(0,t.maxDelayTime),this.delayTime=new i.default.Signal(t.delayTime,i.default.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},i.default.extend(i.default.PingPongDelay,i.default.StereoXFeedbackEffect),i.default.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},i.default.PingPongDelay.prototype.dispose=function(){return i.default.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.dispose(),this._leftDelay=null,this._rightDelay.dispose(),this._rightDelay=null,this._rightPreDelay.dispose(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},e.default=i.default.PingPongDelay},function(t,e,n){"use strict";n.r(e);var i=n(0);n(12),n(9),n(15),i.default.Phaser=function(){var t=i.default.defaults(arguments,["frequency","octaves","baseFrequency"],i.default.Phaser);i.default.StereoEffect.call(this,t),this._lfoL=new i.default.LFO(t.frequency,0,1),this._lfoR=new i.default.LFO(t.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this.Q=new i.default.Signal(t.Q,i.default.Type.Positive),this._filtersL=this._makeFilters(t.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(t.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),i.default.connect(this._filtersL[t.stages-1],this.effectReturnL),i.default.connect(this._filtersR[t.stages-1],this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},i.default.extend(i.default.Phaser,i.default.StereoEffect),i.default.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350},i.default.Phaser.prototype._makeFilters=function(t,e,n){for(var r=new Array(t),o=0;o<t;o++){var a=this.context.createBiquadFilter();a.type="allpass",n.connect(a.Q),e.connect(a.frequency),r[o]=a}return i.default.connectSeries.apply(i.default,r),r},Object.defineProperty(i.default.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;var e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}}),Object.defineProperty(i.default.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._lfoL.min=t,this._lfoR.min=t,this.octaves=this._octaves}}),i.default.Phaser.prototype.dispose=function(){i.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var t=0;t<this._filtersL.length;t++)this._filtersL[t].disconnect(),this._filtersL[t]=null;this._filtersL=null;for(var e=0;e<this._filtersR.length;e++)this._filtersR[e].disconnect(),this._filtersR[e]=null;return this._filtersR=null,this.frequency=null,this},e.default=i.default.Phaser},function(t,e,n){"use strict";n.r(e);var i=n(0),r=(n(59),n(15),n(26),[.06748,.06404,.08212,.09004]),o=[.773,.802,.753,.733],a=[347,113,37];i.default.JCReverb=function(){var t=i.default.defaults(arguments,["roomSize"],i.default.JCReverb);i.default.StereoEffect.call(this,t),this.roomSize=new i.default.Signal(t.roomSize,i.default.Type.NormalRange),this._scaleRoomSize=new i.default.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var e=0;e<a.length;e++){var n=this.context.createBiquadFilter();n.type="allpass",n.frequency.value=a[e],this._allpassFilters.push(n)}for(var s=0;s<r.length;s++){var u=new i.default.FeedbackCombFilter(r[s],.1);this._scaleRoomSize.connect(u.resonance),u.resonance.value=o[s],i.default.connect(this._allpassFilters[this._allpassFilters.length-1],u),s<r.length/2?u.connect(this.effectReturnL):u.connect(this.effectReturnR),this._feedbackCombFilters.push(u)}this.roomSize.connect(this._scaleRoomSize),i.default.connectSeries.apply(i.default,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},i.default.extend(i.default.JCReverb,i.default.StereoEffect),i.default.JCReverb.defaults={roomSize:.5},i.default.JCReverb.prototype.dispose=function(){i.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFilters.length;t++)this._allpassFilters[t].disconnect(),this._allpassFilters[t]=null;this._allpassFilters=null;for(var e=0;e<this._feedbackCombFilters.length;e++)this._feedbackCombFilters[e].dispose(),this._feedbackCombFilters[e]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},e.default=i.default.JCReverb},function(t,e,n){"use strict";n.r(e);var i=n(0),r=(n(54),n(15),n(2),n(19),n(10),n(42),[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100]),o=[225,556,441,341];i.default.Freeverb=function(){var t=i.default.defaults(arguments,["roomSize","dampening"],i.default.Freeverb);i.default.StereoEffect.call(this,t),this.roomSize=new i.default.Signal(t.roomSize,i.default.Type.NormalRange),this.dampening=new i.default.Signal(t.dampening,i.default.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var e=0;e<o.length;e++){var n=this.context.createBiquadFilter();n.type="allpass",n.frequency.value=o[e],this._allpassFiltersL.push(n)}for(var a=0;a<o.length;a++){var s=this.context.createBiquadFilter();s.type="allpass",s.frequency.value=o[a],this._allpassFiltersR.push(s)}for(var u=0;u<r.length;u++){var l=new i.default.LowpassCombFilter(r[u]);u<r.length/2?this.effectSendL.chain(l,this._allpassFiltersL[0]):this.effectSendR.chain(l,this._allpassFiltersR[0]),this.roomSize.connect(l.resonance),this.dampening.connect(l.dampening),this._combFilters.push(l)}i.default.connectSeries.apply(i.default,this._allpassFiltersL),i.default.connectSeries.apply(i.default,this._allpassFiltersR),i.default.connect(this._allpassFiltersL[this._allpassFiltersL.length-1],this.effectReturnL),i.default.connect(this._allpassFiltersR[this._allpassFiltersR.length-1],this.effectReturnR),this._readOnly(["roomSize","dampening"])},i.default.extend(i.default.Freeverb,i.default.StereoEffect),i.default.Freeverb.defaults={roomSize:.7,dampening:3e3},i.default.Freeverb.prototype.dispose=function(){i.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFiltersL.length;t++)this._allpassFiltersL[t].disconnect(),this._allpassFiltersL[t]=null;this._allpassFiltersL=null;for(var e=0;e<this._allpassFiltersR.length;e++)this._allpassFiltersR[e].disconnect(),this._allpassFiltersR[e]=null;this._allpassFiltersR=null;for(var n=0;n<this._combFilters.length;n++)this._combFilters[n].dispose(),this._combFilters[n]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},e.default=i.default.Freeverb},function(t,e,n){"use strict";n.r(e);var i=n(0);n(33),n(2),n(18),i.default.FeedbackDelay=function(){var t=i.default.defaults(arguments,["delayTime","feedback"],i.default.FeedbackDelay);i.default.FeedbackEffect.call(this,t),this._delayNode=new i.default.Delay(t.delayTime,t.maxDelay),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),this._readOnly(["delayTime"])},i.default.extend(i.default.FeedbackDelay,i.default.FeedbackEffect),i.default.FeedbackDelay.defaults={delayTime:.25,maxDelay:1},i.default.FeedbackDelay.prototype.dispose=function(){return i.default.FeedbackEffect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},e.default=i.default.FeedbackDelay},function(t,e,n){"use strict";n.r(e);var i=n(0);n(8),n(7),i.default.Distortion=function(){var t=i.default.defaults(arguments,["distortion"],i.default.Distortion);i.default.Effect.call(this,t),this._shaper=new i.default.WaveShaper(4096),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample},i.default.extend(i.default.Distortion,i.default.Effect),i.default.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(i.default.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){this._distortion=t;var e=100*t,n=Math.PI/180;this._shaper.setMap((function(t){return Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))}))}}),Object.defineProperty(i.default.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),i.default.Distortion.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=i.default.Distortion},function(t,e,n){"use strict";n.r(e);var i=n(0);n(12),n(15),n(18),i.default.Chorus=function(){var t=i.default.defaults(arguments,["frequency","delayTime","depth"],i.default.Chorus);i.default.StereoEffect.call(this,t),this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new i.default.LFO({frequency:t.frequency,min:0,max:1}),this._lfoR=new i.default.LFO({frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new i.default.Delay,this._delayNodeR=new i.default.Delay,this.frequency=this._lfoL.frequency,this.effectSendL.chain(this._delayNodeL,this.effectReturnL),this.effectSendR.chain(this._delayNodeR,this.effectReturnR),this.effectSendL.connect(this.effectReturnL),this.effectSendR.connect(this.effectReturnR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=t.frequency,this.type=t.type,this._readOnly(["frequency"]),this.spread=t.spread},i.default.extend(i.default.Chorus,i.default.StereoEffect),i.default.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180},Object.defineProperty(i.default.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}}),Object.defineProperty(i.default.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(t){this._delayTime=t/1e3,this.depth=this._depth}}),Object.defineProperty(i.default.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(i.default.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),i.default.Chorus.prototype.dispose=function(){return i.default.StereoEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.dispose(),this._delayNodeL=null,this._delayNodeR.dispose(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},e.default=i.default.Chorus},function(t,e,n){"use strict";n.r(e);var i=n(0);n(8),n(7),i.default.Chebyshev=function(){var t=i.default.defaults(arguments,["order"],i.default.Chebyshev);i.default.Effect.call(this,t),this._shaper=new i.default.WaveShaper(4096),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample},i.default.extend(i.default.Chebyshev,i.default.Effect),i.default.Chebyshev.defaults={order:1,oversample:"none"},i.default.Chebyshev.prototype._getCoefficient=function(t,e,n){return n.hasOwnProperty(e)||(n[e]=0===e?0:1===e?t:2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n)),n[e]},Object.defineProperty(i.default.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;for(var e=new Array(4096),n=e.length,i=0;i<n;++i){var r=2*i/n-1;e[i]=0===r?0:this._getCoefficient(r,t,{})}this._shaper.curve=e}}),Object.defineProperty(i.default.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),i.default.Chebyshev.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=i.default.Chebyshev},function(t,e,n){"use strict";n.r(e);var i=n(0);n(8),n(13),n(75),i.default.BitCrusher=function(){var t=i.default.defaults(arguments,["bits"],i.default.BitCrusher);i.default.Effect.call(this,t);var e=1/Math.pow(2,t.bits-1);this._subtract=new i.default.Subtract,this._modulo=new i.default.Modulo(e),this._bits=t.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},i.default.extend(i.default.BitCrusher,i.default.Effect),i.default.BitCrusher.defaults={bits:4},Object.defineProperty(i.default.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;var e=1/Math.pow(2,t-1);this._modulo.value=e}}),i.default.BitCrusher.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},e.default=i.default.BitCrusher},function(t,e,n){"use strict";n.r(e);var i=n(0);n(58),n(42),n(8),n(9),i.default.AutoWah=function(){var t=i.default.defaults(arguments,["baseFrequency","octaves","sensitivity"],i.default.AutoWah);i.default.Effect.call(this,t),this.follower=new i.default.Follower(t.follower),this._sweepRange=new i.default.ScaleExp(0,1,.5),this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this._inputBoost=new i.default.Gain,this._bandpass=new i.default.Filter({rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new i.default.Filter(0,"peaking"),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,this._readOnly(["gain","Q"])},i.default.extend(i.default.AutoWah,i.default.Effect),i.default.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(i.default.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._setSweepRange()}}),Object.defineProperty(i.default.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._setSweepRange()}}),Object.defineProperty(i.default.AutoWah.prototype,"sensitivity",{get:function(){return i.default.gainToDb(1/this._inputBoost.gain.value)},set:function(t){this._inputBoost.gain.value=1/i.default.dbToGain(t)}}),i.default.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},i.default.AutoWah.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.dispose(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},e.default=i.default.AutoWah},function(t,e,n){"use strict";n.r(e);var i=n(0);n(8),n(12),n(48),i.default.AutoPanner=function(){var t=i.default.defaults(arguments,["frequency"],i.default.AutoPanner);i.default.Effect.call(this,t),this._lfo=new i.default.LFO({frequency:t.frequency,amplitude:t.depth,min:-1,max:1}),this.depth=this._lfo.amplitude,this._panner=new i.default.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=t.type,this._readOnly(["depth","frequency"])},i.default.extend(i.default.AutoPanner,i.default.Effect),i.default.AutoPanner.defaults={frequency:1,type:"sine",depth:1},i.default.AutoPanner.prototype.start=function(t){return this._lfo.start(t),this},i.default.AutoPanner.prototype.stop=function(t){return this._lfo.stop(t),this},i.default.AutoPanner.prototype.sync=function(t){return this._lfo.sync(t),this},i.default.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(i.default.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),i.default.AutoPanner.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},e.default=i.default.AutoPanner},function(t,e,n){"use strict";n.r(e);var i=n(0);n(8),n(12),n(9),i.default.AutoFilter=function(){var t=i.default.defaults(arguments,["frequency","baseFrequency","octaves"],i.default.AutoFilter);i.default.Effect.call(this,t),this._lfo=new i.default.LFO({frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new i.default.Filter(t.filter),this._octaves=0,this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=t.type,this._readOnly(["frequency","depth"]),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency},i.default.extend(i.default.AutoFilter,i.default.Effect),i.default.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}},i.default.AutoFilter.prototype.start=function(t){return this._lfo.start(t),this},i.default.AutoFilter.prototype.stop=function(t){return this._lfo.stop(t),this},i.default.AutoFilter.prototype.sync=function(t){return this._lfo.sync(t),this},i.default.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(i.default.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),Object.defineProperty(i.default.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(i.default.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._lfo.max=this.baseFrequency*Math.pow(2,t)}}),i.default.AutoFilter.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},e.default=i.default.AutoFilter},function(t,e,n){"use strict";n.r(e);var i=n(0);n(23),n(10),n(19),n(2),n(22),n(28),i.default.Listener=function(){i.default.call(this),this._orientation=[0,0,0,0,0,0],this._position=[0,0,0],i.default.getContext(function(){this.set(r.defaults)}.bind(this))},i.default.extend(i.default.Listener),i.default.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0},i.default.Listener.prototype.isListener=!0,i.default.Listener.prototype._rampTimeConstant=.01,i.default.Listener.prototype.setPosition=function(t,e,n){if(this.context.rawContext.listener.positionX){var i=this.now();this.context.rawContext.listener.positionX.setTargetAtTime(t,i,this._rampTimeConstant),this.context.rawContext.listener.positionY.setTargetAtTime(e,i,this._rampTimeConstant),this.context.rawContext.listener.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this.context.rawContext.listener.setPosition(t,e,n);return this._position=Array.prototype.slice.call(arguments),this},i.default.Listener.prototype.setOrientation=function(t,e,n,i,r,o){if(this.context.rawContext.listener.forwardX){var a=this.now();this.context.rawContext.listener.forwardX.setTargetAtTime(t,a,this._rampTimeConstant),this.context.rawContext.listener.forwardY.setTargetAtTime(e,a,this._rampTimeConstant),this.context.rawContext.listener.forwardZ.setTargetAtTime(n,a,this._rampTimeConstant),this.context.rawContext.listener.upX.setTargetAtTime(i,a,this._rampTimeConstant),this.context.rawContext.listener.upY.setTargetAtTime(r,a,this._rampTimeConstant),this.context.rawContext.listener.upZ.setTargetAtTime(o,a,this._rampTimeConstant)}else this.context.rawContext.listener.setOrientation(t,e,n,i,r,o);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(i.default.Listener.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(i.default.Listener.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(i.default.Listener.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(i.default.Listener.prototype,"forwardX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(i.default.Listener.prototype,"forwardY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(i.default.Listener.prototype,"forwardZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),Object.defineProperty(i.default.Listener.prototype,"upX",{set:function(t){this._orientation[3]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}}),Object.defineProperty(i.default.Listener.prototype,"upY",{set:function(t){this._orientation[4]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}}),Object.defineProperty(i.default.Listener.prototype,"upZ",{set:function(t){this._orientation[5]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}}),i.default.Listener.prototype.dispose=function(){return this._orientation=null,this._position=null,this};var r=i.default.Listener;i.default.Listener=new r,i.default.Context.on("init",(function(t){t.listener&&t.listener.isListener?i.default.Listener=t.listener:i.default.Listener=new r})),e.default=i.default.Listener},function(t,e,n){"use strict";n.r(e);var i=n(0);n(24),i.default.Draw=function(){i.default.call(this),this._events=new i.default.Timeline,this.expiration=.25,this.anticipation=.008,this._boundDrawLoop=this._drawLoop.bind(this)},i.default.extend(i.default.Draw),i.default.Draw.prototype.schedule=function(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&requestAnimationFrame(this._boundDrawLoop),this},i.default.Draw.prototype.cancel=function(t){return this._events.cancel(this.toSeconds(t)),this},i.default.Draw.prototype._drawLoop=function(){for(var t=i.default.context.currentTime;this._events.length&&this._events.peek().time-this.anticipation<=t;){var e=this._events.shift();t-e.time<=this.expiration&&e.callback()}this._events.length>0&&requestAnimationFrame(this._boundDrawLoop)},i.default.Draw=new i.default.Draw,e.default=i.default.Draw},function(t,e,n){"use strict";n.r(e);var i=n(0),r=(n(3),{});i.default.prototype.send=function(t,e){r.hasOwnProperty(t)||(r[t]=this.context.createGain()),e=i.default.defaultArg(e,0);var n=new i.default.Gain(e,i.default.Type.Decibels);return this.connect(n),n.connect(r[t]),n},i.default.prototype.receive=function(t,e){return r.hasOwnProperty(t)||(r[t]=this.context.createGain()),i.default.connect(r[t],this,0,e),this},i.default.Context.on("init",(function(t){t.buses?r=t.buses:(r={},t.buses=r)})),e.default=i.default},function(t,e,n){"use strict";n.r(e);var i=n(0);n(4),i.default.CtrlRandom=function(){var t=i.default.defaults(arguments,["min","max"],i.default.CtrlRandom);i.default.call(this),this.min=t.min,this.max=t.max,this.integer=t.integer},i.default.extend(i.default.CtrlRandom),i.default.CtrlRandom.defaults={min:0,max:1,integer:!1},Object.defineProperty(i.default.CtrlRandom.prototype,"value",{get:function(){var t=this.toSeconds(this.min),e=this.toSeconds(this.max),n=Math.random(),i=n*t+(1-n)*e;return this.integer&&(i=Math.floor(i)),i}}),e.default=i.default.CtrlRandom},function(t,e,n){"use strict";n.r(e);var i=n(0);i.default.CtrlMarkov=function(t,e){i.default.call(this),this.values=i.default.defaultArg(t,{}),this.value=i.default.defaultArg(e,Object.keys(this.values)[0])},i.default.extend(i.default.CtrlMarkov),i.default.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var t=this.values[this.value];if(i.default.isArray(t))for(var e=this._getProbDistribution(t),n=Math.random(),r=0,o=0;o<e.length;o++){var a=e[o];if(n>r&&n<r+a){var s=t[o];i.default.isObject(s)?this.value=s.value:this.value=s}r+=a}else this.value=t}return this.value},i.default.CtrlMarkov.prototype._getProbDistribution=function(t){for(var e=[],n=0,r=!1,o=0;o<t.length;o++){var a=t[o];i.default.isObject(a)?(r=!0,e[o]=a.probability):e[o]=1/t.length,n+=e[o]}if(r)for(var s=0;s<e.length;s++)e[s]=e[s]/n;return e},i.default.CtrlMarkov.prototype.dispose=function(){this.values=null},e.default=i.default.CtrlMarkov},function(t,e,n){"use strict";n.r(e);var i=n(0);n(4),i.default.CtrlInterpolate=function(){var t=i.default.defaults(arguments,["values","index"],i.default.CtrlInterpolate);i.default.call(this),this.values=t.values,this.index=t.index},i.default.extend(i.default.CtrlInterpolate),i.default.CtrlInterpolate.defaults={index:0,values:[]},Object.defineProperty(i.default.CtrlInterpolate.prototype,"value",{get:function(){var t=this.index;t=Math.min(t,this.values.length-1);var e=Math.floor(t),n=this.values[e],i=this.values[Math.ceil(t)];return this._interpolate(t-e,n,i)}}),i.default.CtrlInterpolate.prototype._interpolate=function(t,e,n){if(i.default.isArray(e)){for(var r=[],o=0;o<e.length;o++)r[o]=this._interpolate(t,e[o],n[o]);return r}if(i.default.isObject(e)){var a={};for(var s in e)a[s]=this._interpolate(t,e[s],n[s]);return a}return(1-t)*(e=this._toNumber(e))+t*this._toNumber(n)},i.default.CtrlInterpolate.prototype._toNumber=function(t){return i.default.isNumber(t)?t:this.toSeconds(t)},i.default.CtrlInterpolate.prototype.dispose=function(){this.values=null},e.default=i.default.CtrlInterpolate},function(t,e,n){"use strict";n.r(e);var i=n(0);n(36),n(1),i.default.Waveform=function(){var t=i.default.defaults(arguments,["size"],i.default.Waveform);t.type=i.default.Analyser.Type.Waveform,i.default.AudioNode.call(this),this._analyser=this.input=this.output=new i.default.Analyser(t)},i.default.extend(i.default.Waveform,i.default.AudioNode),i.default.Waveform.defaults={size:1024},i.default.Waveform.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(i.default.Waveform.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),i.default.Waveform.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=i.default.Waveform},function(t,e,n){"use strict";n.r(e);var i=n(0);n(23),n(10),n(19),n(2),n(22),n(28),n(1),i.default.Panner3D=function(){var t=i.default.defaults(arguments,["positionX","positionY","positionZ"],i.default.Panner3D);i.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createPanner(),this._panner.panningModel=t.panningModel,this._panner.maxDistance=t.maxDistance,this._panner.distanceModel=t.distanceModel,this._panner.coneOuterGain=t.coneOuterGain,this._panner.coneOuterAngle=t.coneOuterAngle,this._panner.coneInnerAngle=t.coneInnerAngle,this._panner.refDistance=t.refDistance,this._panner.rolloffFactor=t.rolloffFactor,this._orientation=[t.orientationX,t.orientationY,t.orientationZ],this._position=[t.positionX,t.positionY,t.positionZ],this.orientationX=t.orientationX,this.orientationY=t.orientationY,this.orientationZ=t.orientationZ,this.positionX=t.positionX,this.positionY=t.positionY,this.positionZ=t.positionZ},i.default.extend(i.default.Panner3D,i.default.AudioNode),i.default.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1},i.default.Panner3D.prototype._rampTimeConstant=.01,i.default.Panner3D.prototype.setPosition=function(t,e,n){if(this._panner.positionX){var i=this.now();this._panner.positionX.setTargetAtTime(t,i,this._rampTimeConstant),this._panner.positionY.setTargetAtTime(e,i,this._rampTimeConstant),this._panner.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this._panner.setPosition(t,e,n);return this._position=Array.prototype.slice.call(arguments),this},i.default.Panner3D.prototype.setOrientation=function(t,e,n){if(this._panner.orientationX){var i=this.now();this._panner.orientationX.setTargetAtTime(t,i,this._rampTimeConstant),this._panner.orientationY.setTargetAtTime(e,i,this._rampTimeConstant),this._panner.orientationZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this._panner.setOrientation(t,e,n);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(i.default.Panner3D.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(i.default.Panner3D.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(i.default.Panner3D.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(i.default.Panner3D.prototype,"orientationX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(i.default.Panner3D.prototype,"orientationY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(i.default.Panner3D.prototype,"orientationZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),i.default.Panner3D._aliasProperty=function(t){Object.defineProperty(i.default.Panner3D.prototype,t,{set:function(e){this._panner[t]=e},get:function(){return this._panner[t]}})},i.default.Panner3D._aliasProperty("panningModel"),i.default.Panner3D._aliasProperty("refDistance"),i.default.Panner3D._aliasProperty("rolloffFactor"),i.default.Panner3D._aliasProperty("distanceModel"),i.default.Panner3D._aliasProperty("coneInnerAngle"),i.default.Panner3D._aliasProperty("coneOuterAngle"),i.default.Panner3D._aliasProperty("coneOuterGain"),i.default.Panner3D._aliasProperty("maxDistance"),i.default.Panner3D.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._panner.disconnect(),this._panner=null,this._orientation=null,this._position=null,this},e.default=i.default.Panner3D},function(t,e,n){"use strict";n.r(e);var i=n(0);n(60),n(43),n(1),i.default.MultibandCompressor=function(t){i.default.AudioNode.call(this),t=i.default.defaultArg(arguments,i.default.MultibandCompressor.defaults),this._splitter=this.input=new i.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new i.default.Gain,this.low=new i.default.Compressor(t.low),this.mid=new i.default.Compressor(t.mid),this.high=new i.default.Compressor(t.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},i.default.extend(i.default.MultibandCompressor,i.default.AudioNode),i.default.MultibandCompressor.defaults={low:i.default.Compressor.defaults,mid:i.default.Compressor.defaults,high:i.default.Compressor.defaults,lowFrequency:250,highFrequency:2e3},i.default.MultibandCompressor.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},e.default=i.default.MultibandCompressor},function(t,e,n){"use strict";n.r(e);var i=n(0);n(10),n(1),i.default.Mono=function(){i.default.AudioNode.call(this),this.createInsOuts(1,0),this._merge=this.output=new i.default.Merge,i.default.connect(this.input,this._merge,0,0),i.default.connect(this.input,this._merge,0,1)},i.default.extend(i.default.Mono,i.default.AudioNode),i.default.Mono.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},e.default=i.default.Mono},function(t,e,n){"use strict";n.r(e);var i=n(0);n(53),n(52),n(43),n(1),i.default.MidSideCompressor=function(t){i.default.AudioNode.call(this),t=i.default.defaultArg(t,i.default.MidSideCompressor.defaults),this._midSideSplit=this.input=new i.default.MidSideSplit,this._midSideMerge=this.output=new i.default.MidSideMerge,this.mid=new i.default.Compressor(t.mid),this.side=new i.default.Compressor(t.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},i.default.extend(i.default.MidSideCompressor,i.default.AudioNode),i.default.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},i.default.MidSideCompressor.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},e.default=i.default.MidSideCompressor},function(t,e,n){"use strict";n.r(e);var i=n(0);n(36),n(1),i.default.Meter=function(){var t=i.default.defaults(arguments,["smoothing"],i.default.Meter);i.default.AudioNode.call(this),this.smoothing=t.smoothing,this._rms=0,this.input=this.output=this._analyser=new i.default.Analyser("waveform",256)},i.default.extend(i.default.Meter,i.default.AudioNode),i.default.Meter.defaults={smoothing:.8},i.default.Meter.prototype.getLevel=function(){for(var t=this._analyser.getValue(),e=0,n=0;n<t.length;n++){var r=t[n];e+=r*r}var o=Math.sqrt(e/t.length);return this._rms=Math.max(o,this._rms*this.smoothing),i.default.gainToDb(this._rms)},i.default.Meter.prototype.getValue=function(){return this._analyser.getValue()[0]},i.default.Meter.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null,this},e.default=i.default.Meter},function(t,e,n){"use strict";n.r(e);var i=n(0);n(43),n(1),i.default.Limiter=function(){var t=i.default.defaults(arguments,["threshold"],i.default.Limiter);i.default.AudioNode.call(this),this._compressor=this.input=this.output=new i.default.Compressor({attack:.001,decay:.001,threshold:t.threshold}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},i.default.extend(i.default.Limiter,i.default.AudioNode),i.default.Limiter.defaults={threshold:-12},i.default.Limiter.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},e.default=i.default.Limiter},function(t,e,n){"use strict";n.r(e);var i=n(0);n(58),n(85),n(1),i.default.Gate=function(){var t=i.default.defaults(arguments,["threshold","smoothing"],i.default.Gate);i.default.AudioNode.call(this),this.createInsOuts(1,1),this._follower=new i.default.Follower(t.smoothing),this._gt=new i.default.GreaterThan(i.default.dbToGain(t.threshold)),i.default.connect(this.input,this.output),i.default.connectSeries(this.input,this._follower,this._gt,this.output.gain)},i.default.extend(i.default.Gate,i.default.AudioNode),i.default.Gate.defaults={smoothing:.1,threshold:-40},Object.defineProperty(i.default.Gate.prototype,"threshold",{get:function(){return i.default.gainToDb(this._gt.value)},set:function(t){this._gt.value=i.default.dbToGain(t)}}),Object.defineProperty(i.default.Gate.prototype,"smoothing",{get:function(){return this._follower.smoothing},set:function(t){this._follower.smoothing=t}}),i.default.Gate.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},e.default=i.default.Gate},function(t,e,n){"use strict";n.r(e);var i=n(0);n(36),n(1),i.default.FFT=function(){var t=i.default.defaults(arguments,["size"],i.default.FFT);t.type=i.default.Analyser.Type.FFT,i.default.AudioNode.call(this),this._analyser=this.input=this.output=new i.default.Analyser(t)},i.default.extend(i.default.FFT,i.default.AudioNode),i.default.FFT.defaults={size:1024},i.default.FFT.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(i.default.FFT.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),i.default.FFT.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=i.default.FFT},function(t,e,n){"use strict";n.r(e);var i=n(0);n(60),n(3),n(1),i.default.EQ3=function(){var t=i.default.defaults(arguments,["low","mid","high"],i.default.EQ3);i.default.AudioNode.call(this),this.output=new i.default.Gain,this._multibandSplit=this.input=new i.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this._lowGain=new i.default.Gain(t.low,i.default.Type.Decibels),this._midGain=new i.default.Gain(t.mid,i.default.Type.Decibels),this._highGain=new i.default.Gain(t.high,i.default.Type.Decibels),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},i.default.extend(i.default.EQ3,i.default.AudioNode),i.default.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},i.default.EQ3.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this},e.default=i.default.EQ3},function(t,e,n){"use strict";n.r(e);var i=n(0);n(91),n(88),n(1),i.default.Channel=function(){var t=i.default.defaults(arguments,["volume","pan"],i.default.PanVol);i.default.AudioNode.call(this,t),this._solo=this.input=new i.default.Solo(t.solo),this._panVol=this.output=new i.default.PanVol({pan:t.pan,volume:t.volume,mute:t.mute}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),this._readOnly(["pan","volume"])},i.default.extend(i.default.Channel,i.default.AudioNode),i.default.Channel.defaults={pan:0,volume:0,mute:!1,solo:!1},Object.defineProperty(i.default.Channel.prototype,"solo",{get:function(){return this._solo.solo},set:function(t){this._solo.solo=t}}),Object.defineProperty(i.default.Channel.prototype,"muted",{get:function(){return this._solo.muted||this.mute}}),Object.defineProperty(i.default.Channel.prototype,"mute",{get:function(){return this._panVol.mute},set:function(t){this._panVol.mute=t}}),i.default.Channel.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panVol.dispose(),this._panVol=null,this.pan=null,this.volume=null,this._solo.dispose(),this._solo=null,this},e.default=i.default.Channel},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){n(31),n(36),n(146),n(43),n(23),n(47),n(145),n(59),n(144),n(9),n(58),n(41),n(143),n(12),n(142),n(54),n(10),n(141),n(140),n(52),n(53),n(139),n(138),n(60),n(48),n(137),n(91),n(86),n(88),n(19),n(27),n(136),n(135),n(134),n(79),n(133),n(1),n(11),n(78),n(132),n(83),n(20),n(18),n(131),n(35),n(3),n(81),n(130),n(40),n(77),n(76),n(14),n(24),n(34),n(16),n(56),n(80),n(129),n(128),n(127),n(126),n(125),n(124),n(74),n(123),n(8),n(122),n(33),n(121),n(120),n(73),n(119),n(118),n(117),n(116),n(15),n(115),n(114),n(72),n(113),n(112),n(51),n(71),n(70),n(111),n(110),n(109),n(108),n(107),n(21),n(106),n(105),n(25),n(66),n(104),n(103),n(102),n(101),n(38),n(87),n(29),n(22),n(89),n(100),n(85),n(84),n(75),n(5),n(90),n(99),n(61),n(26),n(42),n(2),n(30),n(13),n(82),n(98),n(7),n(28),n(68),n(32),n(67),n(49),n(97),n(39),n(37),n(17),n(64),n(65),n(96),n(50),n(69),n(6),n(57),n(95),n(46),n(94),n(55),n(63),n(62),n(45),n(4),t.exports=n(0).default}])},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n.n(i),o=function(){function t(t){var e=this,n=t.id,i=void 0===n?"canvas":n,r=t.width,o=void 0===r?512:r,a=t.height,s=void 0===a?512:a;this.canvas=document.getElementById(i),this.canvas.width=o,this.canvas.height=s,this.aspectRatio=o/s,window.addEventListener("resize",(function(){e.adjustSize()})),window.addEventListener("load",(function(){e.adjustSize()}))}return Object.defineProperty(t.prototype,"renderer",{get:function(){return this.canvas.getContext("2d",{antialias:!0,willReadFrequently:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSide",{get:function(){return Math.max(this.width,this.height)},enumerable:!0,configurable:!0}),t.prototype.adjustSize=function(){this.canvas.style.maxWidth=.9*window.innerWidth<this.width?.9*window.innerWidth+"px":"none",this.canvas.style.maxHeight=.9*window.innerHeight<this.height?.9*window.innerHeight+"px":"none"},t}(),a={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return"number"==typeof t}function l(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function f(t){return t&&"object"===s(t)&&!0===Object.getPrototypeOf(t).isComplex||!1}function c(t){return t&&"object"===s(t)&&!0===Object.getPrototypeOf(t).isFraction||!1}function h(t){return t&&!0===t.constructor.prototype.isUnit||!1}function d(t){return"string"==typeof t}var p=Array.isArray;function y(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function _(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function v(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function m(t){return t&&!0===t.constructor.prototype.isRange||!1}function g(t){return t&&!0===t.constructor.prototype.isIndex||!1}function b(t){return"boolean"==typeof t}function w(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function S(t){return t&&!0===t.constructor.prototype.isHelp||!1}function T(t){return"function"==typeof t}function x(t){return t instanceof Date}function A(t){return t instanceof RegExp}function O(t){return!(!t||"object"!==s(t)||t.constructor!==Object||f(t)||c(t))}function M(t){return null===t}function P(t){return void 0===t}function E(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function k(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function N(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function F(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function C(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function q(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function R(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function j(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function I(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function D(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function B(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function L(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function z(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function U(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function V(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function W(t){return t&&!0===t.constructor.prototype.isChain||!1}function G(t){var e=s(t);return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":l(t)?"BigNumber":f(t)?"Complex":c(t)?"Fraction":y(t)?"Matrix":h(t)?"Unit":g(t)?"Index":m(t)?"Range":w(t)?"ResultSet":D(t)?t.type:W(t)?"Chain":S(t)?"Help":"Object":"function"===e?"Function":e}function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t){var e=Q(t);if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return Z(t)}));if(t instanceof Date)return new Date(t.valueOf());if(l(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return $(t,Z)}function $(t,e){var n={};for(var i in t)Y(t,i)&&(n[i]=e(t[i]));return n}function H(t,e){for(var n in e)Y(e,n)&&(t[n]=e[n]);return t}function X(t,e){var n,i,r;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(i=0,r=t.length;i<r;i++)if(!X(t[i],e[i]))return!1;return!0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!X(t[n],e[n]))return!1;for(n in e)if(!(n in t)||!X(t[n],e[n]))return!1;return!0}return t===e}function Y(t,e){return t&&Object.hasOwnProperty.call(t,e)}var J=["Matrix","Array"],K=["number","BigNumber","Fraction"];function tt(){return(tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var et=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(a)};function nt(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}tt(et,a,{MATRIX_OPTIONS:J,NUMBER_OPTIONS:K});var it=Math.sign||function(t){return t>0?1:t<0?-1:0},rt=Math.log2||function(t){return Math.log(t)/Math.LN2},ot=Math.log10||function(t){return Math.log(t)/Math.LN10},at=(Math.log1p,Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,n?-e:e}),st=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function ut(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,i="auto";switch(e&&(e.notation&&(i=e.notation),u(e)?n=e:u(e.precision)&&(n=e.precision)),i){case"fixed":return ft(t,n);case"exponential":return ct(t,n);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=dt(lt(t),e),i=n.exponent,r=n.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3;if(u(e))for(;e>r.length||i-o+1>r.length;)r.push(0);else for(var a=i>=0?i:Math.abs(o);r.length-1<a;)r.push(0);var s=Math.abs(i-o),l=1;for(;s>0;)l++,s--;var f=r.slice(l).join(""),c=u(e)&&f.length||f.match(/[1-9]/)?"."+f:"",h=r.slice(0,l).join("")+c+"e"+(i>=0?"+":"")+o.toString();return n.sign+h}(t,n);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var r=$(e,(function(t){return t}));return r.exponential=void 0,void 0!==e.exponential.lower&&(r.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(r.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(r)),ht(t,n,r)}return ht(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}}function lt(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],i=e[2],r=parseFloat(e[4]||"0"),o=i.indexOf(".");r+=-1!==o?o-1:i.length-1;var a=i.replace(".","").replace(/^0*/,(function(t){return r-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),r++),{sign:n,coefficients:a,exponent:r}}function ft(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=lt(t),i="number"==typeof e?dt(n,n.exponent+1+e):n,r=i.coefficients,o=i.exponent+1,a=o+(e||0);return r.length<a&&(r=r.concat(pt(a-r.length))),o<0&&(r=pt(1-o).concat(r),o=1),o<r.length&&r.splice(o,0,0===o?"0.":"."),i.sign+r.join("")}function ct(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=lt(t),i=e?dt(n,e):n,r=i.coefficients,o=i.exponent;r.length<e&&(r=r.concat(pt(e-r.length)));var a=r.shift();return i.sign+a+(r.length>0?"."+r.join(""):"")+"e"+(o>=0?"+":"")+o}function ht(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var i=n&&void 0!==n.lowerExp?n.lowerExp:-3,r=n&&void 0!==n.upperExp?n.upperExp:5,o=lt(t),a=e?dt(o,e):o;if(a.exponent<i||a.exponent>=r)return ct(t,e);var s=a.coefficients,u=a.exponent;s.length<e&&(s=s.concat(pt(e-s.length))),s=s.concat(pt(u-s.length+1+(s.length<e?e-s.length:0)));var l=u>0?u:0;return l<(s=pt(-u).concat(s)).length-1&&s.splice(l+1,0,"."),a.sign+s.join("")}function dt(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},i=n.coefficients;e<=0;)i.unshift(0),n.exponent++,e++;if(i.length>e&&i.splice(e,i.length-e)[0]>=5){var r=e-1;for(i[r]++;10===i[r];)i.pop(),0===r&&(i.unshift(0),n.exponent++,r++),i[--r]++}return n}function pt(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var yt=Number.EPSILON||2220446049250313e-31;function _t(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var i=Math.abs(t-e);return i<yt||i<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}var vt=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},mt=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},gt=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},bt=(Math.cosh,Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2});Math.tanh;function wt(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,i="auto";switch(void 0!==e&&(e.notation&&(i=e.notation),"number"==typeof e?n=e:e.precision&&(n=e.precision)),i){case"fixed":return function(t,e){return t.toFixed(e)}(t,n);case"exponential":return St(t,n);case"engineering":return function(t,e){var n=t.e,i=n%3==0?n:n<0?n-3-n%3:n-n%3,r=t.mul(Math.pow(10,-i)),o=r.toPrecision(e);-1!==o.indexOf("e")&&(o=r.toString());return o+"e"+(n>=0?"+":"")+i.toString()}(t,n);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var r=$(e,(function(t){return t}));return r.exponential=void 0,void 0!==e.exponential.lower&&(r.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(r.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(r)),wt(t,r)}var o=e&&void 0!==e.lowerExp?e.lowerExp:-3,a=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var s=t.toSignificantDigits(n),u=s.e;return(u>=o&&u<a?s.toFixed():St(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}}function St(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){return"number"==typeof t?ut(t,e):l(t)?wt(t,e):function(t){return t&&"object"===Tt(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?function t(e,n){if(Array.isArray(e)){for(var i="[",r=e.length,o=0;o<r;o++)0!==o&&(i+=", "),i+=t(e[o],n);return i+="]"}return xt(e,n)}(t,e):d(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"===Tt(t)?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((function(n){return'"'+n+'": '+xt(t[n],e)})).join(", ")+"}":String(t)}function At(t,e,n){if(!(this instanceof At))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function Ot(t,e,n){if(!(this instanceof Ot))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Mt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Pt(t,e){if(0===e.length){if(Array.isArray(t))throw new At(t.length,0)}else!function t(e,n,i){var r,o=e.length;if(o!==n[i])throw new At(o,n[i]);if(i<n.length-1){var a=i+1;for(r=0;r<o;r++){var s=e[r];if(!Array.isArray(s))throw new At(n.length-1,n.length,"<");t(e[r],n,a)}}else for(r=0;r<o;r++)if(Array.isArray(e[r]))throw new At(n.length+1,n.length,">")}(t,e,0)}function Et(t,e){if(!u(t)||!nt(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new Ot(t,e)}function kt(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!u(t)||!nt(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(e)+")")})),function t(e,n,i,r){var o,a,s=e.length,u=n[i],l=Math.min(s,u);if(e.length=u,i<n.length-1){var f=i+1;for(o=0;o<l;o++)a=e[o],Array.isArray(a)||(a=[a],e[o]=a),t(a,n,f,r);for(o=l;o<u;o++)a=[],e[o]=a,t(a,n,f,r)}else{for(o=0;o<l;o++)for(;Array.isArray(e[o]);)e[o]=e[o][0];for(o=l;o<u;o++)e[o]=r}}(t,e,0,void 0!==n?n:0),t}function Nt(t,e){var n,i=Ct(t);function r(t){return t.reduce((function(t,e){return t*e}))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new At(0,r(Mt(t)),"!=");for(var o=1,a=0;a<e.length;a++)o*=e[a];if(i.length!==o)throw new At(r(e),r(Mt(t)),"!=");try{n=function(t,e){for(var n,i=t,r=e.length-1;r>0;r--){var o=e[r];n=[];for(var a=i.length/o,s=0;s<a;s++)n.push(i.slice(s*o,(s+1)*o));i=n}return i}(i,e)}catch(n){if(n instanceof At)throw new At(r(e),r(Mt(t)),"!=");throw n}return n}function Ft(t,e,n,i){var r=i||Mt(t);if(n)for(var o=0;o<n;o++)t=[t],r.unshift(1);for(t=function t(e,n,i){var r,o;if(Array.isArray(e)){var a=i+1;for(r=0,o=e.length;r<o;r++)e[r]=t(e[r],n,a)}else for(var s=i;s<n;s++)e=[e];return e}(t,e,0);r.length<e;)r.push(1);return t}function Ct(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):e.push(n)})),e}function qt(t,e){for(var n,i=0,r=0;r<t.length;r++){var o=t[r],a=Array.isArray(o);if(0===r&&a&&(i=o.length),a&&o.length!==i)return;var s=a?qt(o,e):e(o);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function Rt(t,e,n,i){function r(i){var r=function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i],o=t[r];void 0!==o&&(n[r]=o)}return n}(i,e.map(jt));return function(t,e,n){if(!e.filter((function(t){return!function(t){return t&&"?"===t[0]}(t)})).every((function(t){return void 0!==n[t]}))){var i=e.filter((function(t){return void 0===n[t]}));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map((function(t){return'"'.concat(t,'"')})).join(", "),"."))}}(t,e,i),n(r)}return r.isFactory=!0,r.fn=t,r.dependencies=e.slice().sort(),i&&(r.meta=i),r}function jt(t){return t&&"?"===t[0]?t.slice(1):t}At.prototype=new RangeError,At.prototype.constructor=RangeError,At.prototype.name="DimensionError",At.prototype.isDimensionError=!0,Ot.prototype=new RangeError,Ot.prototype.constructor=RangeError,Ot.prototype.name="IndexError",Ot.prototype.isIndexError=!0;var It=n(1),Dt=n.n(It);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Lt=Rt("Complex",[],(function(){return Dt.a.prototype.type="Complex",Dt.a.prototype.isComplex=!0,Dt.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Dt.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Dt.a.prototype.format=function(t){var e=this.im,n=this.re,i=ut(this.re,t),r=ut(this.im,t),o=u(t)?t:t?t.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(n/e)<a&&(n=0),Math.abs(e/n)<a&&(e=0)}return 0===e?i:0===n?1===e?"i":-1===e?"-i":r+"i":e<0?-1===e?i+" - i":i+" - "+r.substring(1)+"i":1===e?i+" + i":i+" + "+r+"i"},Dt.a.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"===Bt(e))return Dt()(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],i=arguments[1];if(u(n)){if(h(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),u(i))return new Dt.a({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Dt.a.prototype.valueOf=Dt.a.prototype.toString,Dt.a.fromJSON=function(t){return new Dt.a(t)},Dt.a.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Dt.a}),{isClass:!0});function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){return function n(){"object"!==zt(n.cache)&&(n.cache={});for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e(i):JSON.stringify(i);return o in n.cache||(n.cache[o]=t.apply(t,i)),n.cache[o]}}Ut((function(t){return new t(1).exp()}),Wt),Ut((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),Wt);var Vt=Ut((function(t){return t.acos(-1)}),Wt);Ut((function(t){return Vt(t).times(2)}),Wt);function Wt(t){return t[0].precision}Math.PI,Math.PI,Math.E;var Gt=n(9),Qt=n.n(Gt),Zt=Rt("BigNumber",["?on","config"],(function(t){var e=t.on,n=t.config,i=Qt.a.clone({precision:n.precision});return i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(t){return new i(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&i.config({precision:t.precision})})),i}),{isClass:!0}),$t=Rt("Matrix",[],(function(){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.storage=function(t){throw new Error("Matrix.storage is deprecated since v6.0.0. Use the factory function math.matrix instead.")},t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0});Ht("fineStructure",.0072973525693),Ht("weakMixingAngle",.2229),Ht("efimovFactor",22.7),Ht("sackurTetrode",-1.16487052358);function Ht(t,e){return Rt(t,["config","BigNumber"],(function(t){var n=t.config,i=t.BigNumber;return"BigNumber"===n.number?new i(e):e}))}var Xt=n(4),Yt=n.n(Xt),Jt=Rt("Fraction",[],(function(){return Yt.a.prototype.type="Fraction",Yt.a.prototype.isFraction=!0,Yt.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Yt.a.fromJSON=function(t){return new Yt.a(t)},Yt.a}),{isClass:!0}),Kt=Rt("DenseMatrix",["Matrix"],(function(t){var e=t.Matrix;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!d(e))throw new Error("Invalid datatype: "+e);if(y(t))"DenseMatrix"===t.type?(this._data=Z(t._data),this._size=Z(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&p(t.data)&&p(t.size))this._data=t.data,this._size=t.size,Pt(this._data,this._size),this._datatype=e||t.datatype;else if(p(t))this._data=function t(e){for(var n=0,i=e.length;n<i;n++){var r=e[n];p(r)?e[n]=t(r):r&&!0===r.isMatrix&&(e[n]=t(r.valueOf()))}return e}(t),this._size=Mt(this._data),Pt(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+G(t)+")");this._data=[],this._size=[0],this._datatype=e}}function i(t,e){if(!g(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var i=e.size();if(i.length!==t._size.length)throw new At(i.length,t._size.length);for(var r=e.min(),o=e.max(),a=0,s=t._size.length;a<s;a++)Et(r[a],t._size[a]),Et(o[a],t._size[a]);return new n(function t(e,n,i,r){var o=r===i-1,a=n.dimension(r);return o?a.map((function(t){return Et(t,e.length),e[t]})).valueOf():a.map((function(o){Et(o,e.length);var a=e[o];return t(a,n,i,r+1)})).valueOf()}(t._data,e,i.length,0),t._datatype)}function r(t,e,n,i){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var r,o=e.size(),s=e.isScalar();if(y(n)?(r=n.size(),n=n.valueOf()):r=Mt(n),s){if(0!==r.length)throw new TypeError("Scalar expected");t.set(e.min(),n,i)}else{if(o.length<t._size.length)throw new At(o.length,t._size.length,"<");if(r.length<o.length){for(var u=0,l=0;1===o[u]&&1===r[u];)u++;for(;1===o[u];)l++,u++;n=Ft(n,o.length,l,r)}if(!X(o,r))throw new At(o,r,">");a(t,e.max().map((function(t){return t+1})),i);var f=o.length;!function t(e,n,i,r,o){var a=o===r-1,s=n.dimension(o);a?s.forEach((function(t,n){Et(t),e[t]=i[n[0]]})):s.forEach((function(a,s){Et(a),t(e[a],n,i[s[0]],r,o+1)}))}(t._data,e,n,f,0)}return t}function o(t,e,n){if(0===e.length){for(var i=t._data;p(i);)i=i[0];return i}return t._size=e.slice(0),t._data=kt(t._data,t._size,n),t}function a(t,e,n){for(var i=t._size.slice(0),r=!1;i.length<e.length;)i.push(0),r=!0;for(var a=0,s=e.length;a<s;a++)e[a]>i[a]&&(i[a]=e[a],r=!0);r&&o(t,i,n)}return n.prototype=new e,n.prototype.createDenseMatrix=function(t,e){return new n(t,e)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return qt(this._data,G)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return i(this,t);case 2:case 3:return r(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!p(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new At(t.length,this._size.length);for(var e=0;e<t.length;e++)Et(t[e],this._size[e]);for(var n=this._data,i=0,r=t.length;i<r;i++){var o=t[i];Et(o,n.length),n=n[o]}return n},n.prototype.set=function(t,e,n){if(!p(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new At(t.length,this._size.length,"<");var i,r,o;a(this,t.map((function(t){return t+1})),n);var s=this._data;for(i=0,r=t.length-1;i<r;i++)Et(o=t[i],s.length),s=s[o];return Et(o=t[t.length-1],s.length),s[o]=e,this},n.prototype.resize=function(t,e,n){if(!p(t))throw new TypeError("Array expected");return o(n?this.clone():this,t,e)},n.prototype.reshape=function(t,e){var n=e?this.clone():this;return n._data=Nt(n._data,t),n._size=t.slice(0),n},n.prototype.clone=function(){return new n({data:Z(this._data),size:Z(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var e=this,i=function n(i,r){return p(i)?i.map((function(t,e){return n(t,r.concat(e))})):t(i,r,e)}(this._data,[]);return new n(i,void 0!==this._datatype?qt(i,G):void 0)},n.prototype.forEach=function(t){var e=this;!function n(i,r){p(i)?i.forEach((function(t,e){n(t,r.concat(e))})):t(i,r,e)}(this._data,[])},n.prototype.toArray=function(){return Z(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return xt(this._data,t)},n.prototype.toString=function(){return xt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(l(t)&&(t=t.toNumber()),!u(t)||!nt(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,i=t<0?-t:0,r=this._size[0],o=this._size[1],a=Math.min(r-i,o-e),s=[],f=0;f<a;f++)s[f]=this._data[f+i][f+e];return new n({data:s,size:[a],datatype:this._datatype})},n.diagonal=function(t,e,i,r){if(!p(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(l(t)&&(t=t.toNumber()),!u(t)||!nt(t)||t<1)throw new Error("Size values must be positive integers");return t})),i){if(l(i)&&(i=i.toNumber()),!u(i)||!nt(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var o,a=i>0?i:0,s=i<0?-i:0,f=t[0],c=t[1],h=Math.min(f-s,c-a);if(p(e)){if(e.length!==h)throw new Error("Invalid value array length");o=function(t){return e[t]}}else if(y(e)){var d=e.size();if(1!==d.length||d[0]!==h)throw new Error("Invalid matrix length");o=function(t){return e.get([t])}}else o=function(){return e};r||(r=l(o(0))?o(0).mul(0):0);var _=[];if(t.length>0){_=kt(_,t,r);for(var v=0;v<h;v++)_[v+s][v+a]=o(v)}return new n({data:_,size:[f,c]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,e){if(!(u(t)&&nt(t)&&u(e)&&nt(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Et(t,this._size[0]),Et(e,this._size[0]),n._swapRows(t,e,this._data),this},n._swapRows=function(t,e,n){var i=n[t];n[t]=n[e],n[e]=i},n}),{isClass:!0}),te=n(7),ee=n.n(te),ne=function(){return ne=ee.a.create,ee.a},ie=Rt("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var e=t.BigNumber,n=t.Complex,i=t.DenseMatrix,r=t.Fraction,o=ne();return o.types=[{name:"number",test:u},{name:"Complex",test:f},{name:"BigNumber",test:l},{name:"Fraction",test:c},{name:"Unit",test:h},{name:"string",test:d},{name:"Chain",test:W},{name:"Array",test:p},{name:"Matrix",test:y},{name:"DenseMatrix",test:_},{name:"SparseMatrix",test:v},{name:"Range",test:m},{name:"Index",test:g},{name:"boolean",test:b},{name:"ResultSet",test:w},{name:"Help",test:S},{name:"function",test:T},{name:"Date",test:x},{name:"RegExp",test:A},{name:"null",test:M},{name:"undefined",test:P},{name:"AccessorNode",test:E},{name:"ArrayNode",test:k},{name:"AssignmentNode",test:N},{name:"BlockNode",test:F},{name:"ConditionalNode",test:C},{name:"ConstantNode",test:q},{name:"FunctionNode",test:j},{name:"FunctionAssignmentNode",test:R},{name:"IndexNode",test:I},{name:"Node",test:D},{name:"ObjectNode",test:B},{name:"OperatorNode",test:L},{name:"ParenthesisNode",test:z},{name:"RangeNode",test:U},{name:"SymbolNode",test:V},{name:"Object",test:O}],o.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||re(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return n||oe(t),new n(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return n||oe(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||oe(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){r||ae(t);var e=new r(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||re(t);try{return new e(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){r||ae(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||oe(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||re(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return r||ae(t),new r(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return i||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],o}));function re(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function oe(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function ae(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var se="number";function ue(t){return t<0}function le(t){return t>0}function fe(t){return 0===t}function ce(t){return Number.isNaN(t)}ue.signature=se,le.signature=se,fe.signature=se,ce.signature=se;function he(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var i=t.minus(e).abs();if(i.isZero())return!0;var r=t.constructor.max(t.abs(),e.abs());return i.lte(r.times(n))}return!1}var de=Rt("equalScalar",["typed","config"],(function(t){var e=t.typed,n=t.config,i=e("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return _t(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||he(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,n){return _t(t.re,e.re,n)&&_t(t.im,e.im,n)}(t,e,n.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return i(t.value,e.value)}});return i})),pe=(Rt("equalScalar",["typed","config"],(function(t){var e=t.typed,n=t.config;return e("equalScalar",{"number, number":function(t,e){return _t(t,e,n.epsilon)}})})),"number, number");function ye(t){return Math.abs(t)}function _e(t,e){return t+e}function ve(t,e){return t*e}function me(t){return-t}function ge(t){return t}function be(t){return at(t)}function we(t){return Math.ceil(t)}function Se(t){return t*t*t}function Te(t){return Math.exp(t)}function xe(t){return st(t)}function Ae(t,e){if(!nt(t)||!nt(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==e;)n=t%e,t=e,e=n;return t<0?-t:t}function Oe(t,e){if(!nt(t)||!nt(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var n,i=t*e;0!==e;)e=t%(n=e),t=n;return Math.abs(i/t)}function Me(t){return Math.log(t)}function Pe(t){return ot(t)}function Ee(t){return rt(t)}function ke(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function Ne(t,e){var n=e<0;if(n&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===t)return n?1/0:0;if(!isFinite(t))return n?0:t;var i=Math.pow(Math.abs(t),1/e);return i=t<0?-i:i,n?1/i:i}function Fe(t){return it(t)}function Ce(t){return t*t}function qe(t,e){var n,i,r,o=0,a=1,s=1,u=0;if(!nt(t)||!nt(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)r=t-(i=Math.floor(t/e))*e,n=o,o=a-i*o,a=n,n=s,s=u-i*s,u=n,t=e,e=r;return t<0?[-t,-a,-u]:[t,t?a:0,u]}function Re(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function je(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(ft(t,e))}ye.signature="number",_e.signature=pe,ve.signature=pe,me.signature="number",ge.signature="number",be.signature="number",we.signature="number",Se.signature="number",Te.signature="number",xe.signature="number",Ae.signature=pe,Oe.signature=pe,Me.signature="number",Pe.signature="number",Ee.signature="number",ke.signature=pe,Ne.signature=pe,Fe.signature="number",Ce.signature="number",qe.signature=pe,Re.signature=pe,je.signature=pe;var Ie=Rt("multiplyScalar",["typed"],(function(t){var e=(0,t.typed)("multiplyScalar",{"number, number":ve,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,n){var i=n.clone();return i.value=null===i.value?i._normalize(t):e(i.value,t),i},"Unit, number | Fraction | BigNumber | Complex":function(t,n){var i=t.clone();return i.value=null===i.value?i._normalize(n):e(i.value,n),i},"Unit, Unit":function(t,e){return t.multiply(e)}});return e}));var De="number, number";function Be(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function bitAnd");return t&e}function Le(t){if(!nt(t))throw new Error("Integer expected in function bitNot");return~t}function ze(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function bitOr");return t|e}function Ue(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function bitXor");return t^e}function Ve(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function leftShift");return t<<e}function We(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function Ge(t,e){if(!nt(t)||!nt(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}Be.signature=De,Le.signature="number",ze.signature=De,Ue.signature=De,Ve.signature=De,We.signature=De,Ge.signature=De;function Qe(t){return!t}function Ze(t,e){return!(!t&&!e)}function $e(t,e){return!!t!=!!e}function He(t,e){return!(!t||!e)}Qe.signature="number",Ze.signature="number, number",$e.signature="number, number",He.signature="number, number";Math.pow(2,53);function Xe(t){return vt(t)}function Ye(t){return Math.atan(1/t)}function Je(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function Ke(t){return Math.asin(1/t)}function tn(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function en(t){return Math.acos(1/t)}function nn(t){var e=1/t,n=Math.sqrt(e*e-1);return Math.log(n+e)}function rn(t){return mt(t)}function on(t){return gt(t)}function an(t){return 1/Math.tan(t)}function sn(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function un(t){return 1/Math.sin(t)}function ln(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*it(t)}function fn(t){return 1/Math.cos(t)}function cn(t){return 2/(Math.exp(t)+Math.exp(-t))}function hn(t){return bt(t)}Xe.signature="number",Ye.signature="number",Je.signature="number",Ke.signature="number",tn.signature="number",en.signature="number",nn.signature="number",rn.signature="number",on.signature="number",an.signature="number",sn.signature="number",un.signature="number",ln.signature="number",fn.signature="number",cn.signature="number",hn.signature="number";function dn(t,e){if(e<t)return 1;if(e===t)return e;var n=e+t>>1;return dn(t,n)*dn(n+1,e)}function pn(t,e){if(!nt(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!nt(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");var n=t-e;return e<n?dn(n+1,t)/dn(1,e):dn(e+1,t)/dn(1,n)}pn.signature="number, number";n(6);yn={};var yn,_n=Rt("addScalar",["typed"],(function(t){var e=(0,t.typed)("addScalar",{"number, number":_e,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,n){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(n))throw new Error("Units do not match");var i=t.clone();return i.value=e(i.value,n.value),i.fixPrefix=!1,i}});return e}));var vn=Rt("SparseMatrix",["typed","equalScalar","Matrix"],(function(t){var e=t.typed,n=t.equalScalar,i=t.Matrix;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!d(e))throw new Error("Invalid datatype: "+e);if(y(t))!function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?Z(e._values):void 0,t._index=Z(e._index),t._ptr=Z(e._ptr),t._size=Z(e._size),t._datatype=n||e._datatype):o(t,e.valueOf(),n||e._datatype)}(this,t,e);else if(t&&p(t.index)&&p(t.ptr)&&p(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(p(t))o(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+G(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function o(t,i,r){t._values=[],t._index=[],t._ptr=[],t._datatype=r;var o=i.length,a=0,s=n,u=0;if(d(r)&&(s=e.find(n,[r,r])||n,u=e.convert(0,r)),o>0){var l=0;do{t._ptr.push(t._index.length);for(var f=0;f<o;f++){var c=i[f];if(p(c)){if(0===l&&a<c.length&&(a=c.length),l<c.length){var h=c[l];s(h,u)||(t._values.push(h),t._index.push(f))}}else 0===l&&a<1&&(a=1),s(c,u)||(t._values.push(c),t._index.push(f))}l++}while(l<a)}t._ptr.push(t._index.length),t._size=[o,a]}function a(t,e){if(!g(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,i,o,a,s=e.size();if(s.length!==t._size.length)throw new At(s.length,t._size.length);var u=e.min(),l=e.max();for(n=0,i=t._size.length;n<i;n++)Et(u[n],t._size[n]),Et(l[n],t._size[n]);var f=t._values,c=t._index,h=t._ptr,d=e.dimension(0),p=e.dimension(1),y=[],_=[];d.forEach((function(t,e){_[t]=e[0],y[t]=!0}));var v=f?[]:void 0,m=[],b=[];return p.forEach((function(t){for(b.push(m.length),o=h[t],a=h[t+1];o<a;o++)n=c[o],!0===y[n]&&(m.push(_[n]),v&&v.push(f[o]))})),b.push(m.length),new r({values:v,index:m,ptr:b,size:s,datatype:t._datatype})}function s(t,e,n,i){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var r,o=e.size(),a=e.isScalar();if(y(n)?(r=n.size(),n=n.toArray()):r=Mt(n),a){if(0!==r.length)throw new TypeError("Scalar expected");t.set(e.min(),n,i)}else{if(1!==o.length&&2!==o.length)throw new At(o.length,t._size.length,"<");if(r.length<o.length){for(var s=0,u=0;1===o[s]&&1===r[s];)s++;for(;1===o[s];)u++,s++;n=Ft(n,o.length,u,r)}if(!X(o,r))throw new At(o,r,">");for(var l=e.min()[0],f=e.min()[1],c=r[0],h=r[1],d=0;d<c;d++)for(var p=0;p<h;p++){var _=n[d][p];t.set([d+l,p+f],_,i)}}return t}function f(t,e,n,i){if(n-e==0)return n;for(var r=e;r<n;r++)if(i[r]===t)return r;return e}function c(t,e,n,i,r,o,a){r.splice(t,0,i),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++}function h(t,i,r,o){var a=o||0,s=n,u=0;d(t._datatype)&&(s=e.find(n,[t._datatype,t._datatype])||n,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var l,f,c,h=!s(a,u),p=t._size[0],y=t._size[1];if(r>y){for(f=y;f<r;f++)if(t._ptr[f]=t._values.length,h)for(l=0;l<p;l++)t._values.push(a),t._index.push(l);t._ptr[r]=t._values.length}else r<y&&(t._ptr.splice(r+1,y-r),t._values.splice(t._ptr[r],t._values.length),t._index.splice(t._ptr[r],t._index.length));if(y=r,i>p){if(h){var _=0;for(f=0;f<y;f++){t._ptr[f]=t._ptr[f]+_,c=t._ptr[f+1]+_;var v=0;for(l=p;l<i;l++,v++)t._values.splice(c+v,0,a),t._index.splice(c+v,0,l),_++}t._ptr[y]=t._values.length}}else if(i<p){var m=0;for(f=0;f<y;f++){t._ptr[f]=t._ptr[f]-m;var g=t._ptr[f],b=t._ptr[f+1]-m;for(c=g;c<b;c++)(l=t._index[c])>i-1&&(t._values.splice(c,1),t._index.splice(c,1),m++)}t._ptr[f]=t._values.length}return t._size[0]=i,t._size[1]=r,t}function _(t,e,n,i,r){var o,a,s=i[0],u=i[1],l=[];for(o=0;o<s;o++)for(l[o]=[],a=0;a<u;a++)l[o][a]=0;for(a=0;a<u;a++)for(var f=n[a],c=n[a+1],h=f;h<c;h++)l[o=e[h]][a]=t?r?Z(t[h]):t[h]:1;return l}return r.prototype=new i,r.prototype.createSparseMatrix=function(t,e){return new r(t,e)},r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return qt(this._values,G)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(t,e){return new r(t,e)},r.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},r.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,t);case 2:case 3:return s(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(t){if(!p(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new At(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];Et(e,this._size[0]),Et(n,this._size[1]);var i=f(e,this._ptr[n],this._ptr[n+1],this._index);return i<this._ptr[n+1]&&this._index[i]===e?this._values[i]:0},r.prototype.set=function(t,i,r){if(!p(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new At(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=t[0],a=t[1],s=this._size[0],u=this._size[1],l=n,y=0;d(this._datatype)&&(l=e.find(n,[this._datatype,this._datatype])||n,y=e.convert(0,this._datatype)),(o>s-1||a>u-1)&&(h(this,Math.max(o+1,s),Math.max(a+1,u),r),s=this._size[0],u=this._size[1]),Et(o,s),Et(a,u);var _=f(o,this._ptr[a],this._ptr[a+1],this._index);return _<this._ptr[a+1]&&this._index[_]===o?l(i,y)?function(t,e,n,i,r){n.splice(t,1),i.splice(t,1);for(var o=e+1;o<r.length;o++)r[o]--}(_,a,this._values,this._index,this._ptr):this._values[_]=i:c(_,o,a,i,this._values,this._index,this._ptr),this},r.prototype.resize=function(t,e,n){if(!p(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");return t.forEach((function(e){if(!u(e)||!nt(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(t)+")")})),h(n?this.clone():this,t[0],t[1],e)},r.prototype.reshape=function(t,e){if(!p(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!u(e)||!nt(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var i=[],r=0;r<n._ptr.length;r++)for(var o=0;o<n._ptr[r+1]-n._ptr[r];o++)i.push(r);for(var a=n._values.slice(),s=n._index.slice(),l=0;l<n._index.length;l++){var h=s[l],d=i[l],y=h*n._size[1]+d;i[l]=y%t[1],s[l]=Math.floor(y/t[1])}n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var _=0;_<n._ptr.length;_++)n._ptr[_]=0;for(var v=0;v<a.length;v++){var m=s[v],g=i[v],b=a[v];c(f(m,n._ptr[g],n._ptr[g+1],n._index),m,g,b,n._values,n._index,n._ptr)}return n},r.prototype.clone=function(){return new r({values:this._values?Z(this._values):void 0,index:Z(this._index),ptr:Z(this._ptr),size:Z(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(t,i){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this;return function(t,i,o,a,s,u,l){var f=[],c=[],h=[],p=n,y=0;d(t._datatype)&&(p=e.find(n,[t._datatype,t._datatype])||n,y=e.convert(0,t._datatype));for(var _=function(t,e,n){t=u(t,e,n),p(t,y)||(f.push(t),c.push(e))},v=a;v<=s;v++){h.push(f.length);var m=t._ptr[v],g=t._ptr[v+1];if(l)for(var b=m;b<g;b++){var w=t._index[b];w>=i&&w<=o&&_(t._values[b],w-i,v-a)}else{for(var S={},T=m;T<g;T++){var x=t._index[T];S[x]=t._values[T]}for(var A=i;A<=o;A++){var O=A in S?S[A]:0;_(O,A-i,v-a)}}}return h.push(f.length),new r({values:f,index:c,ptr:h,size:[o-i+1,s-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,n,i){return t(e,[n,i],o)}),i)},r.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],i=this._size[1],r=0;r<i;r++){var o=this._ptr[r],a=this._ptr[r+1];if(e)for(var s=o;s<a;s++){var u=this._index[s];t(this._values[s],[u,r],this)}else{for(var l={},f=o;f<a;f++){l[this._index[f]]=this._values[f]}for(var c=0;c<n;c++){t(c in l?l[c]:0,[c,r],this)}}}},r.prototype.toArray=function(){return _(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return _(this._values,this._index,this._ptr,this._size,!1)},r.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],i=this.density(),r="Sparse Matrix ["+xt(e,t)+" x "+xt(n,t)+"] density: "+xt(i,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],u=a;u<s;u++){r+="\n    ("+xt(this._index[u],t)+", "+xt(o,t)+") ==> "+(this._values?xt(this._values[u],t):"X")}return r},r.prototype.toString=function(){return xt(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(t){if(t){if(l(t)&&(t=t.toNumber()),!u(t)||!nt(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,i=this._size[0],o=this._size[1],a=Math.min(i-n,o-e),s=[],f=[],c=[];c[0]=0;for(var h=e;h<o&&s.length<a;h++)for(var d=this._ptr[h],p=this._ptr[h+1],y=d;y<p;y++){var _=this._index[y];if(_===h-e+n){s.push(this._values[y]),f[s.length-1]=_-n;break}}return c.push(s.length),new r({values:s,index:f,ptr:c,size:[a,1]})},r.fromJSON=function(t){return new r(t)},r.diagonal=function(t,i,o,a,s){if(!p(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(l(t)&&(t=t.toNumber()),!u(t)||!nt(t)||t<1)throw new Error("Size values must be positive integers");return t})),o){if(l(o)&&(o=o.toNumber()),!u(o)||!nt(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var f=n,c=0;d(s)&&(f=e.find(n,[s,s])||n,c=e.convert(0,s));var h,_=o>0?o:0,v=o<0?-o:0,m=t[0],g=t[1],b=Math.min(m-v,g-_);if(p(i)){if(i.length!==b)throw new Error("Invalid value array length");h=function(t){return i[t]}}else if(y(i)){var w=i.size();if(1!==w.length||w[0]!==b)throw new Error("Invalid matrix length");h=function(t){return i.get([t])}}else h=function(){return i};for(var S=[],T=[],x=[],A=0;A<g;A++){x.push(S.length);var O=A-_;if(O>=0&&O<b){var M=h(O);f(M,c)||(T.push(O+v),S.push(M))}}return x.push(S.length),new r({values:S,index:T,ptr:x,size:[m,g]})},r.prototype.swapRows=function(t,e){if(!(u(t)&&nt(t)&&u(e)&&nt(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Et(t,this._size[0]),Et(e,this._size[0]),r._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(t,e,n,i,r){for(var o=i[t],a=i[t+1],s=o;s<a;s++)r(n[s],e[s])},r._swapRows=function(t,e,n,i,r,o){for(var a=0;a<n;a++){var s=o[a],u=o[a+1],l=f(t,s,u,r),c=f(e,s,u,r);if(l<u&&c<u&&r[l]===t&&r[c]===e){if(i){var h=i[l];i[l]=i[c],i[c]=h}}else if(l<u&&r[l]===t&&(c>=u||r[c]!==e)){var d=i?i[l]:void 0;r.splice(c,0,e),i&&i.splice(c,0,d),r.splice(c<=l?l+1:l,1),i&&i.splice(c<=l?l+1:l,1)}else if(c<u&&r[c]===e&&(l>=u||r[l]!==t)){var p=i?i[c]:void 0;r.splice(l,0,t),i&&i.splice(l,0,p),r.splice(l<=c?c+1:c,1),i&&i.splice(l<=c?c+1:c,1)}}},r}),{isClass:!0}),mn=Rt("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=(t.Matrix,t.DenseMatrix),i=t.SparseMatrix;return e("matrix",{"":function(){return r([])},string:function(t){return r([],t)},"string, string":function(t,e){return r([],t,e)},Array:function(t){return r(t)},Matrix:function(t){return r(t,t.storage())},"Array | Matrix, string":r,"Array | Matrix, string, string":r});function r(t,e,r){if("dense"===e||"default"===e||void 0===e)return new n(t,r);if("sparse"===e)return new i(t,r);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),gn=Rt("algorithm14",["typed"],(function(t){var e=t.typed;return function(t,n,i,r){var o,a=t._data,s=t._size,u=t._datatype,l=i;"string"==typeof u&&(o=u,n=e.convert(n,o),l=e.find(i,[o,o]));var f=s.length>0?function t(e,n,i,r,o,a,s){var u=[];if(n===i.length-1)for(var l=0;l<r;l++)u[l]=s?e(a,o[l]):e(o[l],a);else for(var f=0;f<r;f++)u[f]=t(e,n+1,i,i[n+1],o[f],a,s);return u}(l,0,s,s[0],a,n,r):[];return t.createDenseMatrix({data:f,size:Z(s),datatype:o})}})),bn=Rt("algorithm11",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,i,r,o){var a=t._values,s=t._index,u=t._ptr,l=t._size,f=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c,h=l[0],d=l[1],p=n,y=0,_=r;"string"==typeof f&&(c=f,p=e.find(n,[c,c]),y=e.convert(0,c),i=e.convert(i,c),_=e.find(r,[c,c]));for(var v=[],m=[],g=[],b=0;b<d;b++){g[b]=m.length;for(var w=u[b],S=u[b+1],T=w;T<S;T++){var x=s[T],A=o?_(i,a[T]):_(a[T],i);p(A,y)||(m.push(x),v.push(A))}}return g[d]=m.length,t.createSparseMatrix({values:v,index:m,ptr:g,size:[h,d],datatype:c})}}));Rt("unequal",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:!n(t,e)}})}));var wn=Rt("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar"],(function(t){var e=t.typed,n=t.matrix,i=t.addScalar,r=t.multiplyScalar,o=t.equalScalar,a=bn({typed:e,equalScalar:o}),s=gn({typed:e}),u=e("multiply",H({"Array, Array":function(t,e){l(Mt(t),Mt(e));var i=u(n(t),n(e));return y(i)?i.valueOf():i},"Matrix, Matrix":function(t,n){var o=t.size(),a=n.size();return l(o,a),1===o.length?1===a.length?function(t,n,o){if(0===o)throw new Error("Cannot multiply two empty vectors");var a,s=t._data,u=t._datatype,l=n._data,f=n._datatype,c=i,h=r;u&&f&&u===f&&"string"==typeof u&&(a=u,c=e.find(i,[a,a]),h=e.find(r,[a,a]));for(var d=h(s[0],l[0]),p=1;p<o;p++)d=c(d,h(s[p],l[p]));return d}(t,n,o[0]):function(t,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,f=n._size,c=n._datatype,h=s[0],d=f[1],p=i,y=r;u&&c&&u===c&&"string"==typeof u&&(o=u,p=e.find(i,[o,o]),y=e.find(r,[o,o]));for(var _=[],v=0;v<d;v++){for(var m=y(a[0],l[0][v]),g=1;g<h;g++)m=p(m,y(a[g],l[g][v]));_[v]=m}return t.createDenseMatrix({data:_,size:[d],datatype:o})}(t,n)}(t,n):1===a.length?f(t,n):c(t,n)},"Matrix, Array":function(t,e){return u(t,n(e))},"Array, Matrix":function(t,e){return u(n(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return a(t,e,r,!1)},"DenseMatrix, any":function(t,e){return s(t,e,r,!1)},"any, SparseMatrix":function(t,e){return a(e,t,r,!0)},"any, DenseMatrix":function(t,e){return s(e,t,r,!0)},"Array, any":function(t,e){return s(n(t),e,r,!1).valueOf()},"any, Array":function(t,e){return s(n(e),t,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(t,e,n){for(var i=u(t,e),r=0;r<n.length;r++)i=u(i,n[r]);return i}},r.signatures));function l(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}var f=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,f=n._datatype,c=s[0],h=s[1],d=i,p=r;u&&f&&u===f&&"string"==typeof u&&(o=u,d=e.find(i,[o,o]),p=e.find(r,[o,o]));for(var y=[],_=0;_<c;_++){for(var v=a[_],m=p(v[0],l[0]),g=1;g<h;g++)m=d(m,p(v[g],l[g]));y[_]=m}return t.createDenseMatrix({data:y,size:[c],datatype:o})},"SparseMatrix, any":function(t,n){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var f,c=n._data,h=n._datatype,d=t._size[0],p=n._size[0],y=[],_=[],v=[],m=i,g=r,b=o,w=0;l&&h&&l===h&&"string"==typeof l&&(f=l,m=e.find(i,[f,f]),g=e.find(r,[f,f]),b=e.find(o,[f,f]),w=e.convert(0,f));var S=[],T=[];v[0]=0;for(var x=0;x<p;x++){var A=c[x];if(!b(A,w))for(var O=u[x],M=u[x+1],P=O;P<M;P++){var E=s[P];T[E]?S[E]=m(S[E],g(A,a[P])):(T[E]=!0,_.push(E),S[E]=g(A,a[P]))}}for(var k=_.length,N=0;N<k;N++){var F=_[N];y[N]=S[F]}return v[1]=_.length,t.createSparseMatrix({values:y,index:_,ptr:v,size:[d,1],datatype:f})}}),c=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,f=n._size,c=n._datatype,h=s[0],d=s[1],p=f[1],y=i,_=r;u&&c&&u===c&&"string"==typeof u&&(o=u,y=e.find(i,[o,o]),_=e.find(r,[o,o]));for(var v=[],m=0;m<h;m++){var g=a[m];v[m]=[];for(var b=0;b<p;b++){for(var w=_(g[0],l[0][b]),S=1;S<d;S++)w=y(w,_(g[S],l[S][b]));v[m][b]=w}}return t.createDenseMatrix({data:v,size:[h,p],datatype:o})},"DenseMatrix, SparseMatrix":function(t,n){var a=t._data,s=t._size,u=t._datatype,l=n._values,f=n._index,c=n._ptr,h=n._size,d=n._datatype;if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,y=s[0],_=h[1],v=i,m=r,g=o,b=0;u&&d&&u===d&&"string"==typeof u&&(p=u,v=e.find(i,[p,p]),m=e.find(r,[p,p]),g=e.find(o,[p,p]),b=e.convert(0,p));for(var w=[],S=[],T=[],x=n.createSparseMatrix({values:w,index:S,ptr:T,size:[y,_],datatype:p}),A=0;A<_;A++){T[A]=S.length;var O=c[A],M=c[A+1];if(M>O)for(var P=0,E=0;E<y;E++){for(var k=E+1,N=void 0,F=O;F<M;F++){var C=f[F];P!==k?(N=m(a[E][C],l[F]),P=k):N=v(N,m(a[E][C],l[F]))}P!==k||g(N,b)||(S.push(E),w.push(N))}}return T[_]=S.length,x},"SparseMatrix, DenseMatrix":function(t,n){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var f,c=n._data,h=n._datatype,d=t._size[0],p=n._size[0],y=n._size[1],_=i,v=r,m=o,g=0;l&&h&&l===h&&"string"==typeof l&&(f=l,_=e.find(i,[f,f]),v=e.find(r,[f,f]),m=e.find(o,[f,f]),g=e.convert(0,f));for(var b=[],w=[],S=[],T=t.createSparseMatrix({values:b,index:w,ptr:S,size:[d,y],datatype:f}),x=[],A=[],O=0;O<y;O++){S[O]=w.length;for(var M=O+1,P=0;P<p;P++){var E=c[P][O];if(!m(E,g))for(var k=u[P],N=u[P+1],F=k;F<N;F++){var C=s[F];A[C]!==M?(A[C]=M,w.push(C),x[C]=v(E,a[F])):x[C]=_(x[C],v(E,a[F]))}}for(var q=S[O],R=w.length,j=q;j<R;j++){var I=w[j];b[j]=x[I]}}return S[y]=w.length,T},"SparseMatrix, SparseMatrix":function(t,n){var o,a=t._values,s=t._index,u=t._ptr,l=t._datatype,f=n._values,c=n._index,h=n._ptr,d=n._datatype,p=t._size[0],y=n._size[1],_=a&&f,v=i,m=r;l&&d&&l===d&&"string"==typeof l&&(o=l,v=e.find(i,[o,o]),m=e.find(r,[o,o]));for(var g,b,w,S,T,x,A,O,M=_?[]:void 0,P=[],E=[],k=t.createSparseMatrix({values:M,index:P,ptr:E,size:[p,y],datatype:o}),N=_?[]:void 0,F=[],C=0;C<y;C++){E[C]=P.length;var q=C+1;for(T=h[C],x=h[C+1],S=T;S<x;S++)if(O=c[S],_)for(b=u[O],w=u[O+1],g=b;g<w;g++)A=s[g],F[A]!==q?(F[A]=q,P.push(A),N[A]=m(f[S],a[g])):N[A]=v(N[A],m(f[S],a[g]));else for(b=u[O],w=u[O+1],g=b;g<w;g++)A=s[g],F[A]!==q&&(F[A]=q,P.push(A));if(_)for(var R=E[C],j=P.length,I=R;I<j;I++){var D=P[I];M[I]=N[D]}}return E[y]=P.length,k}});return u}));function Sn(t,e,n,i){if(!(this instanceof Sn))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}Sn.prototype=new Error,Sn.prototype.constructor=Error,Sn.prototype.name="ArgumentsError",Sn.prototype.isArgumentsError=!0;n(5);function Tn(t){var e;if(nt(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:dn(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Tn(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,i=n*t,r=i*t,o=r*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*i)-571/(2488320*r)+163879/(209018880*o)+5246819/(75246796800*o*t))}--t,e=An[0];for(var a=1;a<An.length;++a)e+=An[a]/(t+a);var s=t+xn+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}Tn.signature="number";var xn=4.7421875,An=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];Rt("equal",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)}})}));var On,Mn=Lt({}),Pn=Zt({config:et}),En=$t({}),kn=Jt({}),Nn=Kt({Matrix:En}),Fn=ie({BigNumber:Pn,Complex:Mn,DenseMatrix:Nn,Fraction:kn}),Cn=de({config:et,typed:Fn}),qn=Ie({typed:Fn}),Rn=_n({typed:Fn}),jn=vn({Matrix:En,equalScalar:Cn,typed:Fn}),In=mn({DenseMatrix:Nn,Matrix:En,SparseMatrix:jn,typed:Fn}),Dn=wn({addScalar:Rn,equalScalar:Cn,matrix:In,multiplyScalar:qn,typed:Fn}),Bn=function(t){return new DOMMatrix([t.get([0,0]),t.get([1,0]),t.get([0,1]),t.get([1,1]),t.get([0,2]),t.get([1,2])])},Ln=function(){function t(t){var e=t.x,n=t.y,i=t.scale,r=void 0===i?1:i;this.children=[],this.parent=null,this.scale=1,this.position=[e,n],this.scale=r}return Object.defineProperty(t.prototype,"transformMatrix",{get:function(){var t=In([[this.scale,0,this.position[0]],[0,this.scale,this.position[1]],[0,0,1]]);return this.parent?Dn(this.parent.transformMatrix,t):t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.position[0]},set:function(t){this.position[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position[1]},set:function(t){this.position[1]=t},enumerable:!0,configurable:!0}),t.prototype.addChild=function(t){t.parent=this,this.children.push(t)},t.prototype.remove=function(t){var e=r.a.remove(this.children,t);return r.a.isEmpty(e)?null:e[0]},t.prototype.clear=function(){this.children=[]},t.prototype.beforeDraw=function(t){this.parent?t.renderer.setTransform(Bn(this.parent.transformMatrix)):t.renderer.resetTransform()},t.prototype.draw=function(t){this.children.forEach((function(e){e.draw(t)})),this.beforeDraw(t)},t}();!function(t){t[t.MIDI=0]="MIDI",t[t.SAMPLER=1]="SAMPLER"}(On||(On={}));var zn,Un=function(){function t(){}return t.toInt=function(t){return this.map[t]},t.fromInt=function(t){return r.a.keys(this.map)[t]},t.map={C:0,"C#":1,D:2,"D#":3,E:4,F:5,"F#":6,G:7,"G#":8,A:9,"A#":10,B:11},t}(),Vn=function(){function t(t,e){void 0===e&&(e=0),this.val=t,this.mod=e}return Object.defineProperty(t.prototype,"sum",{get:function(){return this.val+this.mod},enumerable:!0,configurable:!0}),t}(),Wn=(zn=function(t,e){return(zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Gn(t,e){return(t+e)%(2*Math.PI)}var Qn=function(t){function e(e,n){var i=e.x,r=e.y,o=e.scale,a=void 0===o?1:o,s=t.call(this,{x:i,y:r,scale:a})||this;return s.PULSE_SIZE=1.3,s.PULSE_SPEED=5,s.style={margin:.01,stepsLineLength:.91},s.options={size:1,distance:0,fill:"white",stroke:"black",phase:0,opacity:1,mass:1,steps:0,triggerCallback:function(){}},s.angle=0,s.pulse=0,Object.assign(s.options,n),s.reset(),s}return Wn(e,t),e.prototype.addChild=function(e){var n=this;t.prototype.addChild.call(this,e),e.options.triggerCallback=function(t,e){return n.onChildTriggered(t,e)}},e.prototype.onChildTriggered=function(t,e){},e.prototype.onTriggered=function(t){this.options.triggerCallback(this,t),this.pulse=this.PULSE_SIZE},e.prototype.reset=function(){this.angle=this.options.phase*Math.PI*2},e.prototype.update=function(t,e){var n=this.options,i=n.distance,r=n.mass,o=n.steps,a=this.angle,s=e/60*Math.PI/2;if(i>0){var u=r*Math.log(1+i)/Math.log(2);this.angle=(this.angle+t*s/i)%(2*Math.PI),this.position=[Math.cos(this.angle)*u,Math.sin(this.angle)*u]}if(o>0){var l=Gn(a,Math.PI/2)/Math.PI/2*o%1;Gn(this.angle,Math.PI/2)/Math.PI/2*o%1<l&&this.onTriggered(Math.floor(Gn(this.angle,Math.PI/2)/Math.PI/2*o))}this.pulse=Math.max(0,this.pulse-t*this.PULSE_SPEED),this.children.forEach((function(n){n.update(t,e)}))},e.prototype.draw=function(e){t.prototype.draw.call(this,e);var n=e.renderer,i=this.options,r=i.fill,o=i.stroke,a=i.size,s=i.opacity;n.fillStyle=r,n.strokeStyle=o,n.globalAlpha=s,n.beginPath(),n.arc(this.x,this.y,a*this.scale,0,2*Math.PI),n.closePath(),n.fill(),n.stroke(),this.pulse>0&&this.drawPulse(e)},e.prototype.drawPulse=function(t){var e=this.options,n=e.size,i=e.stroke,r=t.renderer;r.globalAlpha=this.pulse,r.strokeStyle=i,r.beginPath(),r.arc(this.x,this.y,(1+this.PULSE_SIZE-this.pulse)*n*this.scale,0,2*Math.PI),r.closePath(),r.stroke()},e.prototype.drawConnections=function(t,e){void 0===e&&(e=1);var n=this.options.stroke,i=t.renderer;this.parent&&i.setTransform(Bn(this.transformMatrix)),this.children.forEach((function(t){i.globalAlpha=e,i.strokeStyle=n,i.beginPath(),i.moveTo(0,0),i.lineTo(t.x,t.y),i.closePath(),i.stroke()})),this.children.forEach((function(n){n.drawConnections(t,e)}))},e}(Ln),Zn=function(t){function e(e){var n=e.distance,i=e.steps,r=e.phase;return t.call(this,{x:0,y:0},{steps:i,distance:n,phase:r,mass:.25,size:.02,fill:"#ff0000"})||this}return Wn(e,t),e}(Qn),$n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hn=function(t){function e(e){var n=e.distance,i=e.steps,r=void 0===i?1:i,o=e.phase,a=void 0===o?0:o,s=e.gate,u=void 0===s?[0,1]:s,l=t.call(this,{distance:n,steps:r,phase:a})||this;return l.modulationParams={gate:[0]},l.modulationParams.gate=u,l}return $n(e,t),e}(Zn),Xn=function(t){function e(e){var n=e.distance,i=e.phase,r=void 0===i?0:i,o=e.repeats,a=t.call(this,{distance:n,steps:1,phase:r})||this;return a.modulationParams={repeats:0},a.options.fill="green",a.modulationParams.repeats=o,a}return $n(e,t),e}(Zn),Yn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jn=function(t){function e(e){var n=e.x,i=e.y,r=e.type,o=e.channel,a=void 0===o?null:o,s=e.scale,u=void 0===s?1:s,l=e.noteTriggerCallback,f=void 0===l?function(){}:l,c=t.call(this,{x:n,y:i,scale:u},{type:r,channel:a,size:.07,fill:"#eeeeee"})||this;return c.noteTriggerCallback=f,c}return Yn(e,t),e.prototype.onChildTriggered=function(t,e){t instanceof Kn&&this.noteTriggerCallback(t.parameters,e)},e.prototype.drawStepLine=function(t){var e=this.options,n=e.stroke,i=e.size,r=t.renderer;r.globalAlpha=.1,r.strokeStyle=n,r.beginPath(),r.lineWidth=1/t.maxSide,r.moveTo(0,-1*(i+this.style.margin)),r.lineTo(0,-1*this.style.stepsLineLength),r.closePath(),r.stroke()},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this.drawStepLine(e)},e}(Qn),Kn=function(t){function e(e){var n=e.octave,i=e.distance,r=e.note,o=e.phase,a=void 0===o?0:o,s=e.gate,u=void 0===s?.5:s,l=e.fill,f=void 0===l?"#eeeeee":l,c=t.call(this,{x:0,y:0},{distance:i,phase:a,steps:1,size:.08-.01*n,fill:f})||this;return c.parameters={gate:new Vn(.5),note:new Vn(0),octave:new Vn(1),repeats:new Vn(0),length:new Vn(1)},c.parameters.length.val=1/i,c.parameters.gate.val=u,c.parameters.note.val=Un.toInt(r),c.parameters.octave.val=n,c}return Yn(e,t),e.prototype.onChildTriggered=function(t,e){t instanceof Hn?this.parameters.gate.mod=t.modulationParams.gate[e%t.modulationParams.gate.length]:t instanceof Xn&&(this.parameters.repeats.mod=t.modulationParams.repeats)},e.prototype.onTriggered=function(e){t.prototype.onTriggered.call(this,e),this.parameters.repeats.mod=0},e}(Qn),ti=[[0,4,9],[0,3,7],[0,2,4,5,7,9,10]],ei=n(2),ni=n.n(ei);const ii=n(14);function ri(t){t&&ii.start(),ii.Master.mute=!t}const oi=new ii.Sampler({A0:"A0.[mp3|ogg]",C1:"C1.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]",A1:"A1.[mp3|ogg]",C2:"C2.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]",A2:"A2.[mp3|ogg]",C3:"C3.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]",A3:"A3.[mp3|ogg]",C4:"C4.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]",A4:"A4.[mp3|ogg]",C5:"C5.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",A5:"A5.[mp3|ogg]",C6:"C6.[mp3|ogg]","D#6":"Ds6.[mp3|ogg]","F#6":"Fs6.[mp3|ogg]",A6:"A6.[mp3|ogg]",C7:"C7.[mp3|ogg]","D#7":"Ds7.[mp3|ogg]","F#7":"Fs7.[mp3|ogg]",A7:"A7.[mp3|ogg]",C8:"C8.[mp3|ogg]"},{release:1,baseUrl:"./assets/samples/"}).toMaster();var ai=n(10),si=512,ui=512,li=.7;window.addEventListener("load",(function(){var t=!1,e=document.getElementById("button-sound");e.innerHTML="Sound off",e.addEventListener("click",(function(){ri(t=!t),e.innerHTML=t?"Sound on":"Sound off"})),ri(!1),document.getElementById("button-randomize").addEventListener("click",(function(){fi.restart()}))}));var fi=function(){var t=new o({width:si,height:ui}),e=new Ln({x:t.width/2,y:t.height/2,scale:Math.min(t.width,t.height)/2}),n=new Jn({x:0,y:0,scale:li,type:On.MIDI,noteTriggerCallback:function(t,e){console.log(["play note",Un.fromInt(t.note.sum)+t.octave.sum]),i.loaded&&i.triggerAttack(Un.fromInt(t.note.sum)+t.octave.sum)}}),i=oi;e.addChild(n);var a={};function s(){n.clear(),a={bpm:ni.a.range(10,60),numberOfNotes:ni.a.range(4,20),scale:ni.a.pick(ti),transpose:ni.a.rangeFloor(12),colors:ni.a.pick(ai)},r.a.range(a.numberOfNotes).forEach((function(){var t=ni.a.rangeFloor(a.scale.length),e=(a.scale[t]+a.transpose)%12;n.addChild(new Kn({note:Un.fromInt(e),octave:ni.a.rangeFloor(2,6),distance:ni.a.pick([1,.5,1/4]),phase:ni.a.rangeFloor(0,8)/8,fill:a.colors[t%a.colors.length]}))}))}return{start:function(){s(),function i(r,o){void 0===r&&(r=0),void 0===o&&(o=0);var s=t.renderer;s.resetTransform(),s.lineWidth=1/t.width,s.globalAlpha=1,s.fillStyle="white",s.fillRect(0,0,t.width,t.height),n.update(o,a.bpm||0),n.drawConnections(t,.2),e.draw(t),requestAnimationFrame((function(t){return i(t,(t-r)/1e3)}))}()},restart:function(){s()}}}();fi.start()}]);